(function(config){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).AMap=factory()}(this,function(){"use strict";delete globalThis.AMapKey;var shared,worker,AMap;function define(_,chunk){var factory,workerUrl;shared?worker?(workerUrl='var sharedChunk = {key:"'+config[0]+'",db:"'+(config[14]||"")+'",nebulaVersion:"'+(config[15]||"")+'",movingDraw:'+Boolean(window.movingDraw)+',host:"'+config[2]+'",}; ('+shared+")(sharedChunk); ("+worker+")(sharedChunk);",factory={key:config[0],movingDraw:window.movingDraw},shared(factory),factory=chunk(factory),workerUrl="undefined"!=typeof URL?window.URL.createObjectURL(new Blob([workerUrl],{type:"text/javascript"})):"",(AMap=factory(config)).getConfig().workerUrl=workerUrl):worker=chunk:shared=chunk}define(["exports"],function(exports){var extend=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n,i,a=Array.prototype.slice.call(arguments,1),o=0,s=a.length;o<s;o+=1)for(var u in n=a[o]||{})n.hasOwnProperty(u)&&("function"==typeof(i=n[u])&&t.prototype?t.prototype[u]=i:t[u]=i);return t};function isBrowser(){return"undefined"!=typeof window&&"undefined"!=typeof document}function isWasmSuppport(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate&&TextDecoder&&TextEncoder){var t=new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0]));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}return!1}var testWepP=function(t){var e=new Image;e.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA",e.onload=e.onerror=function(){t(2===e.height)}};function isWorkerEnv(){try{return document,!1}catch(t){return!0}}function getSupport(e){var t={runSupport:(new Date).getTime()},r=isWasmSuppport(),n=navigator.userAgent.toLowerCase(),a=!0,o=(i=function(t){return-1!==n.indexOf(t)})("macintosh"),s=i("ipad;")||i("ipad "),u=i("ipod touch;"),c=i("iphone;")||i("iphone "),f=c||s||u,l=(o||f)&&i("safari")&&i("version/"),h=i("macwechat"),d=i("windowswechat"),v={touch:!1,mac:o,Ue:!1,webkit:!1,$e:!1,scale:1,android:!1,DW:isWorkerEnv(),wasm:r,safari:l,AQ:h,gQ:d,amapRunTime:t};if(isBrowser()){var g=window,p=(b=document).documentElement,m=/([a-z0-9]*\d+[a-z0-9]*)/,y="google swiftshader;microsoft basic render driver;vmware svga 3d;Intel 965GM;Intel B43;Intel G41;Intel G45;Intel G965;Intel GMA 3600;Intel Mobile 4;Intel Mobile 45;Intel Mobile 965".split(";"),T="ActiveXObject"in g,x=0!=window.detectRetina&&("devicePixelRatio"in g&&1<g.devicePixelRatio||T&&"matchMedia"in g&&g.matchMedia("(min-resolution:144dpi)")&&g.matchMedia("(min-resolution:144dpi)").matches),w=i("windows nt"),A=(n.search(/windows nt [1-5]\./),n.search(/windows nt 5\.[12]/),i("windows nt 10"),i("windows phone")),M=i("Mb2345Browser"),S=(f&&n.search(/ os [456]_/),f&&n.search(/ os [4-8]_/),f&&n.search(/ os [78]_/),f&&i("os 8_"),f&&i("os 10_")),P=i("android"),I=0;P&&(I=parseInt(n.split("android")[1])||0);var $=P&&I<4,C=(P&&5<=I||n.search(/android 4.4/),P?"android":f?"ios":w?"windows":o?"mac":"other"),k=T&&!g.XMLHttpRequest,N=T&&!b.querySelector,L=T&&!b.addEventListener,O=T&&i("msie 9"),_=T&&i("msie 10"),E=T&&i("rv:11"),U=L||O,R=i("edge"),j=(i("qtweb"),i("ucbrowser")),D=i("alipay")||P&&j,F=(i("miuibrowser"),i("micromessenger")),B=i("dingtalk"),G=i("mqqbrowser"),z=i("baidubrowser"),V=i("crios/"),H=i("chrome/"),W=!((H||V)&&i("chromium"))&&(H&&30<parseInt(n.split("chrome/")[1])||V&&30<parseInt(n.split("crios/")[1])),q=i("firefox"),X=q&&27<parseInt(n.split("firefox/")[1]),Y=l&&7<parseInt(n.split("version/")[1]),K=(f&&i("aliapp"),P||f||A||i("mobile")),Z="ontouchstart"in b,J=g.navigator&&g.navigator.msPointerEnabled&&!!g.navigator.msMaxTouchPoints,Q=g.navigator&&!!g.navigator.maxTouchPoints,tt=!Z&&(Q||J),et=Z||tt,u=function(){if(!K)return g.devicePixelRatio||1;var t=document.getElementsByTagName("meta");if(window.parent&&window.parent!==window)try{if(window.parent.location.origin!==window.location.origin)return 1;t=window.parent.document.getElementsByTagName("meta")}catch(t){return 1}for(var e=t.length-1;0<=e;--e)if("viewport"===t[e].name){var i,a,r=t[e].content,n=void 0;return-1!==r.indexOf("initial-scale")&&(n=parseFloat(r.split("initial-scale=")[1])),i=-1!==r.indexOf("minimum-scale")?parseFloat(r.split("minimum-scale=")[1]):0,a=-1!==r.indexOf("maximum-scale")?parseFloat(r.split("maximum-scale=")[1]):1/0,n?i<=a?a<n?a:n<i?i:n:(console&&console.log&&console.log("viewport参数不合法"),null):i<=a?1<=i?1:Math.min(a,1):(console&&console.log&&console.log("viewport参数不合法"),null)}}(),rt=x&&(!K||!!u&&1<=u),h=T&&"transition"in p.style,d=!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,nt=b.createElement("canvas"),it=!(!nt||!nt.getContext),I=window.URL||window.webkitURL,at=!0!==window.disableWorker&&!T&&!(j&&P&&!W)&&window.Worker&&I&&I.createObjectURL&&window.Blob,ot="",st="",ut=0,V=0!=window.higtQualityRender||!x,A=window.movingDraw,ct={alpha:!0,antialias:V,depth:!0,stencil:!0},b=(Z=function(){if(!it||!at)return!1;for(var t=["webgl","experimental-webgl","moz-webgl"],e=null,r=0;r<t.length;r+=1){try{e=nt.getContext(t[r],ct)}catch(t){}if(e){if(e.drawingBufferWidth!==nt.width||e.drawingBufferHeight!==nt.height)return!1;if(!e.getShaderPrecisionFormat||!e.getParameter||!e.getExtension)return!1;ut=e.getParameter(e.MAX_RENDERBUFFER_SIZE);var n=e.getParameter(e.MAX_VIEWPORT_DIMS);if(!n)return!1;if(ut=Math.min(ut,n[0],n[1]),l&&"mac"==C&&(ut=Math.min(ut,4096)),n=Math.max(screen.width,screen.height),rt&&(n*=Math.min(2,window.devicePixelRatio||1)),ut<n)return!1;if(e.getShaderPrecisionFormat(35632,36338).precision<23||e.getShaderPrecisionFormat(35633,36338).precision<23)return!1;if(n=function(t){if(!t)return null;var e=null;if(0<=(t=(t=(r=(t=t.toLowerCase()).match(/angle \((.*)\)/))?(t=r[1]).replace(/\s*direct3d.*$/,""):t).replace(/\s*\([^\)]*wddm[^\)]*\)/,"")).indexOf("intel"))return e=["Intel"],0<=t.indexOf("mobile")&&e.push("Mobile"),(0<=t.indexOf("gma")||0<=t.indexOf("graphics media accelerator"))&&e.push("GMA"),0<=t.indexOf("haswell")?e.push("Haswell"):0<=t.indexOf("ivy")?e.push("HD 4000"):0<=t.indexOf("sandy")?e.push("HD 3000"):0<=t.indexOf("ironlake")?e.push("HD"):(0<=t.indexOf("hd")&&e.push("HD"),(n=t.match(m))&&e.push(n[1].toUpperCase())),e.join(" ");if(0<=t.indexOf("nvidia")||0<=t.indexOf("quadro")||0<=t.indexOf("geforce")||0<=t.indexOf("nvs"))return e=["nVidia"],0<=t.indexOf("geforce")&&e.push("geForce"),0<=t.indexOf("quadro")&&e.push("Quadro"),0<=t.indexOf("nvs")&&e.push("NVS"),t.match(/\bion\b/)&&e.push("ION"),t.match(/gtx\b/)?e.push("GTX"):t.match(/gts\b/)?e.push("GTS"):t.match(/gt\b/)?e.push("GT"):t.match(/gs\b/)?e.push("GS"):t.match(/ge\b/)?e.push("GE"):t.match(/fx\b/)&&e.push("FX"),(n=t.match(m))&&e.push(n[1].toUpperCase().replace("GS","")),0<=t.indexOf("titan")?e.push("TITAN"):0<=t.indexOf("ti")&&e.push("Ti"),e.join(" ");if(0<=t.indexOf("amd")||0<=t.indexOf("ati")||0<=t.indexOf("radeon")||0<=t.indexOf("firegl")||0<=t.indexOf("firepro")){var n,r,e=["AMD"];return 0<=t.indexOf("mobil")&&e.push("Mobility"),0<=(r=t.indexOf("radeon"))&&e.push("Radeon"),0<=t.indexOf("firepro")?e.push("FirePro"):0<=t.indexOf("firegl")&&e.push("FireGL"),0<=t.indexOf("hd")&&e.push("HD"),(n=(t=0<=r?t.substring(r):t).match(m))&&e.push(n[1].toUpperCase().replace("HD","")),e.join(" ")}return t.substring(0,100)}(st=e.getExtension("WEBGL_debug_renderer_info")?e.getParameter(37446):null)){if(-1<n.indexOf("google swiftshader"))return a=!1;if(-1!==y.indexOf(n))return!1}return ot=t[r],!0}}return!1})(),I=void 0===e[8]||e[8],V=window.Uint8Array&&I&&!window.forbidenWebGL&&b&&(window.forceWebGL||(W||X||Y||R||F||B)&&"other"!=C),b=window.forceWebGLBaseRender||V?"w":"d",W=i("webkit"),X="WebKitCSSMatrix"in g&&"m11"in new window.WebKitCSSMatrix,Y="MozPerspective"in p.style,B="vV"in p.style,i=h||X||Y||B,p=void 0!==e[12]?e[12]:null,e=!0;try{void 0===g.localStorage?e=!1:(ft=(new Date).getTime()+"",g.localStorage.setItem("_test",ft),g.localStorage.getItem("_test")!==ft&&(e=!1),g.localStorage.removeItem("_test"))}catch(t){e=!1}var ft=parseInt(n.split("chrome/")[1]),v={iPad:s,iPhone:c,size:c?100:P?200:500,mac:o,windows:w,ios:f,uT:S,android:P,android23:$,cT:D,plat:C,baidu:z,qq:G,safari:l,wechat:F,ie:T,ie6:k,ie7:N,ie9:O,ie10:_,ielt9:L,fT:U,ie11:E,edge:R,hT:T&&!E,lT:M,RL:e,vT:p,geolocation:K||T&&!L||R,SL:j,uc:j&&!H,chrome:H,gT:!0,firefox:q,hardwareAccEnabled:a,$e:K,mobileWebkit:K&&W,mobileWebkit3d:K&&X,mobileOpera:K&&g.opera,Ue:x,bT:u,Mr:rt,touch:et,msPointer:J,pointer:Q,yT:tt,pT:H&&57<=ft,mT:!K&&H&&64<=ft,webkit:W,ie3d:h,webkit3d:X,gecko3d:Y,opera3d:B,any3d:i,isSvg:d,isCanvas:it,isWorker:at,TT:!1,isWebGL:V,AT:ot,xT:ct,ST:st,wT:ut,MT:!1,movingDraw:A,baseRender:I?b:"d",scale:x?2:1,getContext:function(t,e){var r={};return extend(r,ct),extend(r,e),t.getContext(ot,r)},mH:!1,wasm:r,amapRunTime:t,sY:Z};testWepP(function(t){v.mH=t})}return v}var Browser=getSupport("undefined"==typeof config?[]:config);"undefined"!=typeof createImageBitmap&&"undefined"!=typeof ImageBitmap&&(Browser.imageBitmap=!0);var canceledWorkerFetch=Boolean(Browser.DW?!Browser.safari&&!Browser.AQ&&!Browser.gQ&&self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"):!Browser.safari&&!Browser.AQ&&!Browser.gQ&&window.fetch&&window.Request&&window.AbortController&&window.Request.prototype.hasOwnProperty("signal"));Browser.LZ=canceledWorkerFetch,Browser.amapRunTime={workerTime:{}};var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol=root.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;function getRawTag(t){var e=hasOwnProperty.call(t,symToStringTag),r=t[symToStringTag];try{var n=!(t[symToStringTag]=void 0)}catch(t){}var i=nativeObjectToString.call(t);return n&&(e?t[symToStringTag]=r:delete t[symToStringTag]),i}var objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(t){return nativeObjectToString$1.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=Symbol?Symbol.toStringTag:void 0;function baseGetTag(t){return null==t?void 0===t?undefinedTag:nullTag:(symToStringTag$1&&symToStringTag$1 in Object(t)?getRawTag:objectToString)(t)}function isObjectLike(t){return null!=t&&"object"==typeof t}var symbolTag="[object Symbol]";function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&baseGetTag(t)==symbolTag}function arrayMap(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var isArray=Array.isArray,INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(t){if("string"==typeof t)return t;if(isArray(t))return arrayMap(t,baseToString)+"";if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return"0"==e&&1/t==-INFINITY?"-0":e}var reWhitespace=/\s/;function trimmedEndIndex(t){for(var e=t.length;e--&&reWhitespace.test(t.charAt(e)););return e}var reTrimStart=/^\s+/;function baseTrim(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return NAN;if("string"!=typeof(t=isObject(t)?isObject(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e:t))return 0===t?t:+t;t=baseTrim(t);var e=reIsBinary.test(t);return e||reIsOctal.test(t)?freeParseInt(t.slice(2),e?2:8):reIsBadHex.test(t)?NAN:+t}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(t){return t?(t=toNumber(t))!==INFINITY$1&&t!==-INFINITY$1?t==t?t:0:(t<0?-1:1)*MAX_INTEGER:0===t?t:0}function toInteger(t){var e=toFinite(t),t=e%1;return e==e?t?e-t:e:0}function identity(t){return t}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(t){return!!isObject(t)&&((t=baseGetTag(t))==funcTag||t==genTag||t==asyncTag||t==proxyTag)}var coreJsData=root["__core-js_shared__"],maskSrcKey=(Ab=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.Xb||""),Ab?"Symbol(src)_1."+Ab:""),Ab;function isMasked(t){return maskSrcKey&&maskSrcKey in t}var funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(t){if(null!=t){try{return funcToString.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){return isObject(t)&&!isMasked(t)&&(isFunction(t)?reIsNative:reIsHostCtor).test(toSource(t))}function getValue(t,e){return null==t?void 0:t[e]}function getNative(t,e){return baseIsNative(e=getValue(t,e))?e:void 0}var WeakMap=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(t){return isObject(t)?objectCreate?objectCreate(t):(Mb.prototype=t,t=new Mb,Mb.prototype=void 0,t):{}};function Mb(){}function apply(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function copyArray(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(r){var n=0,i=0;return function(){var t=nativeNow(),e=HOT_SPAN-(t-i);if(i=t,0<e){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}function constant(t){return function(){return t}}var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),baseSetToString=defineProperty?function(t,e){return defineProperty(t,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function baseFindIndex(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,e){var r=typeof t;return!!(e=null==e?MAX_SAFE_INTEGER:e)&&("number"==r||"symbol"!=r&&reIsUint.test(t))&&-1<t&&t%1==0&&t<e}function baseAssignValue(t,e,r){"__proto__"==e&&defineProperty?defineProperty(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function eq(t,e){return t===e||t!=t&&e!=e}var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function assignValue(t,e,r){var n=t[e];hasOwnProperty$2.call(t,e)&&eq(n,r)&&(void 0!==r||e in t)||baseAssignValue(t,e,r)}function copyObject(t,e,r,n){var i=!r;r=r||{};for(var a=-1,o=e.length;++a<o;){var s=e[a],u=n?n(r[s],t[s],s,r,t):void 0;(i?baseAssignValue:assignValue)(r,s,u=void 0===u?t[s]:u)}return r}var nativeMax=Math.max;function overRest(a,o,s){return o=nativeMax(void 0===o?a.length-1:o,0),function(){for(var t=arguments,e=-1,r=nativeMax(t.length-o,0),n=Array(r);++e<r;)n[e]=t[o+e];for(var e=-1,i=Array(o+1);++e<o;)i[e]=t[e];return i[o]=s(n),apply(a,this,i)}}function baseRest(t,e){return setToString(overRest(t,e,identity),t+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=MAX_SAFE_INTEGER$1}function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isIterateeCall(t,e,r){if(isObject(r)){var n=typeof e;return("number"==n?isArrayLike(r)&&isIndex(e,r.length):"string"==n&&e in r)&&eq(r[e],t)}}function createAssigner(s){return baseRest(function(t,e){var r=-1,n=e.length,i=1<n?e[n-1]:void 0,a=2<n?e[2]:void 0,i=3<s.length&&"function"==typeof i?(n--,i):void 0;for(a&&isIterateeCall(e[0],e[1],a)&&(i=n<3?void 0:i,n=1),t=Object(t);++r<n;){var o=e[r];o&&s(t,o,r,i)}return t})}var objectProto$4=Object.prototype;function isPrototype(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||objectProto$4)}function baseTimes(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var argsTag="[object Arguments]";function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==argsTag}var objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&hasOwnProperty$3.call(t,"callee")&&!propertyIsEnumerable.call(t,"callee")};function stubFalse(){return!1}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Zb:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag(t)]}function baseUnary(e){return function(t){return e(t)}}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var t=freeModule$1&&freeModule$1.Qb&&freeModule$1.Qb("util").types;return t||freeProcess&&freeProcess.tg&&freeProcess.tg("util")}catch(t){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.rg,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty;function arrayLikeKeys(t,e){var r,n=isArray(t),i=!n&&isArguments(t),a=!n&&!i&&isBuffer(t),o=!n&&!i&&!a&&isTypedArray(t),s=n||i||a||o,u=s?baseTimes(t.length,String):[],c=u.length;for(r in t)!e&&!hasOwnProperty$4.call(t,r)||s&&("length"==r||a&&("offset"==r||"parent"==r)||o&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||isIndex(r,c))||u.push(r);return u}function overArg(e,r){return function(t){return e(r(t))}}var nativeKeys=overArg(Object.keys,Object),objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys(t);var e,r=[];for(e in Object(t))hasOwnProperty$5.call(t,e)&&"constructor"!=e&&r.push(e);return r}function keys(t){return(isArrayLike(t)?arrayLikeKeys:baseKeys)(t)}var objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty,assign=createAssigner(function(t,e){if(isPrototype(e)||isArrayLike(e))copyObject(e,keys(e),t);else for(var r in e)hasOwnProperty$6.call(e,r)&&assignValue(t,r,e[r])});function nativeKeysIn(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}var objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeysIn(t){if(!isObject(t))return nativeKeysIn(t);var e,r=isPrototype(t),n=[];for(e in t)("constructor"!=e||!r&&hasOwnProperty$7.call(t,e))&&n.push(e);return n}function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,e){if(!isArray(t)){var r=typeof t;return"number"==r||"symbol"==r||"boolean"==r||null==t||isSymbol(t)||reIsPlainProp.test(t)||!reIsDeepProp.test(t)||null!=e&&t in Object(e)}}var nativeCreate=getNative(Object,"create");function hashClear(){this.ng=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(t){return t=this.has(t)&&delete this.ng[t],this.size-=t?1:0,t}var HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function hashGet(t){var e=this.ng;if(nativeCreate){var r=e[t];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty$8.call(e,t)?e[t]:void 0}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function hashHas(t){var e=this.ng;return nativeCreate?void 0!==e[t]:hasOwnProperty$9.call(e,t)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,e){var r=this.ng;return this.size+=this.has(t)?0:1,r[t]=nativeCreate&&void 0===e?HASH_UNDEFINED$1:e,this}function Hash(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function listCacheClear(){this.ng=[],this.size=0}function assocIndexOf(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(t){var e=this.ng;return!((t=assocIndexOf(e,t))<0||(t==e.length-1?e.pop():splice.call(e,t,1),--this.size,0))}function listCacheGet(t){var e=this.ng;return(t=assocIndexOf(e,t))<0?void 0:e[t][1]}function listCacheHas(t){return-1<assocIndexOf(this.ng,t)}function listCacheSet(t,e){var r=this.ng,n=assocIndexOf(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function ListCache(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map=getNative(root,"Map");function mapCacheClear(){this.size=0,this.ng={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function getMapData(t,e){return t=t.ng,isKeyable(e)?t["string"==typeof e?"string":"hash"]:t.map}function mapCacheDelete(t){return t=getMapData(this,t).delete(t),this.size-=t?1:0,t}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,e){var r=getMapData(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function MapCache(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(n,i){if("function"!=typeof n||null!=i&&"function"!=typeof i)throw new TypeError(FUNC_ERROR_TEXT);function a(){var t=arguments,e=i?i.apply(this,t):t[0],r=a.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),a.cache=r.set(e,t)||r,t)}return a.cache=new(memoize.Cache||MapCache),a}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var e=(t=memoize(t,function(t){return e.size===MAX_MEMOIZE_SIZE&&e.clear(),t})).cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(rePropName,function(t,e,r,n){i.push(r?n.replace(reEscapeChar,"$1"):e||t)}),i});function toString(t){return null==t?"":baseToString(t)}function castPath(t,e){return isArray(t)?t:isKey(t,e)?[t]:stringToPath(toString(t))}var INFINITY$2=1/0;function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-INFINITY$2?"-0":e}function baseGet(t,e){for(var r=0,n=(e=castPath(e,t)).length;null!=t&&r<n;)t=t[toKey(e[r++])];return r&&r==n?t:void 0}function get(t,e,r){return void 0===(e=null==t?void 0:baseGet(t,e))?r:e}function arrayPush(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var getPrototype=overArg(Object.getPrototypeOf,Object);function stackClear(){this.ng=new ListCache,this.size=0}function stackDelete(t){var e=this.ng,t=e.delete(t);return this.size=e.size,t}function stackGet(t){return this.ng.get(t)}function stackHas(t){return this.ng.has(t)}var LARGE_ARRAY_SIZE=200;function stackSet(t,e){var r=this.ng;if(r instanceof ListCache){var n=r.ng;if(!Map||n.length<LARGE_ARRAY_SIZE-1)return n.push([t,e]),this.size=++r.size,this;r=this.ng=new MapCache(n)}return r.set(t,e),this.size=r.size,this}function Stack(t){t=this.ng=new ListCache(t),this.size=t.size}function baseAssign(t,e){return t&&copyObject(e,keys(e),t)}function baseAssignIn(t,e){return t&&copyObject(e,keysIn(e),t)}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var freeExports$2="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Zb:void 0,allocUnsafe=Buffer$1?Buffer$1.ig:void 0;function cloneBuffer(t,e){return e?t.slice():(e=t.length,e=allocUnsafe?allocUnsafe(e):new t.constructor(e),t.eg(e),e)}function arrayFilter(t,e){for(var r=-1,n=null==t?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function stubArray(){return[]}var objectProto$c=Object.prototype,propertyIsEnumerable$1=objectProto$c.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable$1.call(e,t)}))}:stubArray;function copySymbols(t,e){return copyObject(t,getSymbols(t),e)}var nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$1?function(t){for(var e=[];t;)arrayPush(e,getSymbols(t)),t=getPrototype(t);return e}:stubArray;function copySymbolsIn(t,e){return copyObject(t,getSymbolsIn(t),e)}function baseGetAllKeys(t,e,r){return e=e(t),isArray(t)?e:arrayPush(e,r(t))}function getAllKeys(t){return baseGetAllKeys(t,keys,getSymbols)}function getAllKeysIn(t){return baseGetAllKeys(t,keysIn,getSymbolsIn)}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$1||Map&&getTag(new Map)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag$1)&&(getTag=function(t){var e=baseGetTag(t);if(t=(t=e==objectTag$1?t.constructor:void 0)?toSource(t):"")switch(t){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return e});var getTag$1=getTag,objectProto$d=Object.prototype,hasOwnProperty$a=objectProto$d.hasOwnProperty;function initCloneArray(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&hasOwnProperty$a.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(t)),e}function cloneDataView(t,e){return e=e?cloneArrayBuffer(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength)}var reFlags=/\w*$/;function cloneRegExp(t){var e=new t.constructor(t.source,reFlags.exec(t));return e.lastIndex=t.lastIndex,e}var symbolProto$1=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(t){return symbolValueOf?Object(symbolValueOf.call(t)):{}}function cloneTypedArray(t,e){return e=e?cloneArrayBuffer(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(t,e,r){var n=t.constructor;switch(e){case arrayBufferTag$1:return cloneArrayBuffer(t);case boolTag$1:case dateTag$1:return new n(+t);case dataViewTag$2:return cloneDataView(t,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(t,r);case mapTag$2:return new n;case numberTag$1:case stringTag$1:return new n(t);case regexpTag$1:return cloneRegExp(t);case setTag$2:return new n;case symbolTag$1:return cloneSymbol(t)}}function initCloneObject(t){return"function"!=typeof t.constructor||isPrototype(t)?{}:baseCreate(getPrototype(t))}var mapTag$3="[object Map]";function baseIsMap(t){return isObjectLike(t)&&getTag$1(t)==mapTag$3}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$3="[object Set]";function baseIsSet(t){return isObjectLike(t)&&getTag$1(t)==setTag$3}var nodeIsSet=nodeUtil&&nodeUtil.og,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$2="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",cloneableTags={};function baseClone(r,n,i,t,e,a){var o,s=n&CLONE_DEEP_FLAG,u=n&CLONE_FLAT_FLAG,c=n&CLONE_SYMBOLS_FLAG;if(void 0!==(o=i?e?i(r,t,e,a):i(r):o))return o;if(!isObject(r))return r;var f=isArray(r);if(f){if(o=initCloneArray(r),!s)return copyArray(r,o)}else{var l=getTag$1(r),t=l==funcTag$2||l==genTag$1;if(isBuffer(r))return cloneBuffer(r,s);if(l==objectTag$2||l==argsTag$2||t&&!e){if(o=u||t?{}:initCloneObject(r),!s)return u?copySymbolsIn(r,baseAssignIn(o,r)):copySymbols(r,baseAssign(o,r))}else{if(!cloneableTags[l])return e?r:{};o=initCloneByTag(r,l,s)}}if(s=(a=a||new Stack).get(r))return s;a.set(r,o),isSet(r)?r.forEach(function(t){o.add(baseClone(t,n,i,t,r,a))}):isMap(r)&&r.forEach(function(t,e){o.set(e,baseClone(t,n,i,e,r,a))});var h=f?void 0:(c?u?getAllKeysIn:getAllKeys:u?keysIn:keys)(r);return arrayEach(h||r,function(t,e){h&&(t=r[e=t]),assignValue(o,e,baseClone(t,n,i,e,r,a))}),o}cloneableTags[argsTag$2]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$2]=cloneableTags[dataViewTag$3]=cloneableTags[boolTag$2]=cloneableTags[dateTag$2]=cloneableTags[float32Tag$2]=cloneableTags[float64Tag$2]=cloneableTags[int8Tag$2]=cloneableTags[int16Tag$2]=cloneableTags[int32Tag$2]=cloneableTags[mapTag$4]=cloneableTags[numberTag$2]=cloneableTags[objectTag$2]=cloneableTags[regexpTag$2]=cloneableTags[setTag$4]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$2]=cloneableTags[uint8Tag$2]=cloneableTags[uint8ClampedTag$2]=cloneableTags[uint16Tag$2]=cloneableTags[uint32Tag$2]=!0,cloneableTags[errorTag$1]=cloneableTags[funcTag$2]=cloneableTags[weakMapTag$2]=!1;var CLONE_SYMBOLS_FLAG$1=4;function clone(t){return baseClone(t,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$2=4;function cloneDeep(t){return baseClone(t,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$2)}var HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(t){return this.ng.set(t,HASH_UNDEFINED$2),this}function setCacheHas(t){return this.ng.has(t)}function SetCache(t){var e=-1,r=null==t?0:t.length;for(this.ng=new MapCache;++e<r;)this.add(t[e])}function arraySome(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function cacheHas(t,e){return t.has(e)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(t,e,r,n,i,a){var o=r&COMPARE_PARTIAL_FLAG,s=t.length;if(s!=(u=e.length)&&!(o&&s<u))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var f=-1,l=!0,h=r&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var d,v=t[f],g=e[f];if(void 0!==(d=n?o?n(g,v,f,e,t,a):n(v,g,f,t,e,a):d)){if(d)continue;l=!1;break}if(h){if(!arraySome(e,function(t,e){if(!cacheHas(h,e)&&(v===t||i(v,t,r,n,a)))return h.push(e)})){l=!1;break}}else if(v!==g&&!i(v,g,r,n,a)){l=!1;break}}return a.delete(t),a.delete(e),l}function mapToArray(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function setToArray(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol?Symbol.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(t,e,r,n,i,a,o){switch(r){case dataViewTag$4:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag$3:return!(t.byteLength!=e.byteLength||!a(new Uint8Array$1(t),new Uint8Array$1(e)));case boolTag$3:case dateTag$3:case numberTag$3:return eq(+t,+e);case errorTag$2:return t.name==e.name&&t.message==e.message;case regexpTag$3:case stringTag$3:return t==e+"";case mapTag$5:var s=mapToArray;case setTag$5:if(s=s||setToArray,t.size!=e.size&&!(n&COMPARE_PARTIAL_FLAG$1))return!1;var u=o.get(t);return u?u==e:(n|=COMPARE_UNORDERED_FLAG$1,o.set(t,e),s=equalArrays(s(t),s(e),n,i,a,o),o.delete(t),s);case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(t)==symbolValueOf$1.call(e)}return!1}var COMPARE_PARTIAL_FLAG$2=1,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty;function equalObjects(t,e,r,n,i,a){var o=r&COMPARE_PARTIAL_FLAG$2,s=getAllKeys(t),u=s.length;if(u!=getAllKeys(e).length&&!o)return!1;for(var c=u;c--;){var f=s[c];if(!(o?f in e:hasOwnProperty$b.call(e,f)))return!1}var l=a.get(t),h=a.get(e);if(l&&h)return l==e&&h==t;var d=!0;a.set(t,e),a.set(e,t);for(var v=o;++c<u;){var g,b=t[f=s[c]],p=e[f];if(!(void 0===(g=n?o?n(p,b,f,e,t,a):n(b,p,f,t,e,a):g)?b===p||i(b,p,r,n,a):g)){d=!1;break}v=v||"constructor"==f}return!d||v||(l=t.constructor)!=(h=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof l&&l instanceof l&&"function"==typeof h&&h instanceof h)&&(d=!1),a.delete(t),a.delete(e),d}var COMPARE_PARTIAL_FLAG$3=1,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",objectTag$3="[object Object]",objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty;function baseIsEqualDeep(t,e,r,n,i,a){var o=isArray(t),s=isArray(e),u=o?arrayTag$2:getTag$1(t),c=s?arrayTag$2:getTag$1(e),f=(u=u==argsTag$3?objectTag$3:u)==objectTag$3,s=(c=c==argsTag$3?objectTag$3:c)==objectTag$3;if((c=u==c)&&isBuffer(t)){if(!isBuffer(e))return!1;f=!(o=!0)}return c&&!f?(a=a||new Stack,o||isTypedArray(t)?equalArrays(t,e,r,n,i,a):equalByTag(t,e,u,r,n,i,a)):r&COMPARE_PARTIAL_FLAG$3||(f=f&&hasOwnProperty$c.call(t,"__wrapped__"),s=s&&hasOwnProperty$c.call(e,"__wrapped__"),!f&&!s)?!!c&&equalObjects(t,e,r,n,i,a=a||new Stack):i(f?t.value():t,s?e.value():e,r,n,a=a||new Stack)}function baseIsEqual(t,e,r,n,i){return t===e||(null==t||null==e||!isObjectLike(t)&&!isObjectLike(e)?t!=t&&e!=e:baseIsEqualDeep(t,e,r,n,baseIsEqual,i))}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(t,e,r,n){var i=r.length,a=i,o=!n;if(null==t)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var u=(s=r[i])[0],c=t[u],f=s[1];if(o&&s[2]){if(void 0===c&&!(u in t))return!1}else{var l,h=new Stack;if(!(void 0===(l=n?n(c,f,u,t,e,h):l)?baseIsEqual(f,c,COMPARE_PARTIAL_FLAG$4|COMPARE_UNORDERED_FLAG$2,n,h):l))return!1}}return!0}function isStrictComparable(t){return t==t&&!isObject(t)}function getMatchData(t){for(var e=keys(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,isStrictComparable(i)]}return e}function matchesStrictComparable(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}}function baseMatches(e){var r=getMatchData(e);return 1==r.length&&r[0][2]?matchesStrictComparable(r[0][0],r[0][1]):function(t){return t===e||baseIsMatch(t,e,r)}}function baseHasIn(t,e){return null!=t&&e in Object(t)}function hasPath(t,e,r){for(var n=-1,i=(e=castPath(e,t)).length,a=!1;++n<i;){var o=toKey(e[n]);if(!(a=null!=t&&r(t,o)))break;t=t[o]}return a||++n!=i?a:!!(i=null==t?0:t.length)&&isLength(i)&&isIndex(o,i)&&(isArray(t)||isArguments(t))}function hasIn(t,e){return null!=t&&hasPath(t,e,baseHasIn)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function baseMatchesProperty(r,n){return isKey(r)&&isStrictComparable(n)?matchesStrictComparable(toKey(r),n):function(t){var e=get(t,r);return void 0===e&&e===n?hasIn(t,r):baseIsEqual(n,e,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function property(t){return isKey(t)?baseProperty(toKey(t)):basePropertyDeep(t)}function baseIteratee(t){return"function"==typeof t?t:null==t?identity:"object"==typeof t?isArray(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function createBaseFor(u){return function(t,e,r){for(var n=-1,i=Object(t),a=r(t),o=a.length;o--;){var s=a[u?o:++n];if(!1===e(i[s],s,i))break}return t}}var baseFor=createBaseFor();function baseForOwn(t,e){return t&&baseFor(t,e,keys)}function createBaseEach(a,o){return function(t,e){if(null==t)return t;if(!isArrayLike(t))return a(t,e);for(var r=t.length,n=o?r:-1,i=Object(t);(o?n--:++n<r)&&!1!==e(i[n],n,i););return t}}var baseEach=createBaseEach(baseForOwn);function castFunction(t){return"function"==typeof t?t:identity}function forEach(t,e){return(isArray(t)?arrayEach:baseEach)(t,castFunction(e))}function arrayEvery(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function baseEvery(t,n){var i=!0;return baseEach(t,function(t,e,r){return i=!!n(t,e,r)}),i}function every(t,e,r){return(isArray(t)?arrayEvery:baseEvery)(t,baseIteratee(e=r&&isIterateeCall(t,e,r)?void 0:e))}function baseFilter(t,n){var i=[];return baseEach(t,function(t,e,r){n(t,e,r)&&i.push(t)}),i}function filter(t,e){return(isArray(t)?arrayFilter:baseFilter)(t,baseIteratee(e))}function createFind(a){return function(t,e,r){var n,i=Object(t);return isArrayLike(t)||(n=baseIteratee(e),t=keys(t),e=function(t){return n(i[t],t,i)}),-1<(r=a(t,e,r))?i[n?t[r]:r]:void 0}}var nativeMax$1=Math.max;function findIndex(t,e,r){var n=null==t?0:t.length;return n?((r=null==r?0:toInteger(r))<0&&(r=nativeMax$1(n+r,0)),baseFindIndex(t,baseIteratee(e),r)):-1}var find=createFind(findIndex);function baseMap(t,n){var i=-1,a=isArrayLike(t)?Array(t.length):[];return baseEach(t,function(t,e,r){a[++i]=n(t,e,r)}),a}function map(t,e){return(isArray(t)?arrayMap:baseMap)(t,baseIteratee(e))}function forIn(t,e){return null==t?t:baseFor(t,castFunction(e),keysIn)}var mapTag$6="[object Map]",setTag$6="[object Set]",objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function isEmpty(t){if(null==t)return!0;if(isArrayLike(t)&&(isArray(t)||"string"==typeof t||"function"==typeof t.splice||isBuffer(t)||isTypedArray(t)||isArguments(t)))return!t.length;var e,r=getTag$1(t);if(r==mapTag$6||r==setTag$6)return!t.size;if(isPrototype(t))return!baseKeys(t).length;for(e in t)if(hasOwnProperty$d.call(t,e))return!1;return!0}function isEqual(t,e){return baseIsEqual(t,e)}function isUndefined(t){return void 0===t}function baseSome(t,n){var i;return baseEach(t,function(t,e,r){return!(i=n(t,e,r))}),!!i}function some(t,e,r){return(isArray(t)?arraySome:baseSome)(t,baseIteratee(e=r&&isIterateeCall(t,e,r)?void 0:e))}var projections={},Projection=(sg.prototype.moveWithPixel=function(t,e,r){var n=this.getResolution(r),r=e[0]*n,n=e[1]*n,t=this.project(t[0],t[1]);return this.unproject(t[0]+r,t[1]+n)},sg.prototype.moveWithPos=function(t,e){return e=[(t=this.project(t[0],t[1]))[0]+e[0],t[1]+e[1]],this.unproject(e[0],e[1])},sg);function sg(t,e,r,n){this.project=e,this.unproject=r,this.getResolution=n,projections[t]=this}var ProjectionManager={getProjection:function(t){return projections[t]}},LngLat=new Projection("EPSG:4326",function(t,e){return[t,e]},function(t,e){return[t,e]},function(t){return.703125/Math.pow(2,t)}),SphericalMercator=(Rg=Math.PI/180,Sg=180/Math.PI,Tg=6378137,new Projection("EPSG:3857",function(t,e){var r=85.0511287798;return e=Math.max(Math.min(r,e),-r),t*=Rg,e*=Rg,e=Math.log(Math.tan(Math.PI/4+e/2)),[t*Tg,e*Tg]},function(t,e){return[t/Tg*Sg,(2*Math.atan(Math.exp(e/Tg))-Math.PI/2)*Sg]},function(t){return 156543.03392804097/Math.pow(2,t)})),Rg,Sg,Tg,LCS=(g6.prototype.setMap=function(t){this.map=t},g6.prototype.getSize=function(){return[this.lg,this.dg]},g6.prototype.getNum=function(){return[this.cg,this.vg]},g6.prototype.getLocalByLnglat=function(t){var e,t=(e=ProjectionManager.getProjection("EPSG:3857")).project.apply(e,t);return this.getLocalByCoord(t)},g6.prototype.getLocalByCoord=function(t){var e=Math.floor(t[0]/this.lg),r=Math.floor(t[1]/this.dg),n=this.getLocalCenterByXY(e,r);return{Sa:[t[0]-n.center[0],t[1]-n.center[1]],x:e,y:r,center:n.center,Ro:n.Ro}},g6.prototype.getLocalCenterByXY=function(t,e){var r={x:t,y:e,center:[0,0],Ro:[0,0,0,0]};return r.center=[(t+.5)*this.lg,(e+.5)*this.dg],r.Ro=[t*this.lg,e*this.dg,(t+1)*this.lg,(e+1)*this.dg],r},g6.prototype.getDeltaCoord=function(t){var e=this.getLocalByCoord(t);return[t[0]-e.center[0],t[1]-e.center[1]]},g6);function g6(){this.hg=[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244],this.cg=128,this.vg=128,this.lg=(this.hg[2]-this.hg[0])/this.cg,this.dg=(this.hg[3]-this.hg[1])/this.vg}var lcs=new LCS,E4326=ProjectionManager.getProjection("EPSG:4326"),E3857=ProjectionManager.getProjection("EPSG:3857"),HALF_WORLD_SIZE=20037508.342789244,LngLat$1={Ro:[-180,-90,180,90],project:function(t,e,r){return e=E4326.project(t,e),this.transform(e[0],e[1],r)},unproject:function(t,e,r){return r=this.Xs(t,e,r),E4326.unproject(r[0],r[1])},transform:function(t,e,r){var n=void 0===r?180:256<<r,a=this.Ro[2]-this.Ro[0],r=this.Ro[3]-this.Ro[1];return[t=(t-this.Ro[0])/a*(2*n),e=n-(e-this.Ro[1])/r*n]},Xs:function(t,e,r){return[t=360*(t/(2*(r=void 0===r?180:256<<r))-.5),e=180*-(e/r-.5)]},nt:function(t,e,r){return this.Xs(t,e,r)},wu:function(t,e,r){return this.Xs(t,e,r)},yo:function(t,e,r){var n=0<t/this.Ro[3]?Math.abs(Math.floor(t/this.Ro[3])):Math.abs(Math.ceil(t/this.Ro[3])),i=0<e/this.Ro[3]?Math.abs(Math.floor(e/this.Ro[3])):Math.abs(Math.ceil(e/this.Ro[3])),a=t%this.Ro[3],o=e%this.Ro[3],o=this.transform(a,o,r);return t=this.wu(t,t,r)[0]*n+o[0],e=this.wu(e,e,r)[1]*i+o[1],[t-(r=this.transform(0,0,r))[0],e-r[1]]},Bb:function(t,e,r){return r.X(t,e)},qb:function(t,e,r){return r.H(t,e)},Gd:function(t,e,r,n){var i=n.X(t[0],t[1]);return[(r=n.X(t[0]+e,t[1]+r))[0]-i[0],r[1]-i[1]]}},SphericalMercator$1={Ro:[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244],project:function(t,e,r){return e=E3857.project(t,e),this.transform(e[0],e[1],r)},unproject:function(t,e,r){return r=this.Xs(t,e,r),E3857.unproject(r[0],r[1])},transform:function(t,e,r){t=Math.min(20037508.342789244,Math.max(t,-20037508.342789244)),e=Math.min(20037508.342789244,Math.max(e,-20037508.342789244));var n=void 0===r?40075016.68557849:256*Math.pow(2,r),i=this.Ro[2]-this.Ro[0],r=this.Ro[3]-this.Ro[1];return[t=(t-this.Ro[0])/i*n,e=n-(e-this.Ro[1])/r*n]},Xs:function(t,e,r){return[t=(t/(r=void 0===r?40075016.68557849:256*Math.pow(2,r))-.5)*this.Ro[2]*2,e=-(e/r-.5)*this.Ro[2]*2]},nt:function(t,e,r,n){return[t=this.Xs(t,e,r)[0]-this.Ro[0],e=this.Ro[2]-this.Xs(t,e,r)[1]]},wu:function(t,e,r,n){var i=n.center,a=n.size,n=(n.rotation||0)/180*Math.PI,e=(t=this.transform(t,e,r))[0],t=t[1],r=e-(i=this.transform(i[0],i[1],r))[0],e=t-i[1],t=Math.sqrt(Math.pow(r,2)+Math.pow(e,2)),i=0==e?Math.PI/2:Math.atan(Math.abs(r/e)),n=r*e<=0?i+n:i-n,e=0<e?1:-1;return[a[0]/2+t*Math.sin(0<r?n:-n),a[1]/2+t*Math.cos(n)*e]},yo:function(t,e,r,n){var i=0<t/this.Ro[3]?Math.abs(Math.floor(t/this.Ro[3])):Math.abs(Math.ceil(t/this.Ro[3])),a=0<e/this.Ro[3]?Math.abs(Math.floor(e/this.Ro[3])):Math.abs(Math.ceil(e/this.Ro[3])),o=t%this.Ro[3],s=e%this.Ro[3],o=this.transform(o,s,r),r=(s=this.transform(0,0,r))[0],s=s[1];return[(t=r*i+o[0])-r,(e=s*a+o[1])-s]},Bb:function(t,e,r){return r.X(t,e)},qb:function(t,e,r){return r.H(t,e)},Gd:function(t,e,r,n){var i=n.X(t[0],t[1]);return[(r=n.X(t[0]+e,t[1]+r))[0]-i[0],r[1]-i[1]]}},transform={"EPSG:4326":LngLat$1,"EPSG:3857":SphericalMercator$1},LocalZoom=13,LocalTileZoom=12,AMapStyleSource="",zoomRange=[2,26],CONSTS={ID:"__id__",Rp:zoomRange[1],Mp:zoomRange[0],jp:.8,Pp:.2,YM:5,KM:{dom:"div",id:"_amap_custom_labellayer_div_",className:"amap-layer",style:{cssText:"position:absolute;top:0;left:0;",zIndex:"",width:"",height:"",visible:""}},Dp:{Op:180,Ad:70,Td:360,t1:300,e1:30,Bd:Math.PI/10},XM:{top:3,right:3,bottom:3,left:3},JM:{ZM:"top",QM:"right",tj:"bottom",LEFT:"left",nj:"middle",ij:"center",ej:"alphabetic"},oj:{CLICK:"click",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",aj:"touchstart",uj:"touchend"},sj:{rank:1,angle:0,opacity:1,offset:[0,0],zooms:zoomRange,icon:{type:"image",image:"://visuallocal.amap.com/public/poi-marker.png",clipOrigin:[0,0],clipSize:[36,36],size:[36,36],anchor:"bottom-center",angel:0,retina:!0,zooms:zoomRange},text:{type:"billboard",direction:"top",offset:[0,0],zooms:zoomRange,style:{fj:6,fontFamily:"sans-serif",fontSize:12,fontWeight:"normal",fillColor:[0,0,0,1],strokeWidth:0,strokeColor:[.988,.988,.988,1],borderColor:"transparent",padding:[3,3,3,3],backgroundColor:""}}},hj:{cj:{opacity:.2},vj:"fadeIn",lj:"fadeOut",dj:{bj:"start",RUNNING:"running",pj:"complete"},yj:{mj:"opacity",gj:"size"}},_d:3,wj:"_AMap_sdf_com_words",Mj:128,pc:["://sdf.amap.com","://sdf01.amap.com","://sdf02.amap.com","://sdf03.amap.com","://sdf04.amap.com"],sp:4,Cd:.78125,Ld:205/256,Aj:{kj:"纹理加载失败，请重试",Oj:"资源加载失败，请重试"},xj:"bufferChanged",Ij:"frameBufferChanged",Tj:"combineFrameBufferChanged",ic:1,ud:13,Cj:12,Ej:"__icon_combination",Nj:"__text_combination",Lj:{file:{0:"://vdata.amap.com/style_icon/2.0/icon-normal-big.png",1:"://vdata.amap.com/style_icon/2.0/icon-biz-big.png"},size:[40,40],Rj:10},Kp:{buffer:3,family:"ios9",size:24},_n:{Uj:[0,0,0,1],Gp:[0,0,0,0]},gH:"sdf",RB:"sdfJson",FN:"version"},G7,G7=exports.n0||(exports.n0={});G7.nebula="nebula",G7.nebulaLabel="nebulaLabel";var DangerousFontSize=24,H7,H7=exports.cY||(exports.cY={});H7[H7.dynamic=0]="dynamic",H7[H7.icon=1]="icon";var EnumLabelFragType={icon:0,bg:6,tq:8,text:2},defaultCap=["butt","butt"],I7,I7=exports.uc||(exports.uc={});I7.BLOB="blob",I7.TOLOAD="toload",I7.LOADING="loading",I7.LOADED="loaded",I7.UNLOADED="unloaded",I7.ERROR="error",I7.RELOADING="reloading",I7.UNCOMBINED="uncombined",I7.COMBINING="combining",I7.COMBINED="combined";var tmp1=4294901760,tmp2=65535;function getUploadName(t,e){return((t=tmp1-(t<<16))+(e=tmp2-e)).toString(16)}function staticSDFTileKeyToKey(t){var e=map(t.split(","),function(t){return parseInt(t,10)}),r=e[1],t=e[2];return e[0]<10?"lesszoom10":(10===e[0]||(12===e[0]?(r=Math.floor(r/4),t=Math.floor(t/4)):14===e[0]?(r=Math.floor(r/16),t=Math.floor(t/16)):15===e[0]&&(r=Math.floor(r/32),t=Math.floor(t/32))),getUploadName(r,t))}var labelsUtil={Bj:function(t){var e,r={};for(e in t=void 0===t?{}:t)t.hasOwnProperty(e)&&(r[e]=1);return r},zj:function(t,e){t.gs=e,t.qj=e.options||{},t.Wj=e.Wj||{},t.Fs=e.Fs||{},t.Gj=e.Gj||{},t.Hj=e.Hj||{},t.Vj=e.Vj||{},t.$j=e.$j||0},Yj:function(t,e){void 0===t&&(t=[NaN,NaN,NaN,NaN]),void 0===e&&(e=[0,0,0,1]);for(var r=0;r<t.length;r++){var n=t[r];isNaN(n)&&(t[r]=e[r])}return t},Kj:function(t){return[((16711680&t)>>16)/255,((65280&t)>>8)/255,(255&t)/255,1]},Xj:function(t,e){for(var r=[],n=(e=void 0===e?{}:e).qw,i=e.Aw,a=e.complete,o=0,s=t;o<s.length;o++){var u=s[o],u=new Promise(u);r.push(u)}var c=0;Promise.all(r).then(function(){n&&n.apply(void 0,arguments),a&&!c&&(c=1,a.apply(void 0,arguments))}).catch(function(){i&&i.apply(void 0,arguments),a&&!c&&(c=1,a.apply(void 0,arguments))})},Jj:function(t,e){var r=t[0],i=void 0===(n=t[1])?0:n,n=void 0===(a=e[0])?0:a,a=void 0===(a=e[1])?0:a;return t=(void 0===r?0:r)<=n?n<=i?a<i?[n,a]:[n,i]:null:labelsUtil.Jj(e,t)},measureText:function(t,e,r,n){if(void 0===e&&(e=""),"3D"===(n=void 0===n?"3D":n))return t.measureText(e,r)},lnglatToContainer:function(t,e){return(void 0===(e=e.zoom)?20:e)<LocalZoom?t:(e=lcs.getLocalByCoord(t),vector.Ip(t,e.center))},Sd:function(t,e){var r=t[0],t=void 0===(n=t[1])?0:n,n=e[0],e=void 0===(e=e[1])?0:e,r=Math.abs((void 0===n?0:n)-(void 0===r?0:r)),t=Math.abs(e-t);return Math.sqrt(Math.pow(r,2)+Math.pow(t,2))},getAngle:function(t,e){var r=t[0],n=t[1],t=e[0],n=(void 0===(e=e[1])?0:e)-(void 0===n?0:n);return 0==(r=(void 0===t?0:t)-(void 0===r?0:r))?n<0?3*Math.PI/2:Math.PI/2:0===(n=Math.atan(n/r))||0<n?0<=r?n:n+Math.PI:0<r?2*Math.PI+n:Math.PI+n},Fd:function(t,e,r){for(var n=t[0],i=void 0===n?0:n,a=void 0===(t=t[1])?0:t,o=(void 0===(t=e[0])?0:t)-i,s=(void 0===(e=e[1])?0:e)-a,u=[],c=0;c<r;)u.push([i+o/(r+1)*(c+1),a+s/(r+1)*(c+1)]),c++;return u},OG:function(t,e,r){return 0===r?t:[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]},Ed:function(t,e){void 0===e&&(e="ch");var r=(t=void 0===t?[]:t).length;if(!r)return!1;var n=t[0],i=t[4<=r?Math.floor(r/4*3):r-1],a=n[0],t=n[1],i=[(r=i[0])-a,(n=i[1])-t];return(i="ch"===e&&1<Math.abs((n-t)/(r-a))?vector.Zj(i,[0,1]):vector.Zj(i,[1,0]))<0},Nd:function(t,e,r){var n,i=t[0],a=t[1],o=e[0],e=((t=e[1])-a)/(o-i),a=[o-i,t-a];return 1<Math.abs(e)&&"x"!==r?(n=0<vector.Zj(a,[0,-1])?vector.Qj(a,[0,-1]):vector.Qj(a,[0,1]),0<e&&(n=-n)):(n=0<vector.Zj(a,[1,0])?vector.Qj(a,[1,0]):vector.Qj(a,[-1,0]),e<0&&(n=-n)),n},Od:function(t,e,r){var n=r*Math.sin(e),e=r*Math.cos(e);return[t[0]+e,t[1]+n]},jd:function(t,e,r,n){var i=vector.Ip(t,e),a=vector.length(i),t=vector.Ip(r,e),r=vector.length(t),i=vector.Zj(i,t),i=Math.acos(i/(a*r)),r=Math.PI-i,i=a*Math.sin(r),r=a*Math.cos(r),n=Math.sqrt(Math.pow(n,2)-Math.pow(i,2))-r,i=0===t[0]?0<t[1]?Math.PI/2:-Math.PI/2:Math.atan(t[1]/t[0]),r=Math.abs(n*Math.sin(i)),n=n*Math.cos(i),i=vector.Zj(t,[1,0]),t=vector.Zj(t,[0,1]);return vector.add(e,[0<=i?n:-n,0<=t?r:-r])},rank:function(t){for(var e=[],r=0;r<t.length;r++){var n=parseFloat(t[r]);n<0?(t.splice(r--,1),e.push(n)):t[r]=n}return t.sort(function(t,e){return t-e}),e.concat(t)},$p:function(t){var e=CONSTS.Mp,r=CONSTS.Rp;return t[1]>=zoomRange[1]&&(t[1]=r),t[0]<=zoomRange[0]&&(t[0]=e),t},toString:function(t,e){void 0===e&&(e=4);var r="";if(!t)return r;for(var n=0,i=t;n<i.length;n++){var a=i[n];r+=(a+"").length<e?a:a.toFixed(e)}return r},xf:function(t,e){var r,n,i,a=[],o=e.ja,s=e.Fa,u=e.Oa,c=e.Ea;for(r in t)t.hasOwnProperty(r)&&r!==CONSTS.gH&&r!==CONSTS.FN&&r!==CONSTS.RB&&("shields"!==r&&o?(i=r.split("-"),n=parseInt(i[1],10),i=parseInt(i[2],10),o<=n&&n<=u&&s<=i&&i<=c&&a.push(t[r])):a.push(t[r]));return a.length?a:t},EQ:function(t,e){for(var r=[],n=e.length,i=0;i<n-1;i++){var a=t.substring(e[i],e[i+1]);r.push(a)}return n?r:t.split("")},aQ:function(t){for(var e=[],r=0;r<t.length;r++){for(var n=t[r],i=[],a=0;a<n.length;a++){var o=n.charCodeAt(a);i.push(o)}var s=i.join("|");e.push(s)}return e},tQ:function(t,e,r){var n="",i=[],a="";if(t.name)if(t.JQ&&0<t.JQ.length)n=getSpiltLineWithSpiltIndex(t.name,t.JQ),a="ch";else if(r){var o=r.lineBreak(t.name,{from:"labelsLayer",CO:[]}),s=0,u="";if(2<=o.oQ.length){for(var c=1,f=o.oQ.length-1;c<f;c++)u+=t.name.slice(s,o.oQ[c])+" ",s=o.oQ[c];u+=t.name.slice(s)}else u=t.name;n=u,a="ch"}else n=t.name,a="ch";else{switch(e){case"en":n=t.name_en,i=t.iQ,a="en";break;case"local":n=t.QQ,i=t.$G,a=t.CQ;break;default:n=t.BQ,a="ch"}n||(t.name_en?(n=t.name_en,i=t.iQ,a="en"):t.QQ&&(n=t.QQ,i=t.$G,a=t.QQ))}return{name:n,$G:i,type:a}}},vector={add:function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]+e[n];return r},Ip:function(t,e){for(var r=[],n=0;n<t.length;n++)r.push(t[n]-e[n]);return r},multiply:function(t,e){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];r.push(a*e)}return r},Up:function(t,e){for(var r=[],n=0;n<t.length;n++)r[n]=t[n]/e;return r},tA:function(t){return this.multiply(t,-1)},Zj:function(t,e){var r=t[0],n=t[1];return(void 0===r?0:r)*(void 0===(t=e[0])?0:t)+(void 0===n?0:n)*(void 0===(e=e[1])?0:e)},Qj:function(t,e){var r=vector.Zj(t,e),t=vector.length(t),e=vector.length(e);return Math.acos(r/(t*e))},length:function(t){var e=t[0],t=t[1];return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}},noop=function(t){};function getSpiltLineWithSpiltIndex(t,e){if(e.shift(),0===e.length)return t;for(var r="",n=0,i=0,a=e.length;i<a;i++)r+=t.substr(n,e[i]-n)+" ",n=e[i];return r+t.substr(e[e.length-1])}var XHR={send:function(t,e){void 0===e&&(e={});var r=new XMLHttpRequest,i=void 0===(n=e.qw)?noop:n,o=void 0===(a=e.Aw)?noop:a,n=e.Me,a=e.method,e=e.content;return r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t=r.response;try{i(t)}catch(t){o(t)}}else 404===r.status&&(r.abort(),o(Error("404")))},r.onerror=function(t){r.abort(),o(t)},r.open(a||"GET",t,!0),r.responseType=n||"json",r.send(e||void 0),r}},scale=Browser.scale,LabelsRenderUtil={getBounds:function(t,e){var r=(e=void 0===e?{}:e).zoom,n=e.centerCoord,i=(e.view,[150*scale,150*scale,150*scale,150*scale]),o=(a=t.boundsCoord)[0],s=a[1],u=a[2],c=a[3],t=this.nt(0,0,r,e),a=vector.Ip(this.nt(i[0],i[1],r,e),t),t=vector.Ip(this.nt(i[2],i[3],r,e),t),n=(r=LocalZoom<=r?n:[0,0])[0],r=r[1];return[[o-n-Math.abs(t[1]),s-r-Math.abs(t[0])],[u-n+Math.abs(a[1]),c-r+Math.abs(a[0])]]},gz:function(t,e){var r=e[0],n=e[1],i=t[0],e=t[1],t=i-r[0],r=e-r[1],i=n[0]-i,e=n[1]-e;return 0<=t&&0<=r&&0<=i&&0<=e},getRank:function(t,e){var r=(e=void 0===e?{}:e).forceShow,e=e._z,t=(t.data||{}).rank||1;return void 0!==r&&r?t-1e5:(void 0===e?0:e)/100*2e5+t},wu:function(t,e,r,n){if(void 0===t&&(t=0),void 0===e&&(e=0),n){var i=n.viewState,a=n.size,o=n.transform,s=n.view,u=n.viewMode,c=n.centerCoord,n=n.positionType;return"2D"!==u?"relative"===(void 0===n?"relative":n)?s.H(t,e):s._u(t,e):(a={center:i.centerCoord,rotation:i.rotation,size:a},c=(i=i.optimalZoom>=LocalZoom?c:[0,0])[0],i=i[1],o.wu(t+c,e+i,r,a))}},r0:function(t,e,r,n,i){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),i){var a=i.viewState,o=i.size,s=i.transform,u=i.view,c=i.viewMode,f=i.centerCoord,i=i.positionType;return"2D"!==c?"relative"===(void 0===i?"relative":i)?u.H(t,e,r):u._u(t,e,r):(o={center:a.centerCoord,rotation:a.rotation,size:o},f=(a=a.optimalZoom>=LocalZoom?f:[0,0])[0],a=a[1],s.wu(t+f,e+a,n,o))}},kz:function(t,e,r,n){if(void 0===t&&(t=[]),n=(n=void 0===n?{}:n).centerCoord,e<LocalZoom&&LocalZoom<=r){for(var i=n[0],a=n[1],o=[],s=0,u=t;s<u.length;s++){var c=u[s];o.push([c[0]-i,c[1]-a])}return o}return t},nt:function(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0);var i=n.view,a=n.transform;return"2D"===n.viewMode?a.nt(t,e,r):i.X(t,e)},MG:function(t,e){return t<LocalZoom-1?[0,0]:e}};function isLngLat(t){return t&&"AMap.LngLat"===t.className}function isPixel(t){return t&&"AMap.Pixel"===t.className}function isSize(t){return t&&"AMap.Size"===t.className}function isLayer(t){return Boolean(t&&t.el&&"AMap.Layer"===t.el)}function isVectorLayer(t){return t&&"AMap.VectorLayer"===t.CLASS_NAME}function isOverlay(t){return t&&t.className&&Util.startsWith(t.className,"Overlay")}function isOverlayGroup(t){return t&&("Overlay.OverlayGroup"===t.className||"Overlay.GeoJSON"===t.className)}function isCircleMarker(t){return t&&t.className&&"Overlay.CircleMarker"===t.className}function isPolyline(t){return t&&t.className&&"Overlay.Polyline"===t.className}function isBezierCurve(t){return t&&t.className&&"Overlay.BezierCurve"===t.className}function isBounds(t){return t&&"AMap.Bounds"===t.className}function isNumber(t){return"number"==typeof+(t=+t)&&!isNaN(t)}function isNumberArray(t){return Array.isArray(t)&&isNumber(t[0])}function isNumberArrayArray(t){return Array.isArray(t)&&isNumberArray(t[0])}function isNumberArrayArrayArray(t){return Array.isArray(t)&&isNumberArrayArray(t[0])}function isNumberArrayArrayArrayArray(t){return Array.isArray(t)&&isNumberArrayArrayArray(t[0])}function isLnglatLike(t){return isLngLat(t)||isNumberArray(t)}function isLnglatLikeArray(t){return Array.isArray(t)&&isLnglatLike(t[0])}function isLnglatLikeArrayArray(t){return Array.isArray(t)&&isLnglatLikeArray(t[0])}function isLnglatLikeArrayArrayArray(t){return Array.isArray(t)&&isLnglatLikeArrayArray(t[0])}function isInnerLabelsLayer(t){return t&&"AMap.Inner.LabelsLayer"===t.CLASS_NAME}function isUndefined$1(t){return void 0===t}function calcTileMectorBounds(t,e,r){var n=ProjectionManager.getProjection("EPSG:3857"),i=Math.pow(2,t),a=(e=(a=360/i)*e-180)+a,t=(r=(t=180/i)*(i-r-1)-90)+t;return[r=(e=n.project(e,r))[0],e=e[1],(t=n.project(a,t))[0],t[1]]}function parseLngLatData(t){if(Array.isArray(t)){if(!Array.isArray(t[0])){var e=typeof t[0];return"string"==e||"number"==e?new LngLat$2(t[0],t[1]):t}for(var r=0;r<t.length;r+=1)t[r]=parseLngLatData(t[r])}return t}function jsonLngLatData(t){if(isLngLat(t))return[t.getLng(),t.getLat()];if(Array.isArray(t)){for(var e=t.slice(0),r=0;r<e.length;r+=1)e[r]=jsonLngLatData(e[r]);return e}return t}var Coordinate={lr:function(t,e){for(var r=1/0,n=0,i=1,a=e.length;i<a;n=i,i+=1)r=Math.min(r,this.ur(t,[e[n],e[i]]));return Math.sqrt(r)},ur:function(t,e){return this.cr(t,this.closestOnSegment(t,e))},cr:function(t,e){var r=t[0]-e[0];return r*r+(e=t[1]-e[1])*e},pr:function(t,e,r,n){if(n=n||1e-6,r[0]!==e[0])return i=Math.min(e[0],r[0]),a=Math.max(e[0],r[0]),e=(r[1]-e[1])/(r[0]-e[0])*(t[0]-e[0])+e[1],Math.abs(e-t[1])<n&&t[0]>=i&&t[0]<=a;var i=Math.min(e[1],r[1]),a=Math.max(e[1],r[1]);return Math.abs(t[0]-r[0])<n&&t[1]>=i&&t[1]<=a},closestOnSegment:function(t,e){var r,n=t[0],i=t[1],a=e[0],o=e[1],s=a[0],u=a[1],t=o[0],o=(e=o[1])-u,o=(i=0==(a=t-s)&&0==o?0:(a*(n-s)+o*(i-u))/(a*a+o*o||0))<=0?(r=s,u):1<=i?(r=t,e):(r=s+i*a,u+i*o);return[r,o]},isClockwise:function(t){for(var e,r,n=t.length,i=0,a=t[n-1],o=a[0],s=a[1],u=0;u<n;u+=1)i+=((e=(r=t[u])[0])-o)*((r=r[1])+s),o=e,s=r;return 0<i},ss:function(t,e,r){for(var n=t[0],i=t[1],a=!1,o=e.length,s=0,u=o-1;s<o;u=s,s+=1){var c=!1,f=e[s][0],l=e[s][1],h=e[u][0],d=e[u][1];if(f===n&&l===i||h===n&&d===i)return!!r;if(l<i==i<=d){if(n===(f=(h-f)*(i-l)/(d-l)+f))return!!r;c=n<f}c&&(a=!a)}return a},dr:function(t,e){for(var r,n=function(t,e,r){return(r[0]-e[0])*(t[1]-e[1])>(r[1]-e[1])*(t[0]-e[0])},i=function(t,e,r,n){var i=[t[0]-e[0],t[1]-e[1]],a=[r[0]-n[0],r[1]-n[1]],e=t[0]*e[1]-t[1]*e[0],r=r[0]*n[1]-r[1]*n[0],n=1/(i[0]*a[1]-i[1]*a[0]);return[(e*a[0]-r*i[0])*n,(e*a[1]-r*i[1])*n]},a=t,o=e[e.length-2],s=0,u=e.length-1;s<u;s++){for(var c=e[s],f=a,a=[],l=f[f.length-1],h=0,d=f.length;h<d;h++)n(r=f[h],o,c)?(n(l,o,c)||a.push(i(o,c,l,r)),a.push(r)):n(l,o,c)&&a.push(i(o,c,l,r)),l=r;o=c}return a.length<3?[]:(a.push(a[0]),a)}},Pixel=($o.prototype.getX=function(){return this.x},$o.prototype.round=function(){return new $o(Math.round(this.x),Math.round(this.y))},$o.prototype.getY=function(){return this.y},$o.prototype.toString=function(){return this.x+","+this.y},$o.prototype.equals=function(t){return t instanceof $o&&Math.max(Math.abs(this.x-t.x),Math.abs(this.y-t.y))<=1e-9},$o.prototype.toArray=function(){return[this.x,this.y]},$o.prototype.subtract=function(t,e){return new $o(this.x-t.x,this.y-t.y,e)},$o.prototype.multiplyBy=function(t,e){return new $o(this.x*t,this.y*t,e)},$o.prototype.direction=function(){var t=this.x,e=this.y;if(0===t&&0===e)return null;if(0===t)return 0<e?90:270;var r=180*Math.atan(e/t)/Math.PI;return t<0&&0<e||t<0&&e<0?180+r:0<t&&e<0?360+r:r},$o.prototype.toJSON=function(){return[this.x,this.y]},$o);function $o(t,e,r){if(void 0===r&&(r=!1),this.className="AMap.Pixel",isNaN(t)||isNaN(e))throw new Error("Invalid Object: Pixel("+t+", "+e+")");this.x=r?Math.round(t):Number(t),this.y=r?Math.round(e):Number(e)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.gP&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var dist=createCommonjsModule(function(t,e){!function(t){function n(t,e){return e<t?1:t<e?-1:0}function b(e,r){void 0===r&&(r=!1),this.bP=e=void 0===e?n:e,this.yP=null,this._size=0,this.mP=!!r}var vt={size:{configurable:!0}};b.prototype.TP=function(e){var r=e.right;r&&(e.right=r.left,r.left&&(r.left.parent=e),r.parent=e.parent),e.parent?e===e.parent.left?e.parent.left=r:e.parent.right=r:this.yP=r,r&&(r.left=e),e.parent=r},b.prototype.wP=function(e){var r=e.left;r&&(e.left=r.right,r.right&&(r.right.parent=e),r.parent=e.parent),e.parent?e===e.parent.left?e.parent.left=r:e.parent.right=r:this.yP=r,r&&(r.right=e),e.parent=r},b.prototype.AP=function(e){for(;e.parent;){var r=e.parent;r.parent?r.left===e&&r.parent.left===r?(this.wP(r.parent),this.wP(r)):r.right===e&&r.parent.right===r?(this.TP(r.parent),this.TP(r)):r.left===e&&r.parent.right===r?(this.wP(r),this.TP(r)):(this.TP(r),this.wP(r)):r.left===e?this.wP(r):this.TP(r)}},b.prototype.xP=function(e){for(var r,n,a,o;e.parent;)(n=(r=e.parent).parent)&&n.parent?((o=n.parent).left===n?o.left=e:o.right=e,e.parent=o):(e.parent=null,this.yP=e),a=e.left,o=e.right,e===r.left?(n&&(n.left===r?(r.right?(n.left=r.right,n.left.parent=n):n.left=null,(r.right=n).parent=r):(a?(n.right=a).parent=n:n.right=null,(e.left=n).parent=e)),o?(r.left=o).parent=r:r.left=null,(e.right=r).parent=e):(n&&(n.right===r?(r.left?(n.right=r.left,n.right.parent=n):n.right=null,(r.left=n).parent=r):(o?(n.left=o).parent=n:n.left=null,(e.right=n).parent=e)),a?(r.right=a).parent=r:r.right=null,(e.left=r).parent=e)},b.prototype.replace=function(e,r){e.parent?e===e.parent.left?e.parent.left=r:e.parent.right=r:this.yP=r,r&&(r.parent=e.parent)},b.prototype.MP=function(e){if(e=void 0===e?this.yP:e)for(;e.left;)e=e.left;return e},b.prototype.SP=function(e){if(e=void 0===e?this.yP:e)for(;e.right;)e=e.right;return e},b.prototype.Xc=function(e,r){var n=this.yP,i=null,a=this.bP;if(this.mP)for(;n;){if(0===a((i=n).key,e))return;n=a(n.key,e)<0?n.right:n.left}else for(;n;)n=a((i=n).key,e)<0?n.right:n.left;return n={key:e,data:r,left:null,right:null,parent:i},i?a(i.key,n.key)<0?i.right=n:i.left=n:this.yP=n,this.xP(n),this._size++,n},b.prototype.find=function(e){for(var r=this.yP,n=this.bP;r;){var i=n(r.key,e);if(i<0)r=r.right;else{if(!(0<i))return r;r=r.left}}return null},b.prototype.contains=function(e){for(var r=this.yP,n=this.bP;r;){var i=n(e,r.key);if(0===i)return!0;r=i<0?r.left:r.right}return!1},b.prototype.remove=function(n){var r=this.find(n);return!!r&&(this.xP(r),r.left?r.right?((n=this.MP(r.right)).parent!==r&&(this.replace(n,n.right),n.right=r.right,n.right.parent=n),this.replace(r,n),n.left=r.left,n.left.parent=n):this.replace(r,r.left):this.replace(r,r.right),this._size--,!0)},b.prototype.removeNode=function(e){return!!e&&(this.xP(e),e.left?e.right?((r=this.MP(e.right)).parent!==e&&(this.replace(r,r.right),r.right=e.right,r.right.parent=r),this.replace(e,r),r.left=e.left,r.left.parent=r):this.replace(e,e.left):this.replace(e,e.right),this._size--,!0);var r},b.prototype.$P=function(i){var n,a=this.find(i);a&&(this.xP(a),n=a.left,i=a.right,a=null,n&&(n.parent=null,a=this.SP(n),this.xP(a),this.yP=a),i&&(n?a.right=i:this.yP=i,i.parent=a),this._size--)},b.prototype.pop=function(){var e=this.yP,r=null;if(e){for(;e.left;)e=e.left;r={key:e.key,data:e.data},this.remove(e.key)}return r},b.prototype.next=function(e){var r=e;if(r)if(r.right)for(r=r.right;r&&r.left;)r=r.left;else for(r=e.parent;r&&r.right===e;)r=(e=r).parent;return r},b.prototype.NM=function(e){var r=e;if(r)if(r.left)for(r=r.left;r&&r.right;)r=r.right;else for(r=e.parent;r&&r.left===e;)r=(e=r).parent;return r},b.prototype.forEach=function(e){for(var r=this.yP,n=[],i=!1,a=0;!i;)r?(n.push(r),r=r.left):0<n.length?(e(r=n.pop(),a++),r=r.right):i=!0;return this},b.prototype.range=function(e,r,n,i){for(var a=[],o=this.bP,s=this.yP;0!==a.length||s;)if(s)a.push(s),s=s.left;else{if(0<o((s=a.pop()).key,r))break;if(0<=o(s.key,e)&&n.call(i,s))return this;s=s.right}return this},b.prototype.keys=function(){for(var e=this.yP,r=[],n=[],i=!1;!i;)e?(r.push(e),e=e.left):0<r.length?(e=r.pop(),n.push(e.key),e=e.right):i=!0;return n},b.prototype.values=function(){for(var e=this.yP,r=[],n=[],i=!1;!i;)e?(r.push(e),e=e.left):0<r.length?(e=r.pop(),n.push(e.data),e=e.right):i=!0;return n},b.prototype.at=function(e){for(var r=this.yP,n=[],i=!1,a=0;!i;)if(r)n.push(r),r=r.left;else if(0<n.length){if(r=n.pop(),a===e)return r;a++,r=r.right}else i=!0;return null},b.prototype.load=function(e,r,n){if(void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===n&&(n=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var i=e.length;return n&&function c(t,e,r,n,i){if(!(n<=r)){for(var a=t[r+n>>1],o=r-1,s=n+1;;){for(;i(t[++o],a)<0;);for(;0<i(t[--s],a););if(s<=o)break;var u=t[o];t[o]=t[s],t[s]=u,u=e[o],e[o]=e[s],e[s]=u}c(t,e,r,s,i),c(t,e,s+1,n,i)}}(e,r,0,i-1,this.bP),this.yP=function f(c,e,r,n,i){var o=i-n;if(0<o)return o=n+Math.floor(o/2),(c={key:e[o],data:r[o],parent:c}).left=f(c,e,r,n,o),c.right=f(c,e,r,o+1,i),c;return null}(null,e,r,0,i),this._size=i,this},b.prototype.min=function(){var e=this.MP(this.yP);return e?e.key:null},b.prototype.max=function(){var e=this.SP(this.yP);return e?e.key:null},b.prototype.isEmpty=function(){return null===this.yP},vt.size.get=function(){return this._size},b.LP=function(e,r,n,i,a){return new b(n,a).load(e,r,i)},Object.defineProperties(b.prototype,vt);var o=0,u=1,l=2,h=3,p=0,s=1,m=2,d=3;function y(t,n,r){null===n?(t.PP=!1,t.OP=!0):(t._P===n._P?(t.PP=!n.PP,t.OP=n.OP):(t.PP=!n.OP,t.OP=n.NP()?!n.PP:n.PP),n&&(t.CP=!i(n,r)||n.NP()?n.CP:n));n=i(t,r);t.hN=n?function(t,e){var i,r=!t.PP,n=!t.OP;switch(e){case p:i=r&&n;break;case s:i=r||n;break;case d:i=r^n;break;case m:i=t._P?r&&!n:n&&!r}return i?1:-1}(t,r):0}function i(t,e){switch(t.type){case o:switch(e){case p:return!t.OP;case s:return t.OP;case m:return t._P&&t.OP||!t._P&&!t.OP;case d:return!0}break;case l:return e===p||e===s;case h:return e===m;case u:return!1}return!1}function v(e,r,n,i,a){this.left=r,this.point=e,this.IP=n,this._P=i,this.type=a||o,this.PP=!1,this.OP=!1,this.CP=null,this.hN=0,this.lN=-1,this.dN=-1,this.DP=!0}vt={EP:{configurable:!0}};function g(t,e){return t[0]===e[0]&&t[1]===e[1]}v.prototype.FP=function(e){var r=this.point,n=this.IP.point;return this.left?0<(r[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(r[1]-e[1]):0<(n[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(n[1]-e[1])},v.prototype.RP=function(e){return!this.FP(e)},v.prototype.NP=function(){return this.point[0]===this.IP.point[0]},vt.EP.get=function(){return 0!==this.hN},v.prototype.clone=function(){var e=new v(this.point,this.left,this.IP,this._P,this.type);return e.UP=this.UP,e.hN=this.hN,e.CP=this.CP,e.DP=this.DP,e.PP=this.PP,e.OP=this.OP,e},Object.defineProperties(v.prototype,vt);var vt=11102230246251565e-32,_=134217729;function U(t,e,r,n,i){var a,o,s,u,c=e[0],f=n[0],l=0,h=0;c<f==-c<f?(a=c,c=e[++l]):(a=f,f=n[++h]);var d=0;if(l<t&&h<r)for(c<f==-c<f?(s=a-((o=c+a)-c),c=e[++l]):(s=a-((o=f+a)-f),f=n[++h]),a=o,0!==s&&(i[d++]=s);l<t&&h<r;)c<f==-c<f?(s=a-((o=a+c)-(u=o-a))+(c-u),c=e[++l]):(s=a-((o=a+f)-(u=o-a))+(f-u),f=n[++h]),a=o,0!==s&&(i[d++]=s);for(;l<t;)s=a-((o=a+c)-(u=o-a))+(c-u),c=e[++l],a=o,0!==s&&(i[d++]=s);for(;h<r;)s=a-((o=a+f)-(u=o-a))+(f-u),f=n[++h],a=o,0!==s&&(i[d++]=s);return 0===a&&0!==d||(i[d++]=a),d}function x(t){return new(commonjsGlobal.Float64Array?Float64Array:Array)(t)}var F=x(4),B=x(8),G=x(12),z=x(16),V=x(4);function M(t,e,r,n,i,a){var o=(e-a)*(r-i),c=(t-i)*(n-a),u=o-c;if(0==o||0==c||0<o!=0<c)return u;c=Math.abs(o+c);return Math.abs(u)>=33306690738754716e-32*c?u:-function(s,u,r,n,c,f,o){var l,g,b,p,m,y,x,w,A,M,S=s-c,O=r-c,I=u-f,$=n-f,T=S*$,h=_*S,d=h-(h-S),v=S-d;F[0]=(x=v*(b=$-(g=(h=_*$)-(h-$)))-(T-d*g-v*g-d*b))-((p=x-(A=(v=I-(d=(h=_*I)-(h-I)))*(b=O-(g=(h=_*O)-(h-O)))-((w=I*O)-d*g-v*g-d*b)))+(l=x-p))+(l-A),F[1]=(y=T-((m=T+p)-(l=m-T))+(p-l))-((p=y-w)+(l=y-p))+(l-w),F[2]=m-((M=m+p)-(l=M-m))+(p-l),F[3]=M;var C=function(t,e){for(var r=e[0],n=1;n<t;n++)r+=e[n];return r}(4,F),k=22204460492503146e-32*o;return k<=C||k<=-C?C:(s=s-(S+(l=s-S))+(l-c),c=r-(O+(l=r-O))+(l-c),u=u-(I+(l=u-I))+(l-f),f=n-($+(l=n-$))+(l-f),0==s&&0==u&&0==c&&0==f||(k=11093356479670487e-47*o+33306690738754706e-32*Math.abs(C))<=(C+=S*f+$*s-(I*c+O*u))||k<=-C?C:(V[0]=(x=(v=s-(d=(h=_*s)-(h-s)))*(b=$-(g=(h=_*$)-(h-$)))-((T=s*$)-d*g-v*g-d*b))-((p=x-(A=(v=u-(d=(h=_*u)-(h-u)))*(b=O-(g=(h=_*O)-(h-O)))-((w=u*O)-d*g-v*g-d*b)))+(l=x-p))+(l-A),V[1]=(y=T-((m=T+p)-(l=m-T))+(p-l))-((p=y-w)+(l=y-p))+(l-w),V[2]=m-((M=m+p)-(l=M-m))+(p-l),V[3]=M,O=U(4,F,4,V,B),V[0]=(x=(v=S-(d=(h=_*S)-(h-S)))*(b=f-(g=(h=_*f)-(h-f)))-((T=S*f)-d*g-v*g-d*b))-((p=x-(A=(v=I-(d=(h=_*I)-(h-I)))*(b=c-(g=(h=_*c)-(h-c)))-((w=I*c)-d*g-v*g-d*b)))+(l=x-p))+(l-A),V[1]=(y=T-((m=T+p)-(l=m-T))+(p-l))-((p=y-w)+(l=y-p))+(l-w),V[2]=m-((M=m+p)-(l=M-m))+(p-l),V[3]=M,O=U(O,B,4,V,G),V[0]=(x=(v=s-(d=(h=_*s)-(h-s)))*(b=f-(g=(h=_*f)-(h-f)))-((T=s*f)-d*g-v*g-d*b))-((p=x-(A=(v=u-(d=(h=_*u)-(h-u)))*(b=c-(g=(h=_*c)-(h-c)))-((w=u*c)-d*g-v*g-d*b)))+(l=x-p))+(l-A),V[1]=(y=T-((m=T+p)-(l=m-T))+(p-l))-((p=y-w)+(l=y-p))+(l-w),V[2]=m-((M=m+p)-(l=M-m))+(p-l),V[3]=M,O=U(O,G,4,V,z),z[O-1]))}(t,e,r,n,i,a,c)}function S(t,e,n){n=M(t[0],t[1],e[0],e[1],n[0],n[1]);return 0<n?-1:n<0?1:0}function P(t,e){var r=t.point,n=e.point;return r[0]>n[0]?1:r[0]<n[0]?-1:r[1]!==n[1]?r[1]>n[1]?1:-1:function(t,e,r){return t.left!==e.left?t.left?1:-1:0!==S(r,t.IP.point,e.IP.point)?t.FP(e.IP.point)?-1:1:!t._P&&e._P?1:-1}(t,e,r)}function $(t,i,r){var n=new v(i,!1,t,t._P),i=new v(i,!0,t.IP,t._P);return g(t.point,t.IP.point)&&console.warn("what is that, a collapsed segment?",t),n.UP=i.UP=t.UP,0<P(i,t.IP)&&(t.IP.left=!0,i.left=!1),t.IP.IP=i,t.IP=n,r.push(i),r.push(n),r}function C(t,e){return t[0]*e[1]-t[1]*e[0]}function k(t,e){return t[0]*e[0]+t[1]*e[1]}function L(t,e,r){var s=function(t,h,r,d,i){var a=[h[0]-t[0],h[1]-t[1]],p=[d[0]-r[0],d[1]-r[1]];function s(t,e,r){return[t[0]+e*r[0],t[1]+e*r[1]]}var v=[r[0]-t[0],r[1]-t[1]],c=C(a,p),b=k(a,a);if(0<c*c){h=C(v,p)/c;if(h<0||1<h)return null;d=C(v,a)/c;return d<0||1<d?null:0==h||1==h?i?null:[s(t,h,a)]:0==d||1==d?i?null:[s(r,d,p)]:[s(t,h,a)]}return 0<(c=C(v,a))*c?null:(v=k(a,v)/b,p=v+k(a,p)/b,b=Math.min(v,p),p=Math.max(v,p),b<=1&&0<=p?1===b?i?null:[s(t,0<b?b:0,a)]:0===p?i?null:[s(t,p<1?p:1,a)]:i&&0===b&&1===p?null:[s(t,0<b?b:0,a),s(t,p<1?p:1,a)]:null)}(t.point,t.IP.point,e.point,e.IP.point),o=s?s.length:0;if(0===o)return 0;if(1===o&&(g(t.point,e.point)||g(t.IP.point,e.IP.point)))return 0;if(2===o&&t._P===e._P)return 0;if(1===o)return g(t.point,s[0])||g(t.IP.point,s[0])||$(t,s[0],r),g(e.point,s[0])||g(e.IP.point,s[0])||$(e,s[0],r),1;var a=[],o=!1,s=!1;return g(t.point,e.point)?o=!0:1===P(t,e)?a.push(e,t):a.push(t,e),g(t.IP.point,e.IP.point)?s=!0:1===P(t.IP,e.IP)?a.push(e.IP,t.IP):a.push(t.IP,e.IP),o&&s||o?(e.type=u,t.type=e.PP===t.PP?l:h,o&&!s&&$(a[1].IP,a[0].point,r),2):(s?$(a[0],a[1].point,r):a[0]!==a[3].IP?($(a[0],a[1].point,r),$(a[1],a[2].point,r)):($(a[0],a[1].point,r),$(a[3].IP,a[2].point,r)),3)}function O(t,e){if(t===e)return 0;if(0!==S(t.point,t.IP.point,e.point)||0!==S(t.point,t.IP.point,e.IP.point))return g(t.point,e.point)?t.FP(e.IP.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===P(t,e)?e.RP(t.point)?-1:1:t.FP(e.point)?-1:1;if(t._P!==e._P)return t._P?-1:1;var r=t.point,n=e.point;return r[0]===n[0]&&r[1]===n[1]?(r=t.IP.point,n=e.IP.point,r[0]===n[0]&&r[1]===n[1]?0:t.UP>e.UP?1:-1):1===P(t,e)?1:-1}function W(){this.points=[],this.vN=[],this.gN=null,this.depth=null}function K(t){for(var s=function(t){for(var e,i,a=[],r=0,n=t.length;r<n;r++)((e=t[r]).left&&e.EP||!e.left&&e.IP.EP)&&a.push(e);for(var o=!1;!o;)for(o=!0,r=0,n=a.length;r<n;r++)r+1<n&&1===P(a[r],a[r+1])&&(i=a[r],a[r]=a[r+1],a[r+1]=i,o=!1);for(r=0,n=a.length;r<n;r++)(e=a[r]).lN=r;for(r=0,n=a.length;r<n;r++)(e=a[r]).left||(i=e.lN,e.lN=e.IP.lN,e.IP.lN=i);return a}(t),u={},c=[],r=function(){if(!u[o]){var e=c.length,t=function(a,e,r){var u,n=new W;return null!=a.CP?(a=(u=a.CP).dN,0<u.hN?null!=(u=e[a]).gN?(e[u=u.gN].vN.push(r),n.gN=u,n.depth=e[a].depth):(e[a].vN.push(r),n.gN=a,n.depth=e[a].depth+1):(n.gN=null,n.depth=e[a].depth)):(n.gN=null,n.depth=0),n}(s[o],c,e),r=function(t){u[t]=!0,s[t].dN=e},n=o,i=o,a=s[o].point;for(t.points.push(a);;)if(r(n),r(n=s[n].lN),t.points.push(s[n].point),(n=function(t,e,r,n){var o,i=t+1,a=e[t].point,s=e.length;for(i<s&&(o=e[i].point);i<s&&o[0]===a[0]&&o[1]===a[1];){if(!r[i])return i;o=e[++i].point}for(i=t-1;r[i]&&n<i;)i--;return i}(n,s,u,i))==i)break;c.push(t)}},o=0,e=s.length;o<e;o++)r();return c}W.prototype.pN=function(){return null==this.gN};var Z=Q,vt=Q;function Q(t,e){if(!(this instanceof Q))return new Q(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||tt,0<this.length)for(var r=(this.length>>1)-1;0<=r;r--)this.zP(r)}function tt(t,e){return t<e?-1:e<t?1:0}Q.prototype={push:function(t){this.data.push(t),this.length++,this.El(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this.zP(0)),this.data.pop(),t}},GP:function(){return this.data[0]},El:function(t){for(var e=this.data,r=this.compare,n=e[t];0<t;){var i=t-1>>1,a=e[i];if(0<=r(n,a))break;e[t]=a,t=i}e[t]=n},zP:function(t){for(var e=this.data,r=this.compare,n=this.length>>1,i=e[t];t<n;){var a=1+(t<<1),o=a+1,s=e[a];if(o<this.length&&r(e[o],s)<0&&(s=e[a=o]),0<=r(s,i))break;e[t]=s,t=a}e[t]=i}},Z.default=vt;var et=Math.max,rt=Math.min,nt=0;function it(t,e,r,n,i,a){for(var o=0,s=t.length-1;o<s;o++){var d=t[o],h=t[o+1],f=new v(d,!1,void 0,e),l=new v(h,!1,f,e);f.IP=l,d[0]===h[0]&&d[1]===h[1]||(f.UP=l.UP=r,a||(f.DP=!1,l.DP=!1),0<P(f,l)?l.left=!0:f.left=!0,h=d[0],d=d[1],i[0]=rt(i[0],h),i[1]=rt(i[1],d),i[2]=et(i[2],h),i[3]=et(i[3],d),n.push(f),n.push(l))}}var ot=[];function st(t,e,r){var n=null;return t.length*e.length==0&&(r===p?n=ot:r===m?n=t:r!==s&&r!==d||(n=0===t.length?e:t)),n}function ut(t,e,r,n,i){var a=null;return(r[0]>n[2]||n[0]>r[2]||r[1]>n[3]||n[1]>r[3])&&(i===p?a=ot:i===m?a=t:i!==s&&i!==d||(a=t.concat(e))),a}function ct(t,e,r){var n=st(t="number"==typeof t[0][0][0]?[t]:t,e="number"==typeof e[0][0][0]?[e]:e,r);if(n)return n===ot?null:n;var i=[1/0,1/0,-1/0,-1/0],a=[1/0,1/0,-1/0,-1/0],o=function(t,e,r,n,i){for(var o,s,f,l,a=new Z(null,P),u=0,c=t.length;u<c;u++)for(f=0,l=(o=t[u]).length;f<l;f++)(s=0===f)&&nt++,it(o[f],!0,nt,a,r,s);for(u=0,c=e.length;u<c;u++)for(f=0,l=(o=e[u]).length;f<l;f++)s=0===f,(s=i===m?!1:s)&&nt++,it(o[f],!1,nt,a,n,s);return a}(t,e,i,a,r);if(n=ut(t,e,i,a,r))return n===ot?null:n;for(var u=K(function(t,n,i,a){for(var o=new b(O),s=[],u=Math.min(n[2],i[2]);0!==t.length;){var l,c,f,d,g,h=t.pop();if(s.push(h),a===p&&h.point[0]>u||a===m&&h.point[0]>n[2])break;h.left?(f=c=o.Xc(h),c=c!==(l=o.MP())?o.NM(c):null,f=o.next(f),y(h,d=c?c.key:null,a),f&&2===L(h,f.key,t)&&(y(h,d,a),y(h,f.key,a)),c&&2===L(c.key,h,t)&&(y(d,(g=(g=c)!==l?o.NM(g):null)?g.key:null,a),y(h,d,a))):(h=h.IP,f=c=o.find(h),c&&f&&(c=c!==l?o.NM(c):null,f=o.next(f),o.remove(h),f&&c&&L(c.key,f.key,t)))}return s}(o,i,a,r)),c=[],f=0;f<u.length;f++){var l=u[f];if(l.pN()){for(var h=[l.points],d=0;d<l.vN.length;d++){var v=l.vN[d];h.push(u[v].points)}c.push(h)}}return c}vt={VP:s,BP:m,HP:p,WP:d};t.ZP=function(t,e){return ct(t,e,m)},t.qP=function(t,e){return ct(t,e,p)},t.YP=vt,t.union=function(t,e){return ct(t,e,s)},t.xor=function(t,e){return ct(t,e,d)},Object.defineProperty(t,"gP",{value:!0})}(e)}),martinez=unwrapExports(dist),Const={vr:Math.PI/180,mr:180/Math.PI,yr:6378137};function getSphericalCrs(t,e){var r=function(t){switch(t){case"EPSG3857":return ProjectionManager.getProjection("EPSG:3857");case"EPSG4326":return ProjectionManager.getProjection("EPSG:4326")}return ProjectionManager.getProjection("EPSG3857")}(t);return{project:function(t){return Util.isArray(t)&&(t=new LngLat$2(t[0],t[1])),r.project(t.lng,t.lat)},unproject:function(t){return Util.isArray(t)&&(t=new Pixel(t[0],t[1])),r.unproject(t.x,t.y)},normalizePoint:function(t){return Util.parseLngLatData(t)},distance:function(t,e){if(e=this.normalizePoint(e),Util.isArray(e))return this.distanceToLine(t,e);t=this.normalizePoint(t);var r=Const.vr,n=Math.cos,i=t.lat*r,a=t.lng*r,t=e.lat*r,e=e.lng*r,r=2*Const.yr,a=e-a,t=(1-n(t-i)+(1-n(a))*n(i)*n(t))/2;return r*Math.asin(Math.sqrt(t))},ringArea:function(t){t=this.normalizeLine(t);var e=Const.yr*Const.vr,r=0,n=t,i=n.length;if(i<3)return 0;for(var a=0;a<i-1;a+=1){var o=n[a],s=n[a+1],u=o.lng*e*Math.cos(o.lat*Const.vr),c=o.lat*e,o=s.lng*e*Math.cos(s.lat*Const.vr);r+=u*(s.lat*e)-o*c}var f=n[a],l=n[0],h=f.lng*e*Math.cos(f.lat*Const.vr),t=f.lat*e,f=l.lng*e*Math.cos(l.lat*Const.vr);return r+=h*(l.lat*e)-f*t,.5*Math.abs(r)},sphericalCalotteArea:function(t){var e=Const.yr,t=e-e*Math.cos(t/e);return 2*Math.PI*e*t}}}function getPlanarCrs(){return{normalizePoint:function(t){return t&&t.x&&t.y?[t.x,t.y]:t},distance:function(t,e){var r=t[0]-e[0],e=t[1]-e[1];return Math.sqrt(r*r+e*e)},project:function(t){return t},unproject:function(t){return t},ringArea:function(t){for(var e=[0,0],r=[0,0],n=0,i=t[0],a=t.length,o=2;o<a;o++){var s=t[o-1],u=t[o];e[0]=i[0]-u[0],e[1]=i[1]-u[1],r[0]=i[0]-s[0],r[1]=i[1]-s[1],n+=e[0]*r[1]-e[1]*r[0]}return n/2}}}function isClockwise(t){for(var e=0,r=t.length,n=0;n<r-1;n++){var i,a=t[n];e+=((i=t[n+1])[0]-a[0])*(i[1]+a[1])}return t[r-1][0]===t[0][0]&&t[r-1][1]===t[0][1]||(a=t[r-1],e+=((i=t[0])[0]-a[0])*(i[1]+a[1])),0<e}var GeometryUtilCls=(Bz.prototype.clone=function(t){return new Bz(assign({},this._opts,t))},Bz.prototype.isPoint=function(t){return t&&(t instanceof LngLat$2||Util.isArray(t)&&!isNaN(t[0]))},Bz.prototype.normalizePoint=function(t){return t},Bz.prototype.normalizeLine=function(t){for(var e=[],r=0,n=t.length;r<n;r++)e.push(this.normalizePoint(t[r]));return e},Bz.prototype.normalizeMultiLines=function(t){for(var e=[],r=0,n=(t=Util.isArray(t)&&this.isPoint(t[0])?[t]:t).length;r<n;r++)e.push(this.normalizeLine(t[r]));return e},Bz.prototype.setCrs=function(t){t=t&&t.project&&t.unproject?t:"plane"===t?getPlanarCrs():getSphericalCrs(t,this._opts.maxZoom),assign(this,t)},Bz.prototype.distance=function(t,e){throw new Error("distance Not implemented!")},Bz.prototype.xr=function(t,e){t=this.normalizeLine(t);for(var r=[],n=0,i=(t=this.isPoint(t[0])?t:t[0]).length;n<i;n++)r.push(this.project(t[n]));return!0===e?r=this.makesureClockwise(r):!1===e&&(r=this.makesureClockwise(r)).reverse(),r},Bz.prototype.br=function(t){for(var e=[],r=0,n=t.length;r<n;r++)e.push(this.unproject(t[r]));return e},Bz.prototype.closestOnSegment=function(t,e,r){return r=Coordinate.closestOnSegment(this.project(t),this.xr([e,r])),this.unproject(r)},Bz.prototype.closestOnLine=function(t,e){for(var r,n=1/0,i=0,a=(e=this.normalizeLine(e)).length;i<a-1;i++){var o=this.closestOnSegment(t,e[i],e[i+1]),s=this.distance(t,o);s<n&&(n=s,r=o)}return r},Bz.prototype.distanceToSegment=function(t,e,r){return this.distanceToLine(t,[e,r])},Bz.prototype.distanceToLine=function(t,e){e=this.normalizeLine(e);for(var r=1/0,n=0,i=(e=this.isPoint(e[0])?e:e[0]).length;n<i-1;n++)var a=this.closestOnSegment(t,e[n],e[n+1]),r=Math.min(r,this.distance(t,a));return r},Bz.prototype.distanceToPolygon=function(t,e){return this.isPointInRing(t,e)?0:this.distanceToLine(t,e)},Bz.prototype.isPointOnSegment=function(t,e,r,n){return(!n&&0!==n||n<0)&&(n=this._opts.onSegmentTolerance),this.distanceToSegment(t,e,r)<=n},Bz.prototype.isPointOnLine=function(t,e,r){for(var n=0,i=(e=this.normalizeLine(e)).length;n<i-1;n++)if(this.isPointOnSegment(t,e[n],e[n+1],r))return!0;return!1},Bz.prototype.isPointOnRing=function(t,e,r){for(var n=0,i=(e=this.normalizeLine(e)).length;n<i;n++)if(this.isPointOnSegment(t,e[n],e[n===i-1?0:n+1],r))return!0;return!1},Bz.prototype.isPointOnPolygon=function(t,e,r){for(var n=0,i=(e=this.normalizeMultiLines(e)).length;n<i;n++)if(this.isPointOnRing(t,e[n],r))return!0;return!1},Bz.prototype.makesureClockwise=function(t){return isClockwise(t)||(t=[].concat(t)).reverse(),t},Bz.prototype.makesureAntiClockwise=function(t){return isClockwise(t)&&(t=[].concat(t)).reverse(),t},Bz.prototype.pointInRing=function(t,e,r){for(var n=!1,i=0;i<e.length&&!n;i++)if(s(t,e[i][0],r)){for(var a=!1,o=1;o<e[i].length&&!a;)s(t,e[i][o],!r)&&(a=!0),o++;a||(n=!0)}function s(t,e,r){for(var n=!1,i=0,a=(e=e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]?e.slice(0,e.length-1):e).length-1;i<e.length;a=i++){var o=e[i][0],s=e[i][1],u=e[a][0],c=e[a][1];if(t[1]*(o-u)+s*(u-t[0])+c*(t[0]-o)==0&&(o-t[0])*(u-t[0])<=0&&(s-t[1])*(c-t[1])<=0)return!r;s>t[1]!=c>t[1]&&t[0]<(u-o)*(t[1]-s)/(c-s)+o&&(n=!n)}return n}return n},Bz.prototype.isPointInBbox=function(t,e){for(var r=1/0,n=1/0,i=-1/0,a=-1/0,o=0;o<e.length;o++)var s=e[o],r=Math.min(r,s[0]),i=Math.max(i,s[0]),n=Math.min(n,s[1]),a=Math.max(a,s[1]);return t[0]>r&&t[0]<i&&t[1]>n&&t[1]<a},Bz.prototype.isPointInRing=function(t,e){return e=this.normalizeLine(e),e=this.xr(e,!0),Coordinate.ss(this.project(t),e,!1)},Bz.prototype.isRingInRing=function(t,e){for(var r=0,n=t.length;r<n;r++)if(!this.isPointInRing(t[r],e))return!1;return!0},Bz.prototype.isRingInRingByOutsea=function(t,e){for(var r=0,n=t.length;r<n;r++)if(this.isPointInRing(t[r],e))return!0;for(r=0,n=e.length;r<n;r++)if(this.isPointInRing(e[r],t))return!0;return!1},Bz.prototype.isRingInRingByMapbox=function(t,e){for(var r=0,n=t.length;r<n;r++)if(!this.isPointInRing(t[r],e))return!1;return!0},Bz.prototype.isRingInRingByMapboxB=function(t,e){for(var r=0,n=t.length;r<n;r++)if(this.isPointInRing(t[r],e))return!0;return!1},Bz.prototype.isPixelRingInRing=function(t,e){for(var r=0,n=t.length;r<n;r++)if(Coordinate.ss(t[r],e,!1))return!0;return!1},Bz.prototype.isPointInPolygon=function(t,e){for(var r,n=0,i=(e=this.normalizeMultiLines(e)).length;n<i&&(r=this.isPointInRing(t,e[n]),r=0<n?!r:r);n+=1);return Boolean(r)},Bz.prototype.isPointInPolygons=function(t,e){for(var r=0;r<e.length;r++){for(var n=e[r],i=void 0,a=0,o=(n=this.normalizeMultiLines(n)).length;a<o&&(i=this.isPointInRing(t,n[a]),i=0<a?!i:i);a+=1);if(i)return!0}return!1},Bz.prototype.doesSegmentsIntersect=function(t,e,r,n){t=(i=this.xr([t,e,r,n]))[0],e=i[1],r=i[2];var a=!1,o=((n=i[3])[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0]),i=(e[0]-t[0])*(t[1]-r[1])-(e[1]-t[1])*(t[0]-r[0]);return 0!=(t=(n[1]-r[1])*(e[0]-t[0])-(n[0]-r[0])*(e[1]-t[1]))&&(i/=t,0<=(t=o/t)&&t<=1&&0<=i&&i<=1&&(a=!0)),a},Bz.prototype.doesSegmentLineIntersect=function(t,e,r){for(var n=0,i=(r=this.normalizeLine(r)).length;n<i-1;n++)if(this.doesSegmentsIntersect(t,e,r[n],r[n+1]))return!0;return!1},Bz.prototype.doesSegmentRingIntersect=function(t,e,r){for(var n=0,i=(r=this.normalizeLine(r)).length;n<i;n++)if(this.doesSegmentsIntersect(t,e,r[n],r[n===i-1?0:n+1]))return!0;return!1},Bz.prototype.doesSegmentPolygonIntersect=function(t,e,r){for(var n=0,i=(r=this.normalizeMultiLines(r)).length;n<i;n++)if(this.doesSegmentRingIntersect(t,e,r[n]))return!0;return!1},Bz.prototype.doesLineLineIntersect=function(t,e){for(var r=0,n=(t=this.normalizeLine(t)).length;r<n-1;r++)if(this.doesSegmentLineIntersect(t[r],t[r+1],e))return!0;return!1},Bz.prototype.doesLineRingIntersect=function(t,e){for(var r=0,n=(t=this.normalizeLine(t)).length;r<n-1;r++)if(this.doesSegmentRingIntersect(t[r],t[r+1],e))return!0;return!1},Bz.prototype.doesPolygonPolygonIntersect=function(t,e){return!!(this.doesRingRingIntersect(e,t)||this.isRingInRing(t,e)||this.isRingInRing(e,t))},Bz.prototype.doesRingRingIntersect=function(t,e){for(var r=0,n=(t=this.normalizeLine(t)).length;r<n;r++)if(this.doesSegmentRingIntersect(t[r],t[r===n-1?0:r+1],e))return!0;return!1},Bz.prototype.along=function(t,e){for(var r=0,n=0;n<t.length-1;n+=1){var i=this.distance(t[n],t[n+1]);if(!(i+r<e)){var a=(e-r)/i;return[t[n][0]+a*(t[n+1][0]-t[n][0]),t[n][1]+a*(t[n+1][1]-t[n][1]),n]}r+=i}return null},Bz.prototype.gr=function(t,e){for(var a,r=function(t){return(c[0]-o[0])*(t[1]-o[1])>(c[1]-o[1])*(t[0]-o[0])},n=function(){var t=[o[0]-c[0],o[1]-c[1]],e=[l[0]-a[0],l[1]-a[1]],r=o[0]*c[1]-o[1]*c[0],n=l[0]*a[1]-l[1]*a[0],i=1/(t[0]*e[1]-t[1]*e[0]);return[(r*e[0]-n*t[0])*i,(r*e[1]-n*t[1])*i]},i=t=this.makesureAntiClockwise(t),o=(e=this.makesureClockwise(e))[e.length-1],s=0,u=e.length;s<u;s++){for(var c=e[s],f=i,i=[],l=f[f.length-1],h=0,d=f.length;h<d;h++)r(a=f[h])?(r(l)||i.push(n()),i.push(a)):r(l)&&i.push(n()),l=a;o=c}return i},Bz.prototype.ringRingClip=function(t,e){return t=this.xr(t),e=this.xr(e),isEqual(t[0],t[t.length-1])||t.push(t[0].slice()),isEqual(e[0],e[e.length-1])||e.push(e[0].slice()),(e=martinez.qP([t],[e]))&&e[0]&&e[0][0]?this.br(e[0][0]):[]},Bz.prototype.ringArea=function(t){throw new Error("distance Not implemented!")},Bz.prototype.distanceOfLine=function(t){for(var e=0,r=0,n=(t=this.normalizeLine(t)).length;r<n-1;r++)e+=this.distance(t[r],t[r+1]);return e},Bz.prototype.isClockwise=function(t){return isClockwise(t=this.xr(t))},Bz.prototype.typePolygon=function(t){return isArray(t)&&isArray(t[0])?2===t[0][0].length||t[0][0]instanceof LngLat$2?"Polygon":2<t[0][0].length&&(2===t[0][0][0].length||t[0][0][0]instanceof LngLat$2)?"MultiPolygon":"never":"never"},Bz);function Bz(t){this.CLASS_NAME="AMap.GeometryUtil",this._opts=assign({onSegmentTolerance:5,crs:"EPSG3857",maxZoom:zoomRange[1]},t),this.setCrs(this._opts.crs)}var GeometryUtilInstance=new GeometryUtilCls({}),PlaneGeometryUtilInstance=new GeometryUtilCls({});PlaneGeometryUtilInstance.setCrs("plane");var GeometryUtil={distance:GeometryUtilInstance.distance.bind(GeometryUtilInstance),ringArea:GeometryUtilInstance.ringArea.bind(GeometryUtilInstance),isClockwise:GeometryUtilInstance.isClockwise.bind(GeometryUtilInstance),typePolygon:GeometryUtilInstance.typePolygon.bind(GeometryUtilInstance),makesureClockwise:GeometryUtilInstance.makesureClockwise.bind(GeometryUtilInstance),makesureAntiClockwise:GeometryUtilInstance.makesureAntiClockwise.bind(GeometryUtilInstance),distanceOfLine:GeometryUtilInstance.distanceOfLine.bind(GeometryUtilInstance),ringRingClip:GeometryUtilInstance.ringRingClip.bind(GeometryUtilInstance),doesSegmentsIntersect:GeometryUtilInstance.doesSegmentsIntersect.bind(GeometryUtilInstance),doesSegmentLineIntersect:GeometryUtilInstance.doesSegmentLineIntersect.bind(GeometryUtilInstance),doesSegmentRingIntersect:GeometryUtilInstance.doesSegmentRingIntersect.bind(GeometryUtilInstance),doesSegmentPolygonIntersect:GeometryUtilInstance.doesSegmentPolygonIntersect.bind(GeometryUtilInstance),doesLineLineIntersect:GeometryUtilInstance.doesLineLineIntersect.bind(GeometryUtilInstance),doesLineRingIntersect:GeometryUtilInstance.doesLineRingIntersect.bind(GeometryUtilInstance),doesRingRingIntersect:GeometryUtilInstance.doesRingRingIntersect.bind(GeometryUtilInstance),pointInRing:GeometryUtilInstance.pointInRing.bind(GeometryUtilInstance),isPointInRing:GeometryUtilInstance.isPointInRing.bind(GeometryUtilInstance),isPointInBbox:GeometryUtilInstance.isPointInBbox.bind(GeometryUtilInstance),isRingInRing:GeometryUtilInstance.isRingInRing.bind(GeometryUtilInstance),isPointInPolygon:GeometryUtilInstance.isPointInPolygon.bind(GeometryUtilInstance),isPointInPolygons:GeometryUtilInstance.isPointInPolygons.bind(GeometryUtilInstance),isPointOnSegment:GeometryUtilInstance.isPointOnSegment.bind(GeometryUtilInstance),isPointOnLine:GeometryUtilInstance.isPointOnLine.bind(GeometryUtilInstance),isPointOnRing:GeometryUtilInstance.isPointOnRing.bind(GeometryUtilInstance),isPointOnPolygon:GeometryUtilInstance.isPointOnPolygon.bind(GeometryUtilInstance),closestOnSegment:GeometryUtilInstance.closestOnSegment.bind(GeometryUtilInstance),closestOnLine:GeometryUtilInstance.closestOnLine.bind(GeometryUtilInstance),distanceToSegment:GeometryUtilInstance.distanceToSegment.bind(GeometryUtilInstance),distanceToLine:GeometryUtilInstance.distanceToLine.bind(GeometryUtilInstance)},PlaneGeometryUtil={distance:PlaneGeometryUtilInstance.distance.bind(PlaneGeometryUtilInstance),ringArea:PlaneGeometryUtilInstance.ringArea.bind(PlaneGeometryUtilInstance),isClockwise:PlaneGeometryUtilInstance.isClockwise.bind(PlaneGeometryUtilInstance),typePolygon:PlaneGeometryUtilInstance.typePolygon.bind(PlaneGeometryUtilInstance),makesureClockwise:PlaneGeometryUtilInstance.makesureClockwise.bind(PlaneGeometryUtilInstance),makesureAntiClockwise:PlaneGeometryUtilInstance.makesureAntiClockwise.bind(PlaneGeometryUtilInstance),distanceOfLine:PlaneGeometryUtilInstance.distanceOfLine.bind(PlaneGeometryUtilInstance),ringRingClip:PlaneGeometryUtilInstance.ringRingClip.bind(PlaneGeometryUtilInstance),doesSegmentsIntersect:PlaneGeometryUtilInstance.doesSegmentsIntersect.bind(PlaneGeometryUtilInstance),doesSegmentLineIntersect:PlaneGeometryUtilInstance.doesSegmentLineIntersect.bind(PlaneGeometryUtilInstance),doesSegmentRingIntersect:PlaneGeometryUtilInstance.doesSegmentRingIntersect.bind(PlaneGeometryUtilInstance),doesSegmentPolygonIntersect:PlaneGeometryUtilInstance.doesSegmentPolygonIntersect.bind(PlaneGeometryUtilInstance),doesLineLineIntersect:PlaneGeometryUtilInstance.doesLineLineIntersect.bind(PlaneGeometryUtilInstance),doesLineRingIntersect:PlaneGeometryUtilInstance.doesLineRingIntersect.bind(PlaneGeometryUtilInstance),doesRingRingIntersect:PlaneGeometryUtilInstance.doesRingRingIntersect.bind(PlaneGeometryUtilInstance),pointInRing:PlaneGeometryUtilInstance.pointInRing.bind(PlaneGeometryUtilInstance),isPointInRing:PlaneGeometryUtilInstance.isPointInRing.bind(PlaneGeometryUtilInstance),isPointInBbox:PlaneGeometryUtilInstance.isPointInBbox.bind(PlaneGeometryUtilInstance),isRingInRing:PlaneGeometryUtilInstance.isRingInRing.bind(PlaneGeometryUtilInstance),isPointInPolygon:PlaneGeometryUtilInstance.isPointInPolygon.bind(PlaneGeometryUtilInstance),isPointInPolygons:PlaneGeometryUtilInstance.isPointInPolygons.bind(PlaneGeometryUtilInstance),isPointOnSegment:PlaneGeometryUtilInstance.isPointOnSegment.bind(PlaneGeometryUtilInstance),isPointOnLine:PlaneGeometryUtilInstance.isPointOnLine.bind(PlaneGeometryUtilInstance),isPointOnRing:PlaneGeometryUtilInstance.isPointOnRing.bind(PlaneGeometryUtilInstance),isPointOnPolygon:PlaneGeometryUtilInstance.isPointOnPolygon.bind(PlaneGeometryUtilInstance),closestOnSegment:PlaneGeometryUtilInstance.closestOnSegment.bind(PlaneGeometryUtilInstance),closestOnLine:PlaneGeometryUtilInstance.closestOnLine.bind(PlaneGeometryUtilInstance),distanceToSegment:PlaneGeometryUtilInstance.distanceToSegment.bind(PlaneGeometryUtilInstance),distanceToLine:PlaneGeometryUtilInstance.distanceToLine.bind(PlaneGeometryUtilInstance)},LngLat$2=(wD.from=function(t){return isLngLat(t)?new wD(t.KL,t.kT):new wD(t[0],t[1])},wD.prototype.setLng=function(t){return this.KL=t,this.lng=Math.round(1e6*t)/1e6,this},wD.prototype.setLat=function(t){return this.kT=t,this.lat=Math.round(1e6*t)/1e6,this},wD.prototype.getLng=function(){return this.lng},wD.prototype.getLat=function(){return this.lat},wD.prototype.equals=function(t){return(t=parseLngLatData(t))instanceof wD&&Math.max(Math.abs(this.kT-t.kT),Math.abs(this.KL-t.KL))<=1e-9},wD.prototype.add=function(t,e){return new wD(this.KL+t.KL,this.kT+t.kT,e)},wD.prototype.subtract=function(t,e){return new wD(this.KL-t.KL,this.kT-t.kT,e)},wD.prototype.divideBy=function(t,e){return new wD(this.KL/t,this.kT/t,e)},wD.prototype.multiplyBy=function(t,e){return new wD(this.KL*t,this.kT*t,e)},wD.prototype.offset=function(t,e){if(isNaN(t)||isNaN(e))throw Error("valid offset args, require number");return t=2*Math.asin(Math.sin(Math.round(t)/12756274)/Math.cos(this.kT*Math.PI/180)),t=this.KL+180*t/Math.PI,e=2*Math.asin(Math.round(e)/12756274),new wD(t,this.kT+180*e/Math.PI)},wD.prototype.toString=function(){return this.lng+","+this.lat},wD.prototype.toArray=function(){return[this.lng,this.lat]},wD.prototype.toJSON=function(){return[this.lng,this.lat]},wD.prototype.distanceTo=function(t){return GeometryUtil.distance(this,t)},wD.prototype.distance=function(t){return GeometryUtil.distance(this,t)},wD);function wD(t,e,r){if(void 0===r&&(r=!1),this.className="AMap.LngLat",isNumberArray(t)?(t=parseFloat(t[0]),e=parseFloat(t[1])):(e=parseFloat(e),t=parseFloat(t)),isNaN(t)||isNaN(e))throw Error("Invalid Object: LngLat("+t+", "+e+")");!0!==r&&(e=Math.max(Math.min(e,90),-90),t=(t+180)%360+(t<-180||180===t?180:-180)),this.kT=e,this.KL=t,this.lng=Math.round(1e6*t)/1e6,this.lat=Math.round(1e6*e)/1e6,this.pos=ProjectionManager.getProjection("EPSG:3857").project(t,e)}var Size=(VD.prototype.getWidth=function(){return this.width},VD.prototype.getHeight=function(){return this.height},VD.prototype.toString=function(){return this.width+","+this.height},VD.prototype.toArray=function(){return[this.width,this.height]},VD);function VD(t,e,r){if(void 0===r&&(r=!1),this.className="AMap.Size",isNaN(t)||isNaN(e))throw new Error("Invalid Object: Pixel("+t+", "+e+")");this.width=r?Math.round(t):Number(t),this.height=r?Math.round(e):Number(e)}var easing=(ZD={},$D=4,aE=1e-7,bE=10,eE="function"==typeof Float32Array,function(a,e,o,r){if(!(0<=a&&a<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");var t=arguments.toString();if(ZD[t])return ZD[t];if(a===e&&o===r)return mE;for(var s=new(eE?Float32Array:Array)(11),n=0;n<11;++n)s[n]=iE(.1*n,a,o);return ZD[t]=function(t){return 0===t?0:1===t?1:iE(function(t){for(var e=0,r=1;10!==r&&s[r]<=t;++r)e+=.1;var n=e+(t-s[--r])/(s[r+1]-s[r])*.1,i=jE(n,a,o);return.001<=i?function(t,e,r,n){for(var i=0;i<$D;++i){var a=jE(e,r,n);if(0===a)return e;e-=(iE(e,r,n)-t)/a}return e}(t,n,a,o):0===i?n:function(t,e,r,n,i){for(var a,o,s=0;0<(a=iE(o=e+(r-e)/2,n,i)-t)?r=o:e=o,Math.abs(a)>aE&&++s<bE;);return o}(t,e,e+.1,a,o)}(t),e,r)}}),ZD,$D,aE,bE,eE;function fE(t,e){return 1-3*e+3*t}function iE(t,e,r){return((fE(e,r)*t+(3*r-6*e))*t+3*e)*t}function jE(t,e,r){return 3*fE(e,r)*t*t+2*(3*r-6*e)*t+3*e}function mE(t){return t}function getQuadBezierValue(t,e,r,n){if(1<=t)return n;var i=1-t;return i*i*e+2*i*t*r+t*t*n}function cubic(t,e,r,n,i){if(1<=t)return i;var a=3*(r.pos[0]-e.pos[0]),o=3*(n.pos[0]-r.pos[0])-a,s=i.pos[0]-e.pos[0]-a-o,u=3*(r.pos[1]-e.pos[1]),r=3*(n.pos[1]-r.pos[1])-u,i=i.pos[1]-e.pos[1]-u-r,a=s*Math.pow(t,3)+o*Math.pow(t,2)+a*t+e.pos[0],e=i*Math.pow(t,3)+r*Math.pow(t,2)+u*t+e.pos[1];return ProjectionManager.getProjection("EPSG:3857").unproject(a,e)}function quad(t,e,r,n){return ProjectionManager.getProjection("EPSG:3857").unproject(getQuadBezierValue(t,e.pos[0],r.pos[0],n.pos[0]),getQuadBezierValue(t,e.pos[1],r.pos[1],n.pos[1]))}function p20CoordsToLngLat(t,e){return Array.isArray(e)&&(e=new Pixel(e[0],e[1])),t.containerTolnglat(e,20)}function getSplitNum(t,e){for(var n=[3,300],r=Math.max(2,4),i=0,a=0,o=0,s=t.length;o<s-1;o++){var u=t[o],c=t[o+1];i+=Math.abs(c.pos[0]-u.pos[0]),a+=Math.abs(c.pos[1]-u.pos[1])}return Math.min(n[1],Math.max(n[0],Math.round(Math.max(i,a)/e/r)))}function interpolateCoords(t,e){var r=null;switch(e.length){case 3:r=quad;break;case 4:r=cubic;break;default:return null}for(var n=[],i=[0].concat(e),a=1;a<t-2;a++)i[0]=a/t,n.push(r.apply(null,i));return n.push(e[e.length-1]),n}function getCoordsWithControlPoints(t,e,r,n){var i=null;return t&&r&&r.length&&((t=[t]).push.apply(t,r),t.push(e),t.length,i=interpolateCoords(getSplitNum(t,n),t)),i||[e]}var BezierUtil={ag:quad,ug:cubic,sg:easing,xb:function(t,e){for(var r=[],n=0,i=t.length;n<i;n+=1)r.push.apply(r,getCoordsWithControlPoints(t[n-1],t[n],t[n].controlPoints,e));return r},fg:function(t,e,r,n){for(var i=this.xb(t,e,r,n),a=[],o=0,s=i.length;o<s;o++)a.push(p20CoordsToLngLat(e,i[o]));return a}},globalInstance=self,lG,lG=exports.zB||(exports.zB={});lG.LITE="lite",lG.LEFT="left",lG.ALL="all",lG.NONE="";var TagMap={2:"all",3:"all",4:"all",5:"all",6:"lite",7:"all",8:"lite",9:"all",10:"lite",11:"lite",12:"all",13:"all",14:"all",15:"lite",16:"lite",17:"all",18:"all",19:"all",20:"all"},colorNameDist={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",grey:"#808080",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Util=function(){var n,o,e,r,i,u={CLASS_NAME:"AMap.Util",WorldAxesCenter:{x:0,y:0},Single:{},stamp:(e=!0===Browser.DW,r=1e5,i="_amap_id",function(t){return t[i]=e?++r:--r,t[i]}),singlton:function(t){return l.Single[t]||new t},getOptimalZoom:function(t){return t<Math.floor(t)+.8?Math.floor(t):Math.ceil(t)},join:function(t,e){if(t.join)return t.join(e);var r,n=[];for(r in t)t.hasOwnProperty(r)&&n.push(r+"="+(t[r]||""));return n.join(e)},getGuid:function(t,e){return void 0===e&&(e=10),(t||"")+Math.round(Math.random()*Math.pow(10,e))+"_"+(new Date).getTime()},uuid:(o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),function(t,e){var r,a,n=o,i=[];if(e=(e=void 0===e?62:e)||n.length,t=void 0===t?0:t)for(r=0;r<t;r++)i[r]=n[0|Math.random()*e];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",r=0;r<36;r++)i[r]||(a=0|16*Math.random(),i[r]=n[19===r?3&a|8:a]);return i.join("")}),endsWith:function(t,e){return t.endsWith?t.endsWith(e):!(t.length<e.length)&&t.substr(t.length-e.length)===e},mg:[],gg:268435456,wg:[215440491,106744817],Mg:{start:function(e){e.startTime=new Date,e.jg=[];var n=(new Date).getTime();e.id=l.requestAnimFrame(function r(){var t=(new Date).getTime();e.jg.push(t-n),n=t,e.id=l.requestAnimFrame(r)})},cancel:function(t){t.id&&l.cancelAnimFrame(t.id)},stop:function(t){t.Ag=Date.now()-t.startTime,this.cancel(t),t.Mg=Math.round(1e3/(t.Ag/(t.jg.length+1)))}},kg:function(t,e,r,n,i){if(void 0===i&&(i=!1),t===e)return e;switch(n=void 0===n?"linear":n){case"ease":r=BezierUtil.sg(.25,.1,.25,1)(r);break;case"ease-in":r=BezierUtil.sg(.42,0,1,1)(r);break;case"ease-out":r=BezierUtil.sg(0,0,.58,1)(r);break;case"ease-in-out":r=BezierUtil.sg(.42,0,.58,1)(r)}return t+=(e-t)*r,i&&(t>>=0),t},createObjectURL:function(t,e){void 0===e&&(e="text/javascript; charset=utf-8");var r=null;try{r=(globalInstance.URL||globalInstance.webkitURL).createObjectURL(new Blob([t],{type:e}))}catch(t){r=null}return r},revokeObjectURL:function(t){try{(globalInstance.URL||globalInstance.webkitURL).revokeObjectURL(t)}catch(t){}},Og:function(t){for(var e={},r=0,n=t.length;r<n;r++)e[t[r]]=r;return e},EV:function(t,e){var r=Math.pow(2,e),e=180/r;return[Math.floor(t[0]/(360/r))+r/2,r/2-Math.ceil(t[1]/e)]},WY:function(t,e,r){void 0===r&&(r=!1);var n=[t[0],t[3]],i=[t[2],t[1]],t=this.EV(n,e),n=this.EV(i,e),i=t[0],a=t[1],o=n[0],s=n[1];if(r)return{ja:i,Fa:a,Oa:o,Ea:s,z:e};this.Pa={ja:i,Fa:a,Oa:o,Ea:s,z:e};for(var u=[],c=i;c<=o;c+=1)for(var f=a;f<=s;f+=1)u.push([e,c,f]);return u},xg:function(t){var e={};if(l.is(t,"object"))for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e},Ig:function(t,e){if(e.length<5e4)t.push.apply(t,e);else for(var r=0,n=e.length;r<n;r+=1)t.push(e[r])},clone:function(t){if("object"!=typeof t||null===t)return t;if(t.Tg||this.is(t,"Float32Array")||this.is(t,"Uint16Array"))return t;var e,r=this.isArray(t)?[]:{};for(e in t)t.hasOwnProperty(e)&&(r[e]=l.clone(t[e]));return r},isInteger:function(t){return(0|t)===t},vB:function(t){return!isNaN(t)},setPrototypeOf:"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:function(t,e){for(var r in e)t[r]=e[r]},isFunction:function(t){return"function"==typeof t},_g:function(t,e){if(void 0===e&&(e="webgl"),!t)return t;for(var r=[],n=0,i=t.length;n<i;n+=2){var a=parseInt(t.substr(n,2),16);("webgl"===e||"rgba"===e&&0===n)&&(a=this.format(a/255,3)),r.push(a)}return r.push(r.shift()),r},Sg:function(){},keys:"function"==typeof Object.keys?Object.keys:function(t){var e,r=[];for(e in t)t.hasOwnProperty(e)&&r.push(e);return r},map:function(n,i,a){void 0===a&&(a=null);var o=[];return n&&n.length?(l.Cg(n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[1];o[r]=i.apply(a||n,t)}),o):n},forEach:function(t,e){if(t&&t.length){var r=t.length;if(0<r&&(e(t[0],0),1<r)){e(t[1],1);for(var n=2;n<r;n++)e(t[n],n)}}},Cg:function(t,e,r){if(void 0===r&&(r=null),t&&t.length)for(var n=0,i=t.length;n<i&&!1!==e.call(r,t[n],n,t);n++);},find:function(t,e,r){void 0===r&&(r=null);for(var n=0,i=t.length;n<i;n++)if("function"==typeof e){if(e.call(r,t[n],n,t))return t[n]}else if(t[n]===e)return t[n];return null},isDOM:function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},Eg:function(t,e){for(var r,n,i="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM",a="v5"<(e=e||"v5")?(r=i.length,512):(i=i.substr(0,r=27),333),o=[],s=NaN,u=0,c=t.length;u<c;u++)n=t[u],n=i.indexOf(n),s=isNaN(s)?n*r:(o.push(s+n-a),NaN);return o},Ng:function(t,e){for(var r=512<e.length?Math.round(Math.pow(e.length,.5)):e.length,n=Math.ceil(e.length/r),i=0;i<n;i+=1){var a=r*i,o=a+r;o>e.length&&(o=e.length);for(var s=a;s<o;s+=1)t(e[s])}},Lg:function(t){if(/^rgba\(/.test(t))return this.Dg(t);var e=this.colorNameToHex(t),t=e;return"#"===e[0]&&(3===(e=e.substring(1)).length&&(e=e.replace(/./g,function(t){return t+t})),t=this.argbHex2Rgba(8===e.length?e:"ff"+e)),this.Dg(t)},colorNameToHex:function(t){return"string"==typeof(t=(t=void 0===t?"":t).toLowerCase())&&colorNameDist[t]||t},Rg:function(t,e,r){var n=Math.floor(r/2),i=r-n;return[r,t&(n=(1<<n)-1<<i)|e&(i=(1<<i)-1),e&n|t&i]},Pg:function(t){return t?encodeURIComponent(t):""},getStyle:function(t,e,r,n){var i=t[e].i[r];if(void 0===i)return null;if(t=t[e].s,"number"==typeof i)return t[i];for(;void 0===i[n.toString()]&&!(--n<3););return"number"==typeof(e=i[n.toString()])?t[e]:null},Dg:function(t){return(t=t.split(","))[0]=parseFloat(t[0].split("rgba(")[1])/255,t[1]=parseFloat(t[1])/255,t[2]=parseFloat(t[2])/255,t[3]=parseFloat(t[3]),t},Ug:function(t){return(t=t.split(","))[0]=parseFloat(t[0].split("rgb(")[1])/255,t[1]=parseFloat(t[1])/255,t[2]=parseFloat(t[2])/255,t},Bg:function(t){return"rgba("+255*t[0]+","+255*t[1]+","+255*t[2]+","+t[3]+")"},color2Rgba:function(t){return this.Bg(this.color2RgbaArray(t))},color2RgbaArray:function(t){if(t instanceof Array)return 3==t.length&&t.push(1),t;var e=this.colorNameToHex(t);if(0==e.indexOf("rgb("))return(r=this.Ug(e)).push(1),r;if(0==e.indexOf("rgba("))return this.Dg(e);if(0!=e.indexOf("#")){if(0!==e.indexOf("hsla"))return 0===e.indexOf("hsl")?(n=t.substr(4).split(","),i=parseInt(n[0],10)/360,a=parseInt(n[1],10)/100,o=parseInt(n[2],10)/100,this.GQ(i,a,o,1)):3!==e.length?6==e.length?this.zg(e):8==e.length?this.qg(e):void 0:(o=e.replace(/./g,function(t){return t+t}),this.zg(o));var n=t.substr(5).split(","),i=parseInt(n[0],10)/360,a=parseInt(n[1],10)/100,o=parseInt(n[2],10)/100,r=parseFloat(n[3]);return this.GQ(i,a,o,r)}if(4!==e.length)return 7==e.length?this.zg(e.substr(1)):9==e.length?(e=e.substr(1),this.qg(e)):void 0;o=e.substr(1).replace(/./g,function(t){return t+t});return this.zg(o)},GQ:function(t,e,r,n){var i,a,o;return 0===e?i=a=o=r:(i=this.uQ(e=2*r-(r=r<.5?r*(1+e):r+e-r*e),r,t+1/3),a=this.uQ(e,r,t),o=this.uQ(e,r,t-1/3)),[i,a,o,n]},uQ:function(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},rgbHex2Rgba:function(t){return t.startsWith("#")&&(t=t.slice(1)),l.argbHex2Rgba("ff"+t)},argbHex2Rgba:function(t){for(var e=[],r=0,n=(t=t.startsWith("#")?t.slice(1):t).length;r<n;r+=2)e.push(parseInt(t.substr(r,2),16));return e.push((e.shift()/255).toFixed(2)),"rgba("+e.join(",")+")"},Opacity2Rgba:function(t,e){var r=e;return e&&e[3]&&t&&(e[3]=Math.floor(255*t)),r},Hex2Rgba:function(t){if("string"!=typeof t)return!1;for(var e=[],r=0,n=t.length;r<n;r+=2)e.push(parseInt(t.substr(r,2),16));return e.push(parseInt(e.shift())),e},zg:function(t){return this.uE(t+"ff")},qg:function(t){for(var e=[],r=0,n=t.length;r<n;r+=2)e.push(parseInt(t.substr(r,2),16)/255);return e.push(e.shift()),e},uE:function(t){return[((t=parseInt(t,16))>>24&255)/255,(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},Wg:function(t,e){return 0<=e&&t.splice(e,1),t},startsWith:function(t,e){return t.startsWith?t.startsWith(e):t.substr(0,e.length)===e},deleteItemFromArray:function(t,e){return e=l.indexOf(t,e),l.Wg(t,e)},deleteItemFromArrayByIndex:function(t,e){return l.Wg(t,e)},filter:function(t,r,n){var i=[];return l.Cg(t,function(t,e){r.call(n,t,e)&&i.push(t)}),i},indexOf:function(t,e){if(!t||!t.length)return-1;if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},Gg:function(t,e){return t.endsWith?t.endsWith(e):!(t.length<e.length)&&t.substr(t.length-e.length)==e},bind:(n=!1,Boolean(Function.prototype.bind)&&(n=!0),function(t,e){var r=2<arguments.length?Array.prototype.slice.call(arguments,2):null;return n?r?(r.unshift(e),t.bind.apply(t,r)):t.bind(e):function(){return t.apply(e,r||arguments)}}),setOptions:function(t,e){return t.opts=assign({},t.opts,e=e||{}),t.opts},yn:function(t,e,r){return"function"==typeof e?this.Hg(t,!0,this.Vg(e,r,1)):this.Hg(t,!0)},Hg:function(r,n,i,t,e,a,o){var s;if(void 0!==(s=i?e?i(r,t,e):i(r):s))return s;if(!this.$g(r))return r;var u=this.isArray(r);if(u){if(s=this.Yg(r),!n)return this.Kg(r,s)}else{var c=Object.prototype.toString.call(r),t="[object Function]"==c;if("[object Object]"!=c&&"[object Arguments]"!=c&&(!t||e))return e?r:{};if(s=this.Xg(t?{}:r),!n)return this.baseAssign(s,r)}o=o||[];for(var f=(a=a||[]).length;f--;)if(a[f]==r)return o[f];return a.push(r),o.push(s),(u?this.Zg:this.Qg)(r,function(t,e){s[e]=l.Hg(t,n,i,e,r,a,o)}),s},baseAssign:function(t,e){return null==e?t:this.tM(e,Object.keys(e),t)},$g:function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)},rM:function(t){return!!t&&"object"==typeof t},nM:function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},Yg:function(t){var e=t.length,r=new Array(e);return e&&"string"==typeof t[0]&&Object.hasOwnProperty.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Kg:function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e},Xg:function(t){return new(t="function"==typeof(t=t.constructor)&&t instanceof t?t:Object)},Vg:function(a,o,t){if("function"!=typeof a)return this.identity;if(void 0===o)return a;switch(t){case 1:return function(t){return a.call(o,t)};case 3:return function(t,e,r){return a.call(o,t,e,r)};case 4:return function(t,e,r,n){return a.call(o,t,e,r,n)};case 5:return function(t,e,r,n,i){return a.call(o,t,e,r,n,i)}}return function(){return a.apply(o,arguments)}},Zg:function(t,e){for(var r=-1,n=t.length;++r<n&&!1!==e(t[r],r,t););return t},identity:function(t){return t},iM:function(u){return function(t,e,r){for(var n=l.eM(t),i=r(t),a=i.length,o=u?a:-1;u?o--:++o<a;){var s=i[o];if(!1===e(n[s],s,n))break}return t}},Qg:function(t,e){return l.iM()(t,e,Object.keys)},eM:function(t){return l.$g(t)?t:Object(t)},tM:function(t,e,r){r=r||{};for(var n=-1,i=e.length;++n<i;){var a=e[n];r[a]=t[a]}return r},oM:function(){return!1},aM:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",uM:Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},sM:function(t,e,r,n){var i,a,o,s,u,c,f;return s=n?(i=0,o=this.uM,function(){if((a=o())-i<e)return!1;i=a,t.apply(r,arguments)}):(f=function(){u=!1,c&&(s.apply(r,c),c=!1)},function(){u?c=arguments:(u=!0,t.apply(r,arguments),setTimeout(f,e))})},format:function(t,e){return t===t<<0?t:+parseFloat(t+"").toFixed(e||0)},isArray:Array.isArray||function(t){return this.is(t,"array")},is:function(t,e){return Object.prototype.toString.call(t).split(" ")[1].slice(0,-1).toLowerCase()===e.toLowerCase()},includes:"function"==typeof Array.prototype.includes?function(t,e){return t.includes(e)}:function(t,e){return-1!==this.indexOf(t,e)},fM:function(t){var e=0;if(0===t.length)return e;for(var r=0,n=t.length;r<n;r+=1)e=(e<<5)-e+t.charCodeAt(r),e&=e;return e},hM:function(t,e){e=e?Math.ceil(parseInt(e.substr(6))/24):1;for(var r="",n=0,i=t.length;n<i;n++)r+=String.fromCharCode((t.charCodeAt(n)-256-e+65535)%65535);return r},cM:function(t,e){var r=(t+"").slice(-2),n=(e+"").slice(-2);t=t.slice(0,-2),e=e.slice(0,-2);var i=parseInt((n+r).slice(1)),a=Math.ceil(i/250)%2?1:-1,i=1<i/500?1:-1;return t-=parseInt("1"+r)/3e3*a,e-=parseInt("1"+n)/3e3*i,new LngLat$2(parseFloat(t).toFixed(5),parseFloat(e).toFixed(5))},vM:function(t){return"undefined"!=typeof JSON&&JSON.stringify?l.fM(JSON.stringify(t)):null},lM:function(t,e){var r="_amap_hash";return!e&&t.hasOwnProperty(r)||(e=l.vM(t))&&(t[r]=e),t[r]},parseLngLatData:function(t){if(l.isArray(t)){if(!l.isArray(t[0])){var e=typeof t[0];return"string"==e||"number"==e?new LngLat$2(t[0],t[1]):t}for(var r=0;r<t.length;r+=1)t[r]=l.parseLngLatData(t[r])}return t},dM:function(t){for(var e=[],r=0,n=t.length;r<n;r+=1)e[r]=[t[r].x,t[r].y];return e},bM:function(t){return l.isArray(t)?new Size(t[0],t[1]):t},hp:function(t,e){var r,n=[0,0],i=l.getOptimalZoom(e.viewState.zoom);return t&&LocalZoom<=i?(r=lcs.getSize(),i=e.viewState.centerCoord,e=lcs.getLocalByCoord([i[0],i[1]]),i=t.x-e.x,e=t.y-e.y,0!=i&&(i*=r[0],n[0]=i),0!=e&&(e*=r[1],n[1]=e)):t&&(n[0]+=t.center[0],n[1]+=t.center[1]),n},dS:function(t,e){return t>=e[0]&&t<=e[1]},kD:function(t,e,r){return void 0===r&&(r=!1),t=(t=void 0===t?"":t).split(",")[0]||"",!r&&t&&e&&TagMap[e]||"all"},VF:function(t,e,r){return!(r=void 0!==r&&r)&&t&&e&&TagMap[e]||"all"},LD:function(t,e){return!(!t||!e)&&(t=this.iN(t),this.iN(e)<=t)},SD:function(t){var e;switch(t=void 0===t?"all":t){case"lite":e=0;break;case"left":e=1;break;default:e=2}return e},pW:function(t){var e;switch(t=void 0===t?2:t){case 0:e=exports.zB.LITE;break;case 1:e=exports.zB.LEFT;break;default:e=exports.zB.ALL}return e},iN:function(t){var e=0;switch(t){case"lite":e=0;break;case"left":e=1;break;case"all":e=2}return e}};!function(){var n=0;function t(t){var e=+new Date,r=Math.max(0,(Browser.android?50:20)-(e-n));return n=e+r,globalInstance.setTimeout(t,50)}function e(t){globalInstance.clearTimeout(t)}if(Browser.DW){var i=t,r=e;return u.requestAnimFrame=function(t,e,r,n){if(!r)return i(function(){e?l.bind(t,e).call(e,n):t()});e?l.bind(t,e).call(e,n):t()},u.cancelAnimFrame=function(t){t&&r.call(globalInstance,t)}}function a(t){for(var e,r=["webkit","moz","o","ms"],n=0;n<r.length&&!e;n+=1)e=globalInstance[r[n]+t];return e}var o=globalInstance.requestAnimationFrame||a("RequestAnimationFrame")||t,s=globalInstance.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||e;u.requestAnimFrame=function(t,e,r,n){if(!r)return o(function(){e?l.bind(t,e).call(e,n):t()});e?l.bind(t,e).call(e,n):t()},u.cancelAnimFrame=function(t){t&&s.call(globalInstance,t)}}(),Browser.DW||(u.requestIdleCallback=globalInstance.requestIdleCallback?function(t,e){return globalInstance.requestIdleCallback(t,e)}:function(t,e){void 0===e&&(e={});var r=l.uM();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,70-(l.uM()-r))}})},e.timeout||0)},u.cancelIdleCallback=globalInstance.cancelIdleCallback?function(t){return globalInstance.cancelIdleCallback(t)}:function(t){clearTimeout(t)});var l=u;return l}(),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function __decorate(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.yV)o=Reflect.yV(t,e,r,n);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(o=(a<3?i(o):3<a?i(e,r,o):i(e,r))||o);return 3<a&&o&&Object.defineProperty(e,r,o),o}function __spreadArrays(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}exports.Ln=function(){return exports.Ln=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},exports.Ln.apply(this,arguments)};var LabelFormat=(IO.prototype.Ns=function(t,e){e.lang&&(this.lang=e.lang)},IO.prototype.rV=function(t,e){return t},IO.prototype.Ws=function(t,e){for(var r=this.Es,e=labelsUtil.EQ(t=void 0===t?"":t,e=void 0===e?[]:e),n=labelsUtil.aQ(e),i=0;i<n.length;i++)r[n[i]]=1},IO.id="labelFormat",IO);function IO(){this.Fs={},this.Es={},this.Ts=[]}function noop$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var URLObject="undefined"!=typeof window?window.URL||window.webkitURL||{createObjectURL:function(){console.error("URL not exist, please use more popular browser")}}:URL||webkitURL||{createObjectURL:function(){console.error("URL not exist, please use more popular browser")}},MockMap=(VO.prototype.has=function(t){return Boolean(this.gV[t])},VO.prototype.set=function(t,e){return this.gV[t]=e},VO.prototype.get=function(t){return this.gV[t]},VO.prototype.pV=function(t){delete this.gV[t]},VO.prototype.clear=function(){this.gV={}},VO.prototype.forEach=function(t){for(var e in this.gV)this.gV.hasOwnProperty(e)&&t(this.gV[e])},VO);function VO(){this.gV={}}var AdaptorMap=globalInstance.Map||MockMap,SmartTypedArray=(bP.prototype.set=function(t){this.check(t)&&(t.length<this.uf?this.value.set(t):(this.cf(t.length),this.value.set(t),this.length=t.length))},bP.prototype.check=function(t){if(Array.isArray(t))return!0;var e=!1;switch(this.type){case"uint8":e=t instanceof Uint8Array;break;case"int8":e=t instanceof Int8Array;break;case"uint16":e=t instanceof Uint16Array;break;case"int16":e=t instanceof Int16Array;break;case"uint32":e=t instanceof Uint32Array;break;case"int32":e=t instanceof Int32Array;break;case"float32":e=t instanceof Float32Array;break;case"float64":e=t instanceof Float64Array;break;default:e=!1}return e},bP.prototype.subarray=function(t,e){return this.value.subarray(t,e)},bP.prototype.ff=function(t){this.uf<t&&this.cf(t),this.length=t},bP.prototype.cf=function(t){var e=this.pf(),r=this.value;return this.value=new e(t),r&&this.value.set(r),this.uf=t,this.value},bP.prototype.pf=function(){var t=Float32Array;switch(this.type){case"uint8":t=Uint8Array;break;case"int8":t=Int8Array;break;case"uint16":t=Uint16Array;break;case"int16":t=Int16Array;break;case"uint32":t=Uint32Array;break;case"int32":t=Int32Array;break;case"float32":t=Float32Array;break;case"float64":t=Float64Array;break;default:t=Float32Array}return t},__decorate([InnerClass("SmartTypedArray")],bP)),oP;function bP(t,e){void 0===e&&(e=1024),this.type=t,this.length=0,this.uf=0,this.value=this.cf(e)}oP=exports.dY||(exports.dY={}),oP[oP.fontWidth=0]="fontWidth",oP[oP.fontHeight=1]="fontHeight",oP[oP.horiBearingX=2]="horiBearingX",oP[oP.horiBearingY=3]="horiBearingY",oP[oP.horiAdvance=4]="horiAdvance",oP[oP.posX=5]="posX",oP[oP.posY=6]="posY",oP[oP.iconWidth=7]="iconWidth",oP[oP.iconHeight=8]="iconHeight";var INF=1e20,ControlChars=[[0,31],[127,159]],ZeroWidthChars=[[8203,8207]],f=new SmartTypedArray("float64",4096),d=new SmartTypedArray("float64",4096),z=new SmartTypedArray("float64",4096),v=new SmartTypedArray("float64",4096),ua=navigator.userAgent,TinySDF=(pP.prototype.bU=function(t){this.size=t||[],this.xU(),this.mU()},pP.prototype.Ce=function(t){var e=this.size,r=e[0],n=e[1],i=r*n,a=this.Nz;if(a){a.clearRect(0,0,r,n),a.fillText(t,this.buffer,this.wU);var o=a.getImageData(0,0,r,n),s=new Uint8ClampedArray(i),u=new Array(9).fill(0);if(u[0]=1,u[1]=1,e=t.charCodeAt(0),this.RU(e))return{bitmap:s,info:u};for(var c,f=INF,l=INF,h=0,d=0,v=0;v<i;v++){var g=v-(c=Math.floor(v/r))*r,b=o.data[4*v+3]/255;0<b&&(c<f&&(f=c),g<l&&(l=g),h<c&&(h=c),d<g&&(d=g)),this.TU.value[v]=1==b?0:0==b?INF:Math.pow(Math.max(0,.5-b),2),this.AU.value[v]=1==b?INF:0==b?0:Math.pow(Math.max(0,b-.5),2)}for(a=this.buffer,u=this.getWidth(t,d-l),t=void 0,t=32===e?[6,6,0,-21,9,0,0,r,n]:[u,h-f,l,-f+a,u,l-3,f-3,r,n],edt(this.TU.value,r,n),edt(this.AU.value,r,n),v=0;v<i;v++){var p=this.TU.value[v]-this.AU.value[v],p=Math.max(0,Math.min(255,Math.round(255-255*(p/this.radius+this.MU))));s[v]=p}return{bitmap:s,info:t}}return{}},pP.prototype.getWidth=function(t,e){var r;switch(t){case"y":case"A":case"T":case"V":case"W":case"Y":r=e;break;default:r=e+2}return r},pP.prototype.measureText=function(t){return this.Nz.measureText(t)},pP.prototype.xU=function(){var t=this.size;this.canvas||(this.canvas=document.createElement("canvas")),this.canvas.width=t[0],this.canvas.height=t[1],this.Nz=this.canvas.getContext("2d"),this.Nz&&(this.Nz.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.Nz.textBaseline="middle",this.Nz.fillStyle="black")},pP.prototype.mU=function(){var t=this.size,e=t[0];(e=e*(t=t[1]))>this.AU.uf&&(this.AU.ff(e),this.TU.ff(e)),e=0<=ua.indexOf("Gecko/")||0<=ua.indexOf("Windows"),this.wU=Math.round(t/2*(e?1.2:1))},pP.prototype.RU=function(t){var e=this.SU(t,ControlChars),t=this.SU(t,ZeroWidthChars);return e||t},pP.prototype.SU=function(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(t>=i[0]&&t<=i[1])return!0}},pP);function pP(t,e,r,n,i,a,o){this.fontSize=t||24,this.buffer=void 0===r?3:r,this.MU=i||.25,this.fontFamily=a||"sans-serif",this.fontWeight=o||"lighter",this.radius=n||8,this.size=e,this.xU(),n=e[0]*e[1],this.TU=new SmartTypedArray("float64",n),this.AU=new SmartTypedArray("float64",n),n=0<=ua.indexOf("Gecko/")||0<=ua.indexOf("Windows"),this.wU=Math.round(e[1]/2*(n?1.2:1))}function expandTypeArray(t){f.ff(t),d.ff(t),z.ff(t),v.ff(t)}function edt(t,e,r){f.uf<r&&expandTypeArray(r);for(var n=0;n<e;n++){for(var i=0;i<r;i++)f.value[i]=t[i*e+n];for(edt1d(f.value,d.value,v.value,z.value,r),i=0;i<r;i++)t[i*e+n]=d.value[i]}for(f.uf<e&&expandTypeArray(r),i=0;i<r;i++){for(n=0;n<e;n++)f.value[n]=t[i*e+n];for(edt1d(f.value,d.value,v.value,z.value,e),n=0;n<e;n++)t[i*e+n]=Math.sqrt(d.value[n])}}function edt1d(t,e,r,n,i){n[r[0]=0]=-INF,n[1]=+INF;for(var a=1,o=0;a<i;a++){for(var s=(t[a]+a*a-(t[r[o]]+r[o]*r[o]))/(2*a-2*r[o]);s<=n[o];)o--,s=(t[a]+a*a-(t[r[o]]+r[o]*r[o]))/(2*a-2*r[o]);r[++o]=a,n[o]=s,n[o+1]=+INF}for(o=a=0;a<i;a++){for(;n[o+1]<a;)o++;e[a]=(a-r[o])*(a-r[o])+t[r[o]]}}var LangConf={ch:{type:"ch",size:[32,32],fontSize:24,name:"中文简体"},en:{type:"en",size:[32,32],fontSize:24,name:"英文"},th:{type:"th",size:[32,32],fontSize:24,name:"泰语"},my:{type:"my",size:[56,56],fontSize:24,name:"缅甸语"},ja:{type:"ja",size:[32,32],fontSize:24,name:"日文"},km:{type:"km",size:[40,40],fontSize:24,name:"高棉语"},PU:{type:"lao",size:[40,40],fontSize:24,name:"老挝语"},$U:{type:"arabic",size:[40,40],fontSize:24,name:"阿拉伯语"},default:{type:"ch",size:[32,32],fontSize:24,name:"汉语"}},Lang=(HQ.prototype.Ce=function(t){return this.type===LangConf.PU.type?(this.width=10*Math.floor(this.NU.measureText(t).width/10)+10+LangConf.PU.fontSize/2,this.NU.bU([this.width,this.height])):(this.type===LangConf.my.type||this.type===LangConf.PU.type||this.type===LangConf.th.type||this.type===LangConf.$U.type||this.type===LangConf.km.type)&&1<t.length&&(this.width=Math.floor(this.CU.size[0]*t.length*.5),this.NU.bU([this.width,this.height])),this.NU.Ce(t)},HQ);function HQ(t){var r=(e=this.CU=t).type,t=e.size,e=e.fontSize;this.type=r,r=this.width=t[0],t=this.height=t[1],this.NU=new TinySDF(e,[r,t],(r-e)/2,8,.25,"PingFang SC","normal")}var LangManager=(QQ.gG=function(t){return t=t.split("|"),t=parseInt(t[0],10),this.IU(t)},QQ.kU=function(t){for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return QQ.gG(e.join("|"))},QQ.LU=function(t){return t=QQ.kU(t),-1!==QQ.EU.indexOf(t)},QQ.IU=function(t){return 32<t&&t<591?"en":4096<=t&&t<=4255?"my":3584<=t&&t<=3711?"th":6016<=t&&t<=6143?"km":3712<=t&&t<=3839?"lao":1536<=t&&t<=1791?"arabic":"ch"},QQ.prototype.D$=function(t){var e,r=this.OU[t=void 0===t?"ch":t];return r||(e=LangConf[t]||LangConf.default,r=new Lang(e),this.OU[t]=r),r},QQ.EU=[LangConf.my.type,LangConf.km.type,LangConf.PU.type],QQ);function QQ(){this.OU={}}var CHN=[["90.398619","47.62125"],["90.493569","47.512157"],["90.491338","47.430787"],["90.552986","47.391174"],["90.522859","47.318461"],["90.584915","47.224989"],["90.782025","47.019194"],["90.923517","46.97996"],["90.986624","46.807403"],["91.082926","46.722064"],["91.051812","46.596604"],["91.100242","46.564068"],["91.102624","46.537196"],["90.935125","46.300398"],["91.032801","46.126363"],["91.055181","46.011658"],["90.741148","45.713536"],["90.699563","45.544726"],["90.700228","45.504993"],["90.795887","45.449956"],["90.832257","45.31629"],["90.919719","45.26871"],["90.920899","45.225065"],["91.136978","45.244316"],["91.253943","45.164928"],["91.372068","45.142003"],["91.45689","45.18485"],["91.624753","45.098124"],["92.062061","45.11548"],["92.497694","45.030848"],["92.887666","45.075869"],["93.513157","44.997233"],["94.22699","44.694971"],["94.374082","44.542037"],["94.620202","44.47394"],["94.737532","44.366876"],["95.002041","44.282908"],["95.42701","44.324539"],["95.440292","44.292217"],["95.365491","44.054053"],["95.549126","44.026335"],["95.883651","43.431746"],["95.911953","43.287656"],["96.385653","42.919774"],["96.41151","42.75927"],["97.176454","42.824161"],["98.198333","42.682435"],["99.505985","42.597497"],["99.964106","42.676693"],["100.259793","42.666107"],["100.320604","42.718863"],["100.867753","42.700052"],["101.814637","42.530852"],["102.090733","42.250567"],["102.451458","42.173439"],["102.716911","42.181644"],["103.426452","41.910629"],["103.858223","41.830321"],["104.537873","41.903108"],["104.55755","41.881352"],["104.554117","41.69046"],["104.929798","41.682608"],["105.010371","41.620463"],["105.220141","41.778353"],["105.732529","41.977008"],["106.776853","42.319288"],["107.167833","42.354897"],["107.458928","42.487147"],["107.937949","42.433308"],["108.241189","42.489425"],["108.84269","42.425722"],["109.022141","42.487574"],["109.290662","42.465227"],["109.534657","42.500548"],["109.723763","42.60669"],["110.100045","42.671172"],["110.420666","42.80617"],["111.005001","43.354829"],["111.446257","43.521761"],["111.555004","43.519925"],["111.780481","43.697712"],["111.925235","43.719055"],["111.936243","43.796237"],["111.863286","43.902314"],["111.643689","44.039247"],["111.386948","44.360034"],["111.610923","44.793044"],["111.742544","44.988614"],["111.9942","45.118751"],["112.435906","45.103062"],["112.61512","44.956037"],["112.806373","44.882816"],["113.624854","44.775834"],["113.896701","44.9424"],["114.104283","44.984106"],["114.437113","45.233044"],["114.543629","45.41585"],["114.742713","45.46746"],["114.977202","45.40645"],["115.36123","45.421513"],["115.688202","45.487095"],["116.023886","45.712008"],["116.163919","45.717567"],["116.251037","45.785617"],["116.213851","45.874652"],["116.246574","45.98171"],["116.56904","46.316673"],["116.83033","46.413023"],["117.353361","46.390324"],["117.41533","46.528251"],["117.39222","46.582448"],["117.411768","46.610108"],["117.618878","46.628442"],["117.72387","46.549579"],["118.312433","46.768455"],["118.774374","46.71799"],["118.828619","46.795917"],["118.912926","46.804113"],["118.941979","46.764971"],["119.028625","46.769292"],["119.119864","46.669494"],["119.724391","46.623078"],["119.791059","46.707882"],["119.884572","46.701717"],["119.896224","46.880494"],["119.836485","46.899381"],["119.742007","47.13776"],["119.30249","47.404711"],["119.315214","47.461827"],["119.134262","47.517476"],["119.10804","47.64174"],["118.755577","47.747779"],["118.55396","47.96464"],["118.177657","48.02096"],["117.82558","47.987997"],["117.388809","47.612384"],["117.082887","47.796869"],["116.816533","47.867783"],["116.452289","47.808327"],["116.270714","47.845797"],["115.938377","47.653883"],["115.559971","47.900966"],["115.500727","48.161305"],["115.791907","48.279437"],["115.776629","48.537807"],["116.042275","48.826715"],["116.024444","48.890046"],["116.709459","49.880215"],["117.07866","49.723328"],["117.482128","49.648667"],["117.801998","49.554185"],["117.858689","49.620567"],["118.068073","49.643304"],["118.210831","49.759243"],["118.358674","49.80286"],["118.37378","49.853853"],["118.468623","49.857768"],["118.559926","49.957101"],["119.082034","50.01451"],["119.311051","50.169532"],["119.328389","50.327724"],["119.175332","50.320094"],["119.103534","50.373674"],["119.103642","50.409488"],["119.224019","50.469114"],["119.262214","50.625767"],["119.470096","50.763554"],["119.480245","50.910299"],["119.734497","51.106944"],["119.73542","51.228925"],["119.789064","51.243368"],["119.787948","51.298691"],["119.896417","51.365189"],["119.889615","51.410731"],["119.950318","51.426267"],["120.067241","51.699773"],["120.632029","51.963004"],["120.755196","52.16206"],["120.733974","52.23734"],["120.60276","52.318868"],["120.688398","52.529211"],["120.459208","52.615218"],["120.046556","52.554881"],["120.004778","52.785297"],["120.275145","52.889292"],["120.877526","53.323248"],["121.231921","53.310391"],["122.338707","53.534212"],["122.443142","53.474191"],["122.84101","53.486577"],["123.278553","53.592823"],["123.480492","53.533829"],["123.518364","53.587614"],["123.901491","53.509565"],["124.129157","53.379309"],["124.260864","53.404185"],["124.447374","53.252351"],["124.696798","53.233398"],["124.854212","53.143501"],["124.877429","53.19179"],["125.14374","53.233437"],["125.500989","53.129213"],["125.53472","53.084642"],["125.631731","53.108131"],["125.776978","53.000452"],["125.732839","52.906456"],["125.842016","52.927481"],["125.973551","52.795444"],["126.049747","52.829373"],["126.137295","52.788424"],["126.136093","52.7501"],["126.082878","52.727183"],["126.094744","52.66376"],["126.01078","52.632295"],["126.225078","52.557751"],["126.227546","52.502887"],["126.28664","52.498733"],["126.378071","52.405299"],["126.365626","52.334723"],["126.460233","52.313556"],["126.457937","52.278438"],["126.370797","52.21752"],["126.587327","52.146539"],["126.544647","52.022831"],["126.483493","52.004144"],["126.489866","51.963387"],["126.757379","51.72942"],["126.769931","51.638237"],["126.737959","51.604012"],["126.870396","51.541384"],["126.8313","51.449554"],["126.939726","51.411373"],["126.952021","51.35238"],["127.007918","51.339647"],["126.930671","51.194554"],["126.950047","51.077214"],["127.328668","50.761993"],["127.324612","50.674039"],["127.399564","50.585975"],["127.336199","50.480736"],["127.39435","50.441709"],["127.374866","50.346296"],["127.622938","50.242265"],["127.624762","50.159938"],["127.524126","50.053819"],["127.569466","49.832087"],["127.686474","49.798414"],["127.716987","49.69577"],["127.838395","49.617717"],["128.185065","49.56898"],["128.533065","49.633229"],["128.791094","49.618148"],["128.84167","49.562161"],["128.811865","49.506248"],["129.022107","49.485245"],["129.11165","49.389985"],["129.230032","49.429552"],["129.343135","49.392234"],["129.383497","49.461849"],["129.526126","49.451932"],["129.593332","49.316758"],["129.745059","49.313625"],["129.972146","49.057136"],["130.243692","48.89923"],["130.444579","48.939218"],["130.526934","48.889044"],["130.693552","48.907086"],["130.705612","48.869994"],["130.580449","48.630526"],["130.630317","48.609845"],["130.648105","48.52472"],["130.790884","48.525345"],["130.778868","48.413864"],["130.875106","48.300724"],["130.708423","48.108792"],["130.914073","47.945556"],["131.01546","47.736076"],["131.552374","47.750448"],["131.621768","47.692216"],["131.711934","47.740348"],["131.958075","47.703033"],["131.995368","47.741041"],["132.235458","47.739381"],["132.340472","47.796162"],["132.546873","47.750881"],["132.655685","47.89209"],["132.654505","47.979308"],["132.811511","47.967327"],["133.097413","48.158185"],["133.473394","48.128346"],["133.728504","48.281365"],["134.199908","48.411499"],["134.519091","48.448618"],["134.797053","48.402511"],["134.903462","48.476549"],["135.111473","48.465979"],["135.087461","48.366044"],["134.70854","48.235879"],["134.705815","48.142967"],["134.587133","47.991745"],["134.802439","47.732613"],["134.805079","47.701502"],["134.584837","47.454022"],["134.327302","47.405829"],["134.203448","47.309543"],["134.189801","47.25835"],["134.258273","47.190339"],["134.25029","47.096963"],["134.160018","47.066453"],["134.091868","46.968583"],["134.042215","46.633997"],["133.892806","46.477753"],["133.978872","46.404235"],["133.938468","46.35728"],["133.943124","46.251663"],["133.734856","46.143924"],["133.77584","46.068467"],["133.698828","45.924364"],["133.509421","45.823745"],["133.533154","45.779212"],["133.488886","45.719859"],["133.513906","45.69461"],["133.496869","45.599732"],["133.229721","45.489276"],["133.168674","45.414886"],["133.124621","45.258199"],["133.158975","45.105773"],["132.946351","44.989767"],["131.996377","45.226214"],["131.893723","45.301592"],["131.80903","45.186922"],["131.72307","45.208468"],["131.688416","45.166214"],["131.716461","45.107939"],["131.507506","44.942491"],["131.131804","44.90387"],["131.021662","44.839439"],["131.137726","44.723122"],["131.338398","44.056058"],["131.273661","43.974086"],["131.248341","43.566337"],["131.344342","43.514183"],["131.346252","43.391702"],["131.236002","43.22857"],["131.242955","43.131057"],["131.13749","43.018486"],["131.168904","42.923466"],["131.065779","42.901952"],["131.05005","42.834641"],["130.673962","42.819219"],["130.46123","42.731347"],["130.617421","42.685874"],["130.650616","42.595365"],["130.604267","42.509264"],["130.661752","42.412289"],["130.553477","42.421191"],["130.507536","42.571366"],["130.42958","42.523293"],["130.416105","42.590452"],["130.235238","42.692151"],["130.237405","42.873951"],["130.125611","42.876169"],["130.075765","42.911319"],["130.092008","42.956423"],["129.933178","42.975108"],["129.878311","42.92378"],["129.795163","42.719399"],["129.815032","42.601778"],["129.735103","42.411401"],["129.607751","42.418118"],["129.55415","42.330996"],["129.383025","42.403749"],["129.268527","42.323223"],["129.222093","42.257635"],["129.2434","42.19201"],["128.992774","42.075243"],["128.959644","41.997184"],["128.121765","41.974471"],["128.183949","41.746614"],["128.336234","41.608881"],["128.268621","41.434008"],["128.127944","41.337429"],["128.00482","41.417516"],["127.65285","41.377517"],["127.537794","41.447986"],["127.248116","41.454805"],["127.234962","41.492217"],["127.08566","41.544545"],["127.128081","41.592273"],["127.012339","41.679643"],["127.035706","41.702541"],["126.914964","41.778689"],["126.809177","41.669562"],["126.74607","41.691325"],["126.612003","41.629975"],["126.529799","41.412013"],["126.562243","41.368516"],["126.557908","41.33825"],["126.45328","41.325763"],["126.3043","41.139979"],["126.148946","41.070584"],["126.132917","40.990783"],["126.041744","40.924117"],["126.041787","40.876401"],["125.721896","40.840697"],["125.681319","40.80754"],["125.712733","40.774611"],["125.686641","40.761853"],["125.582743","40.75319"],["125.423162","40.624246"],["125.310595","40.636606"],["125.022783","40.521123"],["125.06057","40.46396"],["124.907556","40.445935"],["124.374311","40.078794"],["124.388452","39.905638"],["123.741782","39.10294"],["123.282201","38.058466"],["124.24299","31.368588"],["124.714351","29.508006"],["125.072136","25.859069"],["124.935837","25.676612"],["123.836839","25.5127"],["122.751321","24.515956"],["121.947788","22.070621"],["121.867355","21.383021"],["119.827087","18.177352"],["119.026527","16.873489"],["119.11665","15.951676"],["119.101406","14.063252"],["119.100623","12.209516"],["119.07742","11.23357"],["116.011301","7.678721"],["114.941852","6.182877"],["114.229887","5.47862"],["113.86269","4.692236"],["112.795642","3.695169"],["111.953841","3.231846"],["109.894631","3.714037"],["108.659956","4.748032"],["107.925439","5.91737"],["107.96348","6.895899"],["108.555028","9.28242"],["110.128544","11.338543"],["109.983314","12.44102"],["109.806102","13.535124"],["109.636428","14.636855"],["109.78629","15.402577"],["109.449813","15.723154"],["108.117871","17.258818"],["107.310076","18.842045"],["107.374728","19.467179"],["108.051095","20.114414"],["108.328478","21.187373"],["108.278139","21.403412"],["108.107378","21.47839"],["107.943356","21.509097"],["107.849844","21.619412"],["107.547355","21.55724"],["107.470751","21.571209"],["107.451932","21.615722"],["107.357798","21.570152"],["107.289755","21.702532"],["107.207551","21.682454"],["106.998789","21.79714"],["107.015655","21.907972"],["106.951239","21.893876"],["106.768184","21.978429"],["106.703854","21.935422"],["106.674027","21.941175"],["106.664565","22.266461"],["106.643493","22.30484"],["106.538715","22.328641"],["106.53142","22.460275"],["106.592939","22.622033"],["106.708553","22.615477"],["106.793547","22.794758"],["106.548972","22.899047"],["106.304634","22.830954"],["106.190543","22.951201"],["106.088791","22.966118"],["105.867991","22.889816"],["105.712488","23.033058"],["105.550311","23.045755"],["105.530806","23.163759"],["105.330691","23.346393"],["105.249667","23.237422"],["105.089657","23.231409"],["104.951169","23.149476"],["104.843495","23.101267"],["104.893084","22.94393"],["104.747257","22.79551"],["104.567764","22.813411"],["104.371855","22.65974"],["104.249053","22.720536"],["104.237015","22.806132"],["104.137495","22.783462"],["104.078336","22.740585"],["104.017096","22.520843"],["103.962035","22.492019"],["103.666692","22.741534"],["103.525093","22.580551"],["103.458703","22.648987"],["103.394201","22.751092"],["103.341286","22.767397"],["103.306804","22.661878"],["103.215652","22.621855"],["103.205309","22.536362"],["103.107505","22.486567"],["103.076606","22.416444"],["102.91784","22.456309"],["102.840786","22.583305"],["102.610223","22.696625"],["102.558017","22.673838"],["102.493515","22.738071"],["102.424293","22.676273"],["102.446694","22.621241"],["102.327948","22.511268"],["102.278531","22.386786"],["102.142661","22.36867"],["102.03475","22.427651"],["101.942096","22.415036"],["101.8765","22.355136"],["101.764791","22.472926"],["101.700847","22.453176"],["101.694624","22.349917"],["101.579332","22.223979"],["101.631925","21.988099"],["101.718335","21.962549"],["101.79863","21.848016"],["101.778824","21.73654"],["101.856952","21.62392"],["101.847124","21.595911"],["101.773932","21.558438"],["101.760328","21.349162"],["101.862724","21.239522"],["101.764727","21.115389"],["101.663511","21.164623"],["101.587808","21.146813"],["101.574161","21.209359"],["101.53264","21.221881"],["101.293538","21.149214"],["101.203866","21.206559"],["101.216612","21.289294"],["101.114173","21.403592"],["101.183052","21.497378"],["101.111941","21.560533"],["101.095719","21.734009"],["100.901892","21.659343"],["100.747526","21.494902"],["100.586185","21.423588"],["100.468576","21.433695"],["100.414267","21.504705"],["100.248806","21.434534"],["100.115855","21.481604"],["100.078626","21.591362"],["100.11579","21.654357"],["100.010068","21.666462"],["99.916813","21.811046"],["99.968591","21.972539"],["99.950867","22.023392"],["99.699748","22.008512"],["99.585378","22.083453"],["99.19384","22.094388"],["99.129961","22.147006"],["99.24403","22.347694"],["99.226069","22.407775"],["99.348979","22.505302"],["99.289627","22.751963"],["99.429595","22.858203"],["99.422858","22.95454"],["99.521735","22.955884"],["99.488432","23.051046"],["99.336512","23.101188"],["99.258964","23.048934"],["99.10449","23.057463"],["98.99924","23.151389"],["98.858693","23.167152"],["98.89811","23.292382"],["98.844295","23.323341"],["98.878284","23.4184"],["98.821571","23.466061"],["98.773527","23.530055"],["98.849638","23.617887"],["98.774085","23.751823"],["98.656368","23.775684"],["98.63961","23.801661"],["98.649909","23.978332"],["98.828974","24.077833"],["98.83893","24.109859"],["98.594849","24.051324"],["98.534853","24.098401"],["98.118939","24.06406"],["97.652578","23.812007"],["97.500916","23.916402"],["97.507889","23.946076"],["97.703905","24.12772"],["97.7321","24.242073"],["97.646012","24.307132"],["97.678134","24.384313"],["97.653759","24.420913"],["97.528617","24.403523"],["97.504349","24.421636"],["97.520614","24.750904"],["97.686181","24.867223"],["97.726886","24.872596"],["97.701159","24.901891"],["97.691374","25.085579"],["97.816257","25.289948"],["97.844152","25.297669"],["97.93803","25.249897"],["98.122308","25.413237"],["98.152177","25.643055"],["98.313818","25.589382"],["98.380058","25.615679"],["98.510756","25.863626"],["98.635018","25.83211"],["98.668857","25.860517"],["98.546226","26.121072"],["98.648708","26.171346"],["98.686366","26.138757"],["98.648","26.279486"],["98.751404","26.620222"],["98.701365","26.849746"],["98.733852","27.033154"],["98.685272","27.065508"],["98.663149","27.194049"],["98.708661","27.325701"],["98.657935","27.422786"],["98.67244","27.532116"],["98.574979","27.540164"],["98.537407","27.61841"],["98.464022","27.631357"],["98.417695","27.512725"],["98.29766","27.498051"],["98.144388","27.832814"],["98.155954","27.920407"],["98.109477","27.953809"],["98.111","28.123353"],["97.991245","28.182664"],["97.984571","28.253152"],["97.904449","28.328541"],["97.775702","28.306704"],["97.650433","28.498038"],["97.537651","28.471615"],["97.537544","28.300942"],["97.374809","28.215134"],["97.340262","28.085365"],["97.441328","28.020526"],["97.41045","27.866111"],["97.271254","27.865238"],["97.104206","27.710621"],["97.074959","27.716851"],["96.959302","27.833554"],["96.799979","27.862962"],["96.485238","28.041967"],["96.435456","28.122218"],["96.282742","28.11548"],["96.254032","28.195619"],["96.011753","28.160892"],["95.866721","28.266533"],["95.747824","28.246895"],["95.417182","28.118906"],["95.304315","27.916842"],["94.898787","27.716889"],["94.531603","27.567615"],["94.290032","27.552854"],["93.888688","27.17204"],["93.845987","27.008916"],["93.571308","26.909059"],["92.944937","26.862668"],["92.647405","26.922873"],["92.093539","26.830122"],["92.094247","26.952103"],["91.998589","27.089524"],["92.083004","27.299047"],["92.034273","27.387239"],["91.995907","27.444668"],["91.729424","27.433927"],["91.566002","27.518015"],["91.534996","27.644815"],["91.602566","27.75719"],["91.514804","27.82382"],["91.562676","27.867913"],["91.468799","27.914302"],["91.441784","27.98019"],["91.319818","28.026891"],["91.09123","27.815659"],["90.700164","28.042914"],["90.592875","27.992071"],["90.457885","28.016188"],["90.284765","28.126494"],["90.15898","28.149257"],["90.026414","28.108761"],["89.808083","28.209972"],["89.741178","28.14466"],["89.620585","28.133666"],["89.394701","27.853894"],["89.261577","27.776101"],["89.129934","27.494282"],["89.208705","27.359876"],["89.003119","27.183627"],["88.914757","27.261172"],["88.754318","27.459692"],["88.742559","27.575756"],["88.824484","27.683585"],["88.858366","27.84585"],["88.817167","27.989323"],["88.749833","28.04227"],["88.643789","28.079175"],["88.414536","27.948938"],["88.164768","27.927649"],["88.119621","27.836742"],["87.844298","27.914245"],["87.731731","27.773994"],["87.596998","27.78341"],["87.555606","27.832169"],["87.226918","27.783961"],["87.114007","27.809055"],["87.017899","27.921014"],["86.741974","28.007834"],["86.699681","28.06541"],["86.621253","28.036683"],["86.583402","28.057988"],["86.53626","27.935498"],["86.410089","27.875861"],["86.21079","27.953771"],["86.168518","28.117581"],["86.115561","28.075237"],["86.149271","27.905693"],["85.994046","27.879218"],["85.944521","27.932939"],["85.832512","28.151055"],["85.730202","28.210313"],["85.701256","28.320003"],["85.608344","28.222546"],["85.501399","28.296408"],["85.379283","28.245137"],["85.108273","28.308745"],["85.080035","28.467918"],["85.159664","28.55567"],["85.153999","28.618263"],["85.06716","28.641711"],["84.995663","28.560816"],["84.851232","28.539159"],["84.68178","28.609315"],["84.624424","28.696084"],["84.465938","28.711423"],["84.389849","28.828396"],["84.202845","28.880867"],["84.21602","29.009754"],["84.163899","29.035197"],["84.138279","29.170731"],["84.156046","29.210987"],["84.110534","29.218441"],["84.085858","29.266484"],["83.922973","29.294016"],["83.658078","29.134976"],["83.571818","29.151918"],["83.232014","29.552591"],["83.070545","29.578981"],["82.920063","29.684809"],["82.816744","29.661877"],["82.675381","29.739992"],["82.684436","29.800693"],["82.605515","29.811846"],["82.541184","29.930689"],["82.159367","30.045582"],["82.174859","30.141657"],["82.084479","30.216893"],["82.077913","30.310431"],["81.993091","30.291904"],["81.637645","30.413095"],["81.562006","30.34101"],["81.44238","30.380465"],["81.419613","30.185719"],["81.306617","30.138261"],["81.279452","29.994378"],["81.11603","30.010804"],["80.995588","30.23662"],["80.302677","30.539587"],["80.0878","30.543727"],["79.94236","30.672449"],["79.868267","30.834188"],["79.825373","30.839126"],["79.673774","30.945519"],["79.593372","30.894565"],["79.4033","31.036535"],["79.346716","31.001927"],["79.336288","30.933391"],["79.224193","30.920174"],["79.170227","30.981969"],["79.092743","30.963258"],["78.986249","31.027673"],["78.96668","31.157988"],["78.856924","31.281503"],["78.783796","31.274131"],["78.728542","31.344273"],["78.757918","31.433515"],["78.697536","31.51499"],["78.804524","31.611708"],["78.62458","31.82264"],["78.722126","31.927562"],["78.578596","31.999524"],["78.497701","32.11424"],["78.432641","32.118838"],["78.402622","32.220389"],["78.4762","32.31131"],["78.36638","32.528271"],["78.381336","32.554898"],["78.75176","32.731065"],["78.809223","32.496551"],["78.976872","32.364195"],["79.005883","32.376536"],["79.080126","32.394077"],["79.114029","32.491665"],["79.279168","32.61355"],["79.272795","32.713951"],["79.195912","32.779409"],["79.222884","32.93039"],["79.135616","33.001861"],["79.1289","33.16414"],["78.818901","33.407102"],["78.715496","33.540948"],["78.723736","33.604683"],["78.656015","33.65053"],["78.749506","33.746395"],["78.715582","33.972994"],["78.631468","34.014908"],["78.635867","34.100789"],["78.894839","34.171104"],["78.97243","34.341399"],["78.867137","34.336615"],["78.698266","34.491737"],["78.566988","34.478543"],["78.527312","34.539705"],["78.430667","34.514354"],["78.403587","34.570207"],["78.247139","34.615374"],["78.238835","34.685346"],["78.179204","34.722162"],["78.172767","34.964414"],["78.056982","35.102584"],["77.985699","35.231108"],["77.986279","35.376996"],["78.060694","35.455461"],["77.904546","35.435236"],["77.815948","35.484733"],["77.688854","35.41908"],["77.389219","35.439747"],["77.300084","35.509365"],["77.189727","35.490691"],["76.844516","35.637645"],["76.746969","35.630442"],["76.675837","35.721674"],["76.57151","35.752903"],["76.552477","35.878323"],["76.372211","35.795695"],["76.149781","35.797227"],["76.124933","35.947734"],["75.922673","36.058952"],["75.911558","36.150212"],["76.037836","36.25097"],["75.962627","36.325913"],["75.987883","36.449905"],["75.852334","36.642976"],["75.645268","36.740208"],["75.442793","36.696296"],["75.389578","36.92691"],["75.229053","36.936669"],["75.144038","36.993436"],["74.896481","36.905551"],["74.830134","37.022531"],["74.731107","36.999897"],["74.690745","37.052831"],["74.559724","37.004866"],["74.481919","37.046871"],["74.437845","37.120308"],["74.499922","37.266966"],["74.739861","37.314987"],["74.866312","37.253902"],["75.109062","37.372562"],["75.102367","37.44057"],["74.921629","37.536802"],["74.864573","37.654148"],["74.964759","37.773242"],["74.890065","37.834937"],["74.908884","37.982278"],["74.777327","38.153069"],["74.761705","38.335766"],["74.838288","38.415972"],["74.834661","38.466073"],["74.630191","38.571841"],["74.373536","38.625873"],["74.159667","38.646204"],["74.103234","38.581"],["74.111817","38.521998"],["74.000838","38.494528"],["73.77285","38.599147"],["73.670411","38.8621"],["73.725193","38.95749"],["73.802719","38.951449"],["73.807654","38.986017"],["73.72221","39.008697"],["73.473516","39.38863"],["73.616295","39.498494"],["73.852308","39.511093"],["73.918183","39.600828"],["73.897347","39.705585"],["73.808942","39.800228"],["73.93934","39.994893"],["73.923182","40.040084"],["74.206402","40.150079"],["74.349396","40.120697"],["74.57305","40.295485"],["74.65313","40.30568"],["74.68538","40.371234"],["74.834146","40.370645"],["74.764109","40.445837"],["74.82522","40.547706"],["74.991968","40.485604"],["75.234225","40.478276"],["75.595829","40.68866"],["75.623209","40.675235"],["75.670288","40.537172"],["75.761075","40.482617"],["75.702088","40.361506"],["75.718331","40.319244"],["75.831778","40.356634"],["75.909498","40.327457"],["75.962198","40.405801"],["76.169136","40.4108"],["76.276231","40.468254"],["76.350474","40.381058"],["76.518981","40.485522"],["76.629574","40.63177"],["76.618888","40.769281"],["76.705191","40.836687"],["76.738064","40.970777"],["76.866853","41.052415"],["77.002079","41.102703"],["77.174621","41.038594"],["77.761016","41.051719"],["77.819595","41.177071"],["78.104789","41.252161"],["78.153155","41.41058"],["78.633699","41.494773"],["78.691227","41.573398"],["79.204752","41.752489"],["79.314144","41.836204"],["79.760721","41.919283"],["79.886034","42.062214"],["80.133162","42.067184"],["80.141101","42.212865"],["80.253518","42.271926"],["80.176806","42.427971"],["80.233755","42.509043"],["80.134728","42.629333"],["80.233669","42.836907"],["80.527124","42.908804"],["80.358446","43.012006"],["80.363209","43.05597"],["80.77054","43.196057"],["80.751915","43.283969"],["80.657952","43.321619"],["80.722024","43.489763"],["80.498157","43.799783"],["80.367136","44.112086"],["80.382199","44.282371"],["80.320637","44.484489"],["80.375676","44.600628"],["80.200903","44.711915"],["80.153825","44.809898"],["79.982829","44.769908"],["79.863417","44.896027"],["79.863911","44.925979"],["80.099001","45.081976"],["80.380783","45.073778"],["80.472493","45.151008"],["80.593643","45.1361"],["80.723355","45.20611"],["80.897505","45.157969"],["81.777248","45.412611"],["81.933761","45.262246"],["82.295816","45.254845"],["82.544253","45.206065"],["82.569401","45.340669"],["82.52743","45.402307"],["82.265496","45.514783"],["82.238288","45.626914"],["82.311373","45.780155"],["82.319655","45.956177"],["82.440763","46.003982"],["82.822452","46.775333"],["83.012309","47.24291"],["83.148286","47.241861"],["83.371532","47.179737"],["83.583899","47.087891"],["83.927865","46.999324"],["84.753106","47.038661"],["84.955001","46.896507"],["85.227256","47.083274"],["85.529079","47.087102"],["85.670679","47.295094"],["85.656817","47.416255"],["85.581307","47.505664"],["85.500433","48.023314"],["85.564678","48.210504"],["85.778117","48.445159"],["86.21609","48.461326"],["86.297393","48.520485"],["86.571493","48.56921"],["86.745751","48.738276"],["86.72689","48.79468"],["86.785169","48.850936"],["86.706676","48.980358"],["86.708565","49.011387"],["86.889625","49.162344"],["87.145572","49.183316"],["87.435358","49.10582"],["87.476878","49.120484"],["87.490826","49.169134"],["87.836187","49.198616"],["87.895432","49.115877"],["87.87024","49.056222"],["87.9406","48.974696"],["87.803872","48.87904"],["88.125672","48.72326"],["88.023491","48.591881"],["88.35763","48.495848"],["88.450756","48.423234"],["88.527102","48.435337"],["88.631537","48.352171"],["88.608513","48.280466"],["88.657844","48.207172"],["88.828926","48.136652"],["88.942652","48.146274"],["89.088199","48.017358"],["89.571383","48.066881"],["89.777999","47.863838"],["90.077548","47.910676"],["90.155997","47.747389"],["90.399628","47.669347"],["90.413575","47.647046"],["90.398619","47.62125"]],JPN=[["145.824681","43.408601"],["145.802708","43.198731"],["145.188847","43.068449"],["144.992667","42.907867"],["143.970938","42.890345"],["143.384543","42.351736"],["143.299399","41.875506"],["142.95333","42.100071"],["142.391844","42.272669"],["141.369501","42.535185"],["140.832544","42.147648"],["141.028863","41.945699"],["141.296655","41.765675"],["141.564447","41.265171"],["141.675004","40.481173"],["141.829516","40.300647"],["141.982619","40.122464"],["142.142627","39.594221"],["142.025897","39.368452"],["142.021777","39.317473"],["141.850783","38.901626"],["140.939308","35.65669"],["139.436268","34.193845"],["137.347075","34.1603"],["135.63835","33.29272"],["133.488103","32.70897"],["131.614016","31.325292"],["130.633951","28.842845"],["127.785048","25.789008"],["126.597333","26.344784"],["128.404011","28.563857"],["128.940636","30.856318"],["128.544464","32.79621"],["129.194642","34.475467"],["129.324698","34.765641"],["129.502255","34.700627"],["129.480282","33.855809"],["130.439605","33.915587"],["130.801388","34.159716"],["130.791882","34.445506"],["131.121471","34.437578"],["131.298124","34.567727"],["132.535148","35.287335"],["132.978675","36.154847"],["133.268559","36.366209"],["134.710796","35.708808"],["135.303308","35.794165"],["136.404389","36.456814"],["136.612743","37.37546"],["137.409252","37.580348"],["137.291471","36.906421"],["137.982237","37.126821"],["138.504087","37.383552"],["138.758146","37.83898"],["139.207212","38.04151"],["139.310081","38.315743"],["139.737028","38.85997"],["139.403318","39.234917"],["139.952634","39.328459"],["140.002073","39.745742"],["139.695586","39.824208"],["139.679107","40.025361"],["139.935912","40.077921"],["140.001079","40.309807"],["139.922802","40.434311"],["139.828954","40.646676"],["139.95008","40.766604"],["139.957833","41.432491"],["140.001779","42.027933"],["139.389291","42.038134"],["139.346719","42.242877"],["139.63099","42.291658"],["139.72712","42.641155"],["139.942098","42.710048"],["140.194783","42.842098"],["140.30396","42.856193"],["140.309453","43.306551"],["140.393224","43.399418"],["140.61976","43.355264"],["140.788732","43.238558"],["140.923314","43.24556"],["141.029058","43.24356"],["141.083989","43.216544"],["141.141667","43.185513"],["141.336675","43.240561"],["141.328435","43.731771"],["141.350408","43.792272"],["141.594854","43.937818"],["141.565334","44.291761"],["141.70541","44.45177"],["141.708157","44.742196"],["141.683437","45.002047"],["141.226594","45.076599"],["141.053559","45.165748"],["140.987641","45.335905"],["140.943696","45.481498"],["141.201589","45.501064"],["141.972005","45.52416"],["142.341996","45.204477"],["142.567215","45.014513"],["142.747966","44.801094"],["143.487122","44.343678"],["144.463587","44.078617"],["144.874201","44.098345"],["145.125513","44.222478"],["145.300832","44.391445"],["145.487445","44.320885"],["145.111163","43.848378"],["145.420933","43.545126"],["145.451146","43.393635"]],EAST=[["73.757316","29.95798"],["73.045185","28.989136"],["72.434431","28.60931"],["72.060098","28.097836"],["71.631749","27.60702"],["70.67236","27.593264"],["69.82743","27.041579"],["70.337045","26.566045"],["70.070655","26.098932"],["70.070655","25.85946"],["70.290717","25.713457"],["70.626599","25.671708"],["70.68451","25.201036"],["70.974064","24.791642"],["70.811914","24.612763"],["70.139151","24.465923"],["69.268014","24.435423"],["68.313114","24.267539"],["67.911051","23.808548"],["68.547651","23.00912"],["69.11724","22.684917"],["68.748682","22.406416"],["69.301519","21.536417"],["70.153052","20.55461"],["71.170222","20.332219"],["72.234349","21.204506"],["72.501752","21.087142"],["72.627589","19.003767"],["72.973641","16.878922"],["74.267757","13.888898"],["75.369075","10.48118"],["76.976429","7.781262"],["78.374805","8.242836"],["79.427902","9.641233"],["80.513091","10.734685"],["80.254133","11.953377"],["80.702994","13.082541"],["80.402232","15.312175"],["82.991824","16.887862"],["85.259974","19.051683"],["87.784208","21.10679"],["89.263244","21.658877"],["89.121009","23.437218"],["88.869364","23.717994"],["88.93501","24.317619"],["88.267603","24.596482"],["88.727129","25.073086"],["89.186656","25.132532"],["88.891246","25.626788"],["88.650542","25.666241"],["88.201956","25.892841"],["88.420778","26.12883"],["88.54113","26.285892"],["89.241361","26.020727"],["89.613359","25.863309"],["89.657124","25.330477"],["90.190932","25.070998"],["91.175632","25.051175"],["91.811935","25.05221"],["92.234344","24.983507"],["92.104658","24.649259"],["91.844714","24.363456"],["91.46563","24.215373"],["90.999897","23.839459"],["91.216517","23.054471"],["91.389672","22.300847"],["92.125338","20.623521"],["93.946113","18.753448"],["92.823675","16.135717"],["91.224276","9.998681"],["93.522355","5.752403"],["96.409859","0.991383"],["100.048825","-3.72227"],["104.60328","-7.736835"],["114.01025","-9.967468"],["123.433702","-11.032285"],["123.717523","-10.536628"],["124.427075","-10.257467"],["125.004217","-9.79418"],["125.026253","-9.527403"],["125.12788","-9.406056"],["125.031601","-9.358561"],["124.946021","-9.216037"],["125.026253","-9.168516"],["125.192065","-9.13155"],["125.181368","-8.982538"],["124.999509","-8.987821"],["124.919277","-8.924418"],["125.095787","-8.596662"],["125.555784","-8.088612"],["125.721597","-8.120384"],["127.292232","-8.326419"],["132.424841","-8.447132"],["139.646777","-8.512957"],["141.039618","-9.209048"],["141.025347","-6.894209"],["140.978655","-6.887392"],["140.92235","-6.851943"],["140.912737","-6.791946"],["140.905871","-6.737397"],["140.850939","-6.695117"],["140.903124","-6.59554"],["140.945696","-6.509588"],["141.000442","-6.341825"],["140.971754","-2.322171"],["131.63417","2.671779"],["125.182746","17.665698"],["120.512231","19.243264"],["119.486602","16.550429"],["119.820154","12.379244"],["115.293339","5.77989"],["114.675587","4.850295"],["114.550618","4.735342"],["113.923024","4.60805"],["113.581092","3.881824"],["113.423754","3.763395"],["113.138025","3.427757"],["112.798973","3.119213"],["111.886744","2.960093"],["109.608393","3.016867"],["108.771364","3.935896"],["107.181008","7.101455"],["110.509765","12.398562"],["108.171244","18.449712"],["108.482399","21.923911"],["106.042422","23.36869"],["103.861684","23.500971"],["101.853026","22.51803"],["101.964992","22.453371"],["102.079606","22.467488"],["102.100842","22.366033"],["102.192713","22.264854"],["102.457234","22.052786"],["102.482552","21.991854"],["102.505944","21.933096"],["102.598494","21.858522"],["102.635027","21.768076"],["102.625285","21.706993"],["102.652076","21.663993"],["102.749497","21.641356"],["102.798208","21.673047"],["102.841349","21.836472"],["102.857688","21.688772"],["102.936435","21.684707"],["102.971433","21.587108"],["102.897061","21.530145"],["102.831439","21.416153"],["102.853313","21.363197"],["102.770191","21.249074"],["102.905811","20.975636"],["103.219101","20.747931"],["103.517772","20.714677"],["103.809332","20.581588"],["103.928404","20.796397"],["104.17602","20.868718"],["104.456453","20.674762"],["104.597217","20.649539"],["104.494205","20.561152"],["104.33078","20.448774"],["104.574769","20.381484"],["104.658948","20.213054"],["104.76838","20.149846"],["104.838529","20.181454"],["104.938282","20.043215"],["104.745932","19.888842"],["104.790827","19.817585"],["104.656142","19.725166"],["104.580381","19.643265"],["104.41625","19.738372"],["104.315236","19.711959"],["104.004834","19.776374"],["103.978829","19.601517"],["104.057089","19.487272"],["103.795479","19.292317"],["104.05618","19.205901"],["104.303857","19.041792"],["104.509718","18.953592"],["104.638381","18.819682"],["104.82816","18.734411"],["105.081179","18.714495"],["105.090265","18.561021"],["105.010482","18.494337"],["105.215532","18.232365"],["105.507333","18.022503"],["105.673181","17.706155"],["105.959258","17.411042"],["106.393016","16.974064"],["106.530565","16.907086"],["106.511314","16.705452"],["106.610307","16.485756"],["106.704089","16.360817"],["106.855183","16.430793"],["106.917705","16.245803"],["107.074009","16.275813"],["107.178212","16.130721"],["107.386617","15.975505"],["107.256364","15.895346"],["107.157745","15.729918"],["107.270294","15.538977"],["107.541111","15.371176"],["107.598724","15.119441"],["107.495192","15.087312"],["107.421241","14.973038"],["107.491494","14.719275"],["107.439728","14.558285"],["107.365777","14.619117"],["107.28443","14.576179"],["107.125343","14.454386"],["107.058787","14.468707"],["106.862816","14.336197"],["106.714913","14.443644"],["106.640961","14.525985"],["106.467176","14.622607"],["106.385829","14.475868"],["106.219438","14.500928"],["106.189858","14.42932"],["106.104814","14.407834"],["105.956911","14.346944"],["105.993887","14.192854"],["106.138092","14.056594"],["106.067838","13.984846"],["105.938423","13.948964"],["105.860774","14.067355"],["105.570516","14.196239"],["105.40579","14.123984"],["105.307739","14.207645"],["105.23322","14.257067"],["105.284207","14.321679"],["105.397946","14.336879"],["105.499919","14.435654"],["105.550906","14.617894"],["105.535217","14.773437"],["105.660723","14.90613"],["105.629347","15.019802"],["105.511685","15.118269"],["105.543062","15.182626"],["105.660723","15.2848"],["105.543062","15.368016"],["105.641113","15.40205"],["105.652879","15.526792"],["105.672489","15.723201"],["105.433244","15.866611"],["105.419865","16.077323"],["105.134284","16.158015"],["105.05029","16.303179"],["104.798307","16.56635"],["104.815106","16.791639"],["104.807079","17.064937"],["104.834545","17.357467"],["104.746654","17.518618"],["104.392993","17.569592"],["104.221867","17.790865"],["104.071113","18.043041"],["103.989584","18.196169"],["103.880878","18.236734"],["103.692584","18.269917"],["103.616878","18.310466"],["103.546996","18.349162"],["103.428584","18.336313"],["103.370348","18.277339"],["103.302336","18.221647"],["103.237773","18.102183"],["103.207191","18.040806"],["103.105249","17.937384"],["102.938746","17.875949"],["102.914959","17.827432"],["102.813018","17.765959"],["102.687291","17.753015"],["102.568359","17.830667"],["102.510593","17.840371"],["102.422244","17.921219"],["102.310109","17.960013"],["102.204769","17.995566"],["102.143605","18.066652"],["101.987295","17.966477"],["101.868364","17.927685"],["101.647491","17.811257"],["101.148809","17.535022"],["101.023374","17.599797"],["101.039054","17.808912"],["101.175591","17.993048"],["101.212078","18.10208"],["101.219896","18.173904"],["101.206865","18.240749"],["101.212078","18.344679"],["101.107829","18.394147"],["101.092192","18.45349"],["101.206865","18.578877"],["101.31372","18.655442"],["101.272021","18.741845"],["101.272021","18.830671"],["101.311114","18.939171"],["101.370997","19.079681"],["101.298023","19.148632"],["101.279779","19.212632"],["101.22818","19.375675"],["101.230424","19.441269"],["101.295484","19.487804"],["101.29997","19.591402"],["101.239397","19.633668"],["101.145173","19.587175"],["101.093574","19.629442"],["100.94102","19.650571"],["100.893907","19.65691"],["100.864742","19.616763"],["100.835578","19.570265"],["100.770518","19.534326"],["100.611233","19.574493"],["100.584312","19.52164"],["100.525983","19.540669"],["100.46541","19.637894"],["100.436245","19.777288"],["100.541687","19.91867"],["100.597773","20.190526"],["100.502946","20.195053"],["100.428788","20.262059"],["100.379218","20.36601"],["100.329779","20.413638"],["100.244635","20.387895"],["100.173224","20.317079"],["100.160865","20.244943"],["100.114789","20.260301"],["100.107922","20.315689"],["100.155988","20.507461"],["100.211891","20.650056"],["100.290818","20.736459"],["100.399973","20.811825"],["100.562866","20.788277"],["100.673701","20.899705"],["100.59616","20.954029"],["100.751867","21.254036"],["100.998402","21.338663"],["101.211622","21.580378"],["101.209043","21.846211"],["100.909901","21.894492"],["100.207565","21.580378"],["100.051491","22.159742"],["99.466212","22.436515"],["99.71333","23.024318"],["99.352488","23.281431"],["99.03983","24.3247"],["98.101855","24.95993"],["98.855913","25.608485"],["98.911088","26.812993"],["98.892697","27.483968"],["98.340947","27.826069"],["98.120247","28.377665"],["97.586888","28.733061"],["97.108705","28.329109"],["96.658506","27.787659"],["96.296725","28.010502"],["95.847241","28.136253"],["95.288126","27.787659"],["94.685158","27.233428"],["93.281889","26.647032"],["92.037851","26.720259"],["90.141229","26.820605"],["88.984724","26.833974"],["88.731159","27.080308"],["88.794435","27.331629"],["88.741186","27.914582"],["88.223484","27.953015"],["88.169108","27.50057"],["87.774017","27.262697"],["88.215457","26.870398"],["87.783036","26.535989"],["87.047344","26.702224"],["84.777332","27.310285"],["83.539214","27.665305"],["82.385985","27.880248"],["81.010299","28.662263"],["80.547568","29.001896"],["81.345045","30.304903"],["80.749935","31.185747"],["80.056967","31.015739"],["79.215234","31.178494"],["78.991224","31.346766"],["79.254658","31.656243"],["78.835019","31.979804"],["78.65109","32.12011"],["78.595912","32.240756"],["78.591313","32.400075"],["78.669483","32.54361"],["78.739513","32.426665"],["78.84424","32.288005"],["79.067657","32.24668"],["79.277111","32.470789"],["79.395802","32.676713"],["79.235221","33.233259"],["79.011803","33.47819"],["78.84424","33.681772"],["79.182009","34.336185"],["78.821102","34.565916"],["78.428537","34.758609"],["78.294895","34.940474"],["78.23791","35.530039"],["77.722544","35.628785"],["77.294994","35.609184"],["76.821489","35.701892"],["76.684572","35.988603"],["76.399329","35.919333"],["76.159724","35.933192"],["76.165429","36.20986"],["76.074151","36.366207"],["75.999987","36.641347"],["75.714744","36.787688"],["75.562518","36.805399"],["75.481245","36.811057"],["75.45651","36.950968"],["75.253968","37.023882"],["75.084541","37.066268"],["74.894884","37.084426"],["74.735572","37.122745"],["74.643309","37.074934"],["74.566145","37.033976"],["74.549925","36.938948"],["74.491692","37.015218"],["74.377803","36.998366"],["74.261908","36.915016"],["74.132106","36.91687"],["74.057933","36.840851"],["73.967535","36.853836"],["73.925813","36.892775"],["73.808039","36.908632"],["73.728388","36.920709"],["73.639124","36.911926"],["73.699986","36.820121"],["73.765904","36.814624"],["73.833196","36.776135"],["73.853795","36.743128"],["73.834569","36.711208"],["73.735692","36.736525"],["73.657414","36.707906"],["73.599736","36.711208"],["73.57227","36.735425"],["73.517339","36.729922"],["73.397862","36.757433"],["73.319585","36.738726"],["73.241307","36.720664"],["73.175389","36.732772"],["73.112218","36.71516"],["73.032567","36.686532"],["73.039433","36.651284"],["73.060033","36.609405"],["73.036687","36.564195"],["73.002355","36.529994"],["72.958409","36.507921"],["72.944676","36.475904"],["72.886998","36.474799"],["72.855412","36.448292"],["72.848546","36.400777"],["72.832334","36.374217"],["72.796629","36.362053"],["72.685258","36.303681"],["72.663286","36.274901"],["72.574022","36.267151"],["72.461412","36.175196"],["73.530389","35.809316"],["74.170542","35.420826"],["74.340245","35.055408"],["73.9237","34.612198"],["73.676858","34.332391"],["73.880481","33.422673"],["74.651862","32.906095"],["75.747223","32.542685"],["75.623802","32.256112"],["74.975842","31.968632"],["74.759855","31.732749"],["74.759855","30.955369"],["74.327882","30.584206"],["74.18929","30.224947"],["74.035013","29.864372"]],getOutseaData=function(t){return t&&"mapbox"===t?{boundsP16:[[CHN]],nebulaOutSea:[]}:{boundsP16:[[CHN],[JPN],[EAST]],nebulaOutSea:[[JPN],[EAST]]}},geoUtil=new GeometryUtilCls({}),CONSTS$1={sV:"https://webapi.amap.com/style_icon/sprite_v8@2x.png",EU:[LangConf.my.type,LangConf.km.type,LangConf.PU.type,LangConf.th.type,LangConf.$U.type]},MapboxLabelFormat=(dR=LabelFormat,__extends(eR,dR),eR.prototype.Ns=function(t,e){return dR.prototype.Ns.call(this,t,e),this.rV(t,e)},eR.prototype.rV=function(t,e){var r,n,i=(t.data||{}).poilabel||[],a=t.road||[],o={},s=this.hV(t);for(r in i)i.hasOwnProperty(r)&&(n=i[r],n=this.nV(n,s,e.zoom,e.VQ),o[r]=n);return this.oV(a,{}),o},eR.prototype.nV=function(t,e,r,n){for(var i=[],a=this.kQ,o=0,s=t;o<s.length;o++){var u,c,f,l,h,d,v,g=s[o],b=g.name,p=g.position,m=g.id,y=g.minzoom,T=g.maxzoom,x=g.style,w=void 0===x?{}:x;"mapbox"!==n&&9<=r&&e&&!this.uV(p[0])||(u=w.lV,c=w.th,f=w.ih,l=w.nh,d=w.qU,h=w.eh,g=void 0===(v=w.textAnchor)?"bottom":v,x=w.rh,w.sh,v=w.Kr,w=w.Qr,y=[y,T],T=null,l&&d&&h&&(this.Fs[CONSTS$1.sV]=1,T=[{image:CONSTS$1.sV,size:[d[6]/2,d[7]/2],clipOrigin:[d[4],d[5]],clipSize:[d[6],d[7]]}]),l=null,b&&v&&(a[v]||(a[v]=Util.color2RgbaArray(v)),h=a[v],d=void 0,v=0,a[w]||(a[w]=Util.color2RgbaArray(w||"")),a[w]&&(d=a[w],v=3),w=this.fV(b)?[0,b.length]:[],this.Ws(b,w),l={txt:b,$G:w,direction:g||"center",offset:[0,0],style:{fontSize:x,fillColor:h,strokeColor:d,strokeWidth:v,fold:!1}}),y={data:{id:m,name:b,txt:b,position:p[0],positionType:"relative",zooms:[c,f],extData:{id:m,type:"poi"}},opts:{zIndex:u,zooms:y,visible:!0}},T&&(y.opts.icon=T),l&&(y.opts.text=l),(y.opts.text||y.opts.icon)&&i.push(y))}return i},eR.prototype.oV=function(t,e){for(var r=0,n=t;r<n.length;r++){var i=n[r].name,a=this.fV(i)?[0,i.length]:[];i&&this.Ws(i,a)}},eR.prototype.DQ=function(t,e){for(var r=[],n=0,i=t;n<i.length;n++){var o=(a=i[n]).path,s=a.name||"",u=labelsUtil.aQ(s.split("")),c=a.distance||1e5,l=void 0===(f=(a.style&&a.style[1],(g=a.style||{}).th))?zoomRange[0]:f,d=void 0===(h=g.ih)?zoomRange[1]:h,v=g.Kr,a=g.Qr,f=g.rh,h=g.zIndex,g=g.Hr;s&&o&&o.length&&r.push({path:o,positionType:"absolute",name:s,$G:[],CO:u,rank:h,BG:void 0===g?"name_en":g,distance:c,zooms:[l,d],style:{fontSize:f||12,fillColor:v,strokeColor:a}})}return r},eR.prototype.fV=function(t){return t=LangManager.kU(t),-1!==CONSTS$1.EU.indexOf(t)},eR.prototype.uV=function(t){for(var e=ProjectionManager.getProjection("EPSG:3857").unproject(t[0],t[1]),r=getOutseaData("mapbox").boundsP16,n=0;n<r.length;n++){var i=r[n];if(geoUtil.isPointInPolygon(e,i[0]))return!1}return!0},eR.prototype.hV=function(t){return t=[[(t=t.Ro)[0],t[1]],[t[2],t[1]],[t[2],t[3]],[t[0],t[3]]],this.cV(t)},eR.prototype.cV=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],n=ProjectionManager.getProjection("EPSG:3857").unproject(n[0],n[1]);e.push(n)}for(var i=getOutseaData("mapbox").boundsP16,a=0;a<i.length;a++){var o=i[a];if(geoUtil.isRingInRingByMapboxB(e,o[0]))return!0}return!1},eR.id="mapbox",eR),dR;function eR(t){var e=dR.call(this)||this;return e.kQ={},e}var Color=(eT=dT,dT.Wb=function(t,e){return{rgba:t.rgba}},dT.Gb=function(t){return new eT(t.rgba)},dT.FV=function(t,e){var n=(r=this.DV(t[0],t[1],t[2],t[3]))[0],i=r[1],t=r[2],r=r[3];return this.GQ(n+=(.5<n?-.5:.5)*e*.35,i-=(i-.5)*e*.35*5,t-=(t-.5)*e*.35,r)},dT.DV=function(t,e,r,n){var i,a,o,s=Math.max(t,e,r),u=Math.min(t,e,r),c=(s+u)/2;if(s===u)i=a=0;else{switch(o=s-u,a=.5<c?o/(2-s-u):o/(s+u),s){case t:i=(e-r)/o+(e<r?6:0);break;case e:i=(r-t)/o+2;break;case r:i=(t-e)/o+4}i/=6}return[i,a,c,n]},dT.uQ=function(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t},dT.GQ=function(t,e,r,n){var i,a,o;return 0===e?i=a=o=r:(i=this.uQ(e=2*r-(r=r<.5?r*(1+e):r+e-r*e),r,t+1/3),a=this.uQ(e,r,t),o=this.uQ(e,r,t-1/3)),[i,a,o,n]},dT.Hb=function(t,e){void 0===e&&(e=[]);for(var r=0,n=t.length;r<n;r+=2)e[r/2]=parseInt(t.substr(r,2),16);return e},dT.Yx=function(t){return t.startsWith("#")&&(t=t.substr(1)),colorNames[t]?eT.Hb(colorNames[t].substr(1)):1===t.length?eT.Hb(t+t+t+t+t+t):3===t.length?eT.Hb(t[0]+t[0]+t[1]+t[1]+t[2]+t[2]):6===t.length?eT.Hb(t):[0,0,0]},dT.normalize=function(t){for(var e=[],r=0,n=t.length;r<n;r++)e[r]=t[r]/255;return e},dT.create=function(t){return t?new eT(t):null},dT.prototype.normalize=function(){return[this.rgba[0]/255,this.rgba[1]/255,this.rgba[2]/255,this.rgba[3]/255]},dT.prototype.Vb=function(t){"string"==typeof t?colorNames[t]?this.Hb(colorNames[t].substr(1)):0!==t.length&&(1!==(t=t.startsWith("#")?t.substr(1):t).length?3!==t.length?6!==t.length?8!==t.length?t.startsWith("rgba(")?this.Yb(colorNames[t].substr(1)):t.startsWith("rgb(")&&this.Kb(colorNames[t].substr(1)):this.$b(t):this.Hb(t):this.Hb(t[0]+t[0]+t[1]+t[1]+t[2]+t[2]):this.Hb(t+t+t+t+t+t)):t instanceof Array&&(this.rgba[0]=t[0],this.rgba[1]=t[1],this.rgba[2]=t[2],this.rgba[3]=t[3]||255)},dT.prototype.Hb=function(t){this.$b(t+"FF")},dT.prototype.$b=function(t){for(var e=0,r=t.length;e<r;e+=2)this.rgba[e/2]=parseInt(t.substr(e,2),16)},dT.prototype.Kb=function(t){t=t.split(","),this.rgba[0]=parseInt(t[0].substr(4),10),this.rgba[1]=parseInt(t[1],10),this.rgba[2]=parseInt(t[2],10),this.rgba[3]=255},dT.prototype.Yb=function(t){t=t.split(","),this.rgba[0]=parseInt(t[0].substr(5),10),this.rgba[1]=parseInt(t[1],10),this.rgba[2]=parseInt(t[2],10),this.rgba[3]=255*parseFloat(t[3])<<0},eT=__decorate([InnerClass("Color")],dT),eT),eT;function dT(t){this.type="AMap.Color",this.rgba=[],this.Vb(t)}var colorNames={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},NebulaLabelFormat=(fU=LabelFormat,__extends(gU,fU),gU.prototype.Ns=function(t,e){return e.lang&&(this.lang=e.lang),this._opts=e,this.bt=e.zoom,this.WW=e.ZL,this.rV(t,e.R_)},gU.prototype.rV=function(t,e){var r,n,i=t.data||{},a=i.poilabel||[],o={},s=t.cQ;for(r in a)a.hasOwnProperty(r)&&(n=this.nV(a[r],{aV:t.zo.z<10,cQ:s,R_:e}),o[r]=n);return i=i.roadName||[],i=this.oV(i,{R_:e}),o.eA=i,o},gU.prototype.nV=function(t,e){for(var r,n,i,a,o,s,u,c,f,l=CONSTS.Lj,h=l.file,d=l.size,v=CONSTS.Mp,b=CONSTS.Pp,p=CONSTS.jp,m=this._opts.scale,y=(e=void 0===e?{}:e).aV,T=e.cQ,x=this.bt,w=[],A=this.lang,M=!T&&5<=x,S=0,P=t;S<P.length;S++){var I=P[S],$=I.cw,C=I.ew,k=I.pos,N=(X=labelsUtil.tQ(I,A,M?e.R_:void 0)).name,L=X.$G||[],O=I.rank,_=I.minzoom||v,E=(y?zoomRange[1]:I.maxzoom,I.Fp),U=I.Ep;if(3===_&&(_=2),(10002!==E||28!==U)&&(r=this.oA(E,U,this.WW))&&(n=1<m||9<r.fontSize?r.fontSize:9,s=r.iconFile,u=r.showMode,c=r.forceShow,f=r.zIndex,G=r.zooms,R=labelsUtil.Jj([_,zoomRange[1]],G))){for(var R,j=(R=labelsUtil.$p(R))[0],D=[],F={};j<=R[1];){var B=this.vn.dn(E,U,j);B&&"0"!==B.iconID&&(K=B.iconID,-1===D.indexOf(K)&&(D.push(K),F[K]=[]),F[K].push(j)),j++}(10002!==E||20!==U&&18!==U)&&16<n&&(n=15);var G=[R[0]-b,R[1]+p];10002===E&&(13===U||18===U)&&G[0]<=3&&(G[0]=2.5);for(var z,V=s&&"https"+h[s],O={data:{id:$?$+U:"",position:k,name:N,txt:N,rank:O,BG:X.type,extData:{Lp:E,Ap:U,id:$,type:"poi",bz:C}},opts:{type:"billboard",angle:0,forceShow:c,zIndex:f,visible:!0,zooms:G}},H=r.xOffset||0,W=r.yOffset||0,q=[],X=void 0,$=[0,0],Y=0;Y<D.length;Y++){var K=D[Y],Z=s&&this.aA(parseInt(K,10)),J=d,Q=labelsUtil.$p(F[K]),tt=1;!N||"152"!==K&&"153"!==K&&"154"!==K||(tt=N.length<=2?1:N.length/2),z=vector.Up(J,2),V&&q.push({type:"image",image:V,clipOrigin:vector.add(Z,[0,0]),clipSize:J,size:[z[0]*tt,z[1]],anchor:[10-20*H/24,10-20*W/24],angle:0,retina:!0,zooms:[Q[0]-b,Q[Q.length-1]+p]})}N&&($="曾母暗沙"===N?(X="top",[0,5]):q.length&&q[0].image?(K=D[0],T&&(X="bottom",$=[0,0]),"北京"===N?(X="top",[0,3]):"澳门"===N?(X="left",[0,-2]):"合肥"===N||"太原"===N||"西安"===N||"郑州"===N||"杭州"===N||"台北"===N||"加德满都"===N?(X="bottom",[0,-3]):10002!==E||31!==U&&32!==U&&34!==U&&5!==U?1===u||"152"!==K&&"153"!==K&&"154"!==K?(X="right",[0,-2]):(X="center",[0,-1]):(X="right",[-3,-3])):(X="center",[H,W])),(G=this.uA[C=""+E+U])?(i=G.faceColor,a=G.borderColor,o=G.holoColor):(i=r.faceColor&&Color.normalize(r.faceColor.rgba),a=r.borderColor&&Color.normalize(r.borderColor.rgba),o=3===r.showMode?r.holoColor&&Color.normalize(r.holoColor.rgba):null,this.uA[C]={faceColor:i,borderColor:a,holoColor:o}),$=N?{direction:X,offset:$,$G:L,style:{fontSize:n,strokeWidth:2,padding:[0,1,0,1],fold:!T&&5<=x}}:{},O.opts&&(O.opts.icon=q,O.opts.text=$),V&&(this.Fs[V]=1),N&&this.Ws(N,L),w.push(O),r=null}}return w},gU.prototype.oV=function(t,e){for(var r=CONSTS.Lj,n=r.file,i=r.size,a=CONSTS.Mp,o=CONSTS.Rp,s=CONSTS.Pp,u=CONSTS.jp,c=[],f=this._opts.scale,l=this.lang,h=(e=void 0===e?{}:e)&&e.R_&&e.R_.protocol||"https",d=0,v=t;d<v.length;d++){var g,b=v[d],p=b.path,m=b.rank,y=b.minzoom||a,T=b.maxzoom||o,x=b.shield,w=b.shieldType,A=labelsUtil.tQ(b,l),M=A.name,S=A.$G;M&&this.Ws(M,S),x&&((g=Math.floor(p.length/2))<1||(b=[p[g-1],p[g]],(p=this.oA(40001,S=w,this.WW))&&(g=1<f||9<p.fontSize?p.fontSize:9,w=p.faceColor,p=p.iconID,y={data:{id:Util.stamp(this),position:b,positionType:"relative",name:M,txt:x,rank:m,BG:A.type,extData:{type:"shield",Lp:40001,Ap:S}},opts:{type:"billboard",angle:0,zooms:[y-s,T+u],visible:!0}},T=this.aA(parseInt(p,10)),p=1<x.length/4?x.length/4:1,p={type:"image",image:h+n[0],clipOrigin:T,clipSize:i,size:[24*(p=1<f?p:9*p/7),24],anchor:"center",angle:0,retina:!0},w=x?{direction:"center",offset:[0,0],style:{fontSize:g,fillColor:w&&Color.normalize(w.rgba),strokeWidth:0,padding:[0,1,0,1]}}:{},y.opts&&(y.opts.text=w,y.opts.icon=[p]),x&&this.Ws(x),c.push(y))))}return c},gU.prototype.DQ=function(t,e){for(var s,r=CONSTS.Mp,n=CONSTS.Rp,i=CONSTS.Pp,a=CONSTS.jp,o=this.WW=e.zoom,u=[],c=this.lang,f=0,l=t;f<l.length;f++){var h,d,v,g,b,p,m,y,T,x,w,A=l[f],M=A.id,S=(y=labelsUtil.tQ(A,c)).name,P=y.$G||[];S&&(h=y.type,T=labelsUtil.EQ(S,P),d=labelsUtil.aQ(T),v=A.rank,g=A.Fp,b=A.Ep,s=A.distance||0,p=A.minzoom||r,m=A.maxzoom||n,y=(w=(x=this.vn.dn(g,b,o))&&x[1]||{}).fontSize,T=w.faceColor,x=w.borderColor,p=(w=labelsUtil.$p([p,m]))[0],m=20<=(m=w[1])?zoomRange[1]:m,S&&M&&y&&T&&(b={id:M,positionType:"relative",name:S,$G:P,CO:d,rank:v,BG:h,distance:s,zooms:[p-i,m+a],path:0<A.path.length?A.path:void 0,style:{fontSize:y,fillColor:vector.Up(T.rgba,255),strokeColor:x&&vector.Up(x.rgba,255)},extData:{mainkey:g,subkey:b}},u.push(b)))}return u},gU.prototype.aA=function(t){var r=(e=CONSTS.Lj).Rj,n=e.size,e=Math.floor(t/r);return t%10==0&&--e,[(t-r*e-1)*n[0],e*n[1]]},gU.prototype.oA=function(t,e,r){var n=[3,20],i=this.vn.dn(t,e,r),a=this.vn.mn(t,e);if(!i)for(var o=1;(n[0]<=r-o||r+o<=n[1])&&!(i=(i=this.vn.dn(t,e,r-o))||this.vn.dn(t,e,r+o));)o++;return i&&(i.zooms=a),i},gU.prototype.mN=function(t,e){var r=[0,0];if("0"===t)switch(e){case"3":r=[6,6];break;case"4":case"5":case"6":r=[9,9]}return r},gU.prototype.TN=function(t,e,r){var n=r=void 0===r?[0,0]:r;if("0"===t)switch(e){case"3":n=[30,30];break;case"4":case"5":case"6":n=[20,20]}return n},gU.id=exports.n0.nebulaLabel,gU),fU,tX;function gU(t){var e=fU.call(this)||this;return e.bt=20,e.WW=20,e._opts={},e.uA={},e.vn=t.vn,e}tX=exports.TileState||(exports.TileState={}),tX.TOLOAD="toload",tX.LOADING="loading",tX.LOADED="loaded",tX.UNLOADED="unloaded",tX.ERROR="error",tX.RELOADING="reloading";var TileCoord=(vX=uX,uX.prototype.s0=function(t){var e=t-this.z,r=Math.floor(Math.pow(2,e)*this.x),e=Math.floor(Math.pow(2,e)*this.y);return new vX(t,r,e)},vX=__decorate([InnerClass("TileCoord")],uX),vX),vX;function uX(t,e,r){this.x=e,this.y=r,this.z=t,this.key=t+","+e+","+r}var Tile=(DX.YH=function(t){return t.status===exports.TileState.LOADED||t.status===exports.TileState.RELOADING},DX.prototype.destroy=function(){},DX.prototype.nG=function(t){this.type=t},__decorate([InnerClass("Tile")],DX));function DX(t){this.type="tile",this.Ro=[0,0,0,0],this.stamp=0,this.zo=t,this.status=exports.TileState.TOLOAD,this._v=null,this.data={}}var NebulaTile=(HX=Tile,__extends(IX,HX),Object.defineProperty(IX.prototype,"tag",{get:function(){return this.nN},set:function(t){this.aN=this.tag,this.nN=t},enumerable:!1,configurable:!0}),Object.defineProperty(IX.prototype,"gB",{get:function(){return this.VN},set:function(t){this.BN=this.gB,this.VN=t},enumerable:!1,configurable:!0}),Object.defineProperty(IX.prototype,"data",{get:function(){var t=[];return this.qc&&this.qc.Dc?t.push(this.qc):(this.sN&&t.push(this.sN),this.uN&&t.push(this.uN)),this.lU&&this.lU.Dc?t.push(this.lU):(this.fU&&t.push(this.fU),this.cU&&t.push(this.cU)),this.zN&&this.zN.labels?t.push(this.zN):(this.HN&&t.push(this.HN),this.WN&&t.push(this.WN)),this.dU&&this.dU.labels?t.push(this.dU):(this.vU&&t.push(this.vU),this.gU&&t.push(this.gU)),t},set:function(t){},enumerable:!1,configurable:!0}),IX.prototype.xa=function(t,e){if(void 0===e&&(e=exports.zB.ALL),Object.keys(t))switch(e){case exports.zB.LITE:this.uN=exports.Ln(exports.Ln({},this.uN),t);break;case exports.zB.LEFT:this.sN=exports.Ln(exports.Ln({},this.sN),t);break;default:exports.zB.ALL,this.qc=exports.Ln(exports.Ln({},this.qc),t)}},IX.prototype.JE=function(t,e){if(void 0===e&&(e=exports.zB.ALL),Object.keys(t))switch(e){case exports.zB.LITE:this.cU=exports.Ln(exports.Ln({},this.cU),t);break;case exports.zB.LEFT:this.fU=exports.Ln(exports.Ln({},this.fU),t);break;default:exports.zB.ALL,this.lU=exports.Ln(exports.Ln({},this.lU),t)}},IX.prototype.rO=function(t,e){if(void 0===e&&(e=exports.zB.ALL),Object.keys(t))switch(e){case exports.zB.LITE:this.WN=exports.Ln(exports.Ln({},this.WN),t);break;case exports.zB.LEFT:this.HN=exports.Ln(exports.Ln({},this.HN),t);break;default:exports.zB.ALL,this.zN=exports.Ln(exports.Ln({},this.zN),t)}},IX.prototype.qE=function(t,e){if(void 0===e&&(e=exports.zB.ALL),Object.keys(t))switch(e){case exports.zB.LITE:this.gU=exports.Ln(exports.Ln({},this.gU),t);break;case exports.zB.LEFT:this.vU=exports.Ln(exports.Ln({},this.vU),t);break;default:exports.zB.ALL,this.dU=exports.Ln(exports.Ln({},this.dU),t)}},IX.prototype.ID=function(t){t&&(t.uN&&(this.uN=t.uN),t.sN&&(this.sN=t.sN),t.qc&&(this.qc=t.qc),t.WN&&(this.WN=t.WN),t.HN&&(this.HN=t.HN),t.zN&&(this.zN=t.zN))},IX.prototype.rN=function(){this.aN?this.nN=this.aN:this.nN=exports.zB.NONE,this.BN&&(this.VN=this.BN,this.nN=exports.zB.NONE)},IX.prototype.AB=function(){var t=[];return this.qc&&this.qc.road&&this.zN&&this.zN.labels?t.push(this.qc):(this.sN&&this.sN.road&&this.HN&&this.HN.labels&&t.push(this.sN),this.uN&&this.uN.road&&this.WN&&this.WN.labels&&t.push(this.uN)),t},IX.prototype.LY=function(t,e){for(var r=0,n=this.data;r<n.length;r++){var i=n[r];i.Dc&&i.Dc.upload(t,!0),i.$c&&i.$c.upload(t,!0),i.A_&&i.A_.upload(t,!0),i.FD&&i.FD.upload(t,!0)}},IX.prototype.destroy=function(){var t=this.data;if(t)for(var e=0,r=t;e<r.length;e++){var n=r[e];if(n.Dc&&(n.Dc.destroy(),delete n.Dc),n.$c&&(n.$c.destroy(),delete n.$c),n.labels){for(var i=0,a=n.labels;i<a.length;i++)a[i].destroy();delete n.labels}n.Ta=!1,delete n.gf}},IX.prototype.KE=function(t){for(var e,r=this.data,n=[],i=0,a=t;i<a.length;i++)(o=a[i]).road&&n.push(o.road);for(var o,s=0,u=r;s<u.length;s++)(o=u[s]).XE&&(e=o.XE,this.pU(n,e))},IX.prototype.reload=function(){delete this.lU,delete this.cU,delete this.fU,delete this.zN,delete this.WN,delete this.HN,delete this.VN,this.BN=exports.zB.NONE},IX.prototype.pU=function(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r],a=i.id;if(i.path)break;for(var o=0,s=t;o<s.length;o++){var u=s[o];i.path=this.yU(u,a)}}},IX.prototype.yU=function(t,e){for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i.id===e)return i.path}},IX.prototype.oN=function(){var t=this.qc;return!!(t=Object.keys(t||{})).length&&(1!==t.length||"sdfLoaded"!==t[0])},__decorate([InnerClass("NebulaTile")],IX)),HX;function IX(){var t=null!==HX&&HX.apply(this,arguments)||this;return t.type="nebula",t.region="world",t.aN=exports.zB.NONE,t.BN=exports.zB.NONE,t}var RasterTile=(JY=Tile,__extends(KY,JY),KY.prototype.destroy=function(){var t=this.data;t&&(t.texture&&(t.texture.destroy(),delete t.texture),t.zs&&(t.zs.context.deleteBuffer(t.zs),delete t.zs),t.Js&&(t.Js.destroy(),delete t.Js))},KY),JY;function KY(){var t=null!==JY&&JY.apply(this,arguments)||this;return t.type="raster",t}var VectorTile=(NY=Tile,__extends(OY,NY),OY.prototype.destroy=function(){var t=this.data;t&&(t.$c&&(t.$c.destroy(),delete t.$c),t.Uc&&delete t.Uc)},__decorate([InnerClass("VectorTile")],OY)),NY;function OY(){var t=null!==NY&&NY.apply(this,arguments)||this;return t.type="vector",t}function quickselect(t,e,r,n,i){quickselectStep(t,e,r||0,n||t.length-1,i||defaultCompare)}function quickselectStep(t,e,r,n,i){for(;r<n;){var a,o,s,u;600<n-r&&(a=n-r+1,o=e-r+1,u=Math.log(a),s=.5*Math.exp(2*u/3),u=.5*Math.sqrt(u*s*(a-s)/a)*(o-a/2<0?-1:1),quickselectStep(t,e,Math.max(r,Math.floor(e-o*s/a+u)),Math.min(n,Math.floor(e+(a-o)*s/a+u)),i));var c=t[e],f=r,l=n;for(swap(t,r,e),0<i(t[n],c)&&swap(t,r,n);f<l;){for(swap(t,f,l),f++,l--;i(t[f],c)<0;)f++;for(;0<i(t[l],c);)l--}0===i(t[r],c)?swap(t,r,l):swap(t,++l,n),l<=e&&(r=l+1),e<=l&&(n=l-1)}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function defaultCompare(t,e){return t<e?-1:e<t?1:0}var _rbush_2_0_2_rbush=rbush,default_1=rbush,Status,maa,M;function rbush(t,e){if(!(this instanceof rbush))return new rbush(t,e);this.Bc=Math.max(4,t||9),this.Wc=Math.max(2,Math.ceil(.4*this.Bc)),e&&this.Gc(e),this.clear()}function findItem(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function calcBBox(t,e){distBBox(t,0,t.children.length,e,t)}function distBBox(t,e,r,n,i){(i=i||createNode(null)).ja=1/0,i.Fa=1/0,i.Oa=-1/0,i.Ea=-1/0;for(var a,o=e;o<r;o++)a=t.children[o],extend$1(i,t.Zc?n(a):a);return i}function extend$1(t,e){return t.ja=Math.min(t.ja,e.ja),t.Fa=Math.min(t.Fa,e.Fa),t.Oa=Math.max(t.Oa,e.Oa),t.Ea=Math.max(t.Ea,e.Ea),t}function compareNodeMinX(t,e){return t.ja-e.ja}function compareNodeMinY(t,e){return t.Fa-e.Fa}function bboxArea(t){return(t.Oa-t.ja)*(t.Ea-t.Fa)}function bboxMargin(t){return t.Oa-t.ja+(t.Ea-t.Fa)}function enlargedArea(t,e){return(Math.max(e.Oa,t.Oa)-Math.min(e.ja,t.ja))*(Math.max(e.Ea,t.Ea)-Math.min(e.Fa,t.Fa))}function intersectionArea(t,e){var r=Math.max(t.ja,e.ja),n=Math.max(t.Fa,e.Fa),i=Math.min(t.Oa,e.Oa),e=Math.min(t.Ea,e.Ea);return Math.max(0,i-r)*Math.max(0,e-n)}function contains(t,e){return t.ja<=e.ja&&t.Fa<=e.Fa&&e.Oa<=t.Oa&&e.Ea<=t.Ea}function intersects(t,e){return e.ja<=t.Oa&&e.Fa<=t.Ea&&e.Oa>=t.ja&&e.Ea>=t.Fa}function createNode(t){return{children:t,height:1,Zc:!0,ja:1/0,Fa:1/0,Oa:-1/0,Ea:-1/0}}function multiSelect(t,e,r,n,i){for(var a,o=[e,r];o.length;)(r=o.pop())-(e=o.pop())<=n||(quickselect(t,a=e+Math.ceil((r-e)/n/2)*n,e,r,i),o.push(e,a,a,r))}function getModule(){return M=M||{nS:function(clsName,clsText){try{eval(clsText)}catch(e){throw e}},eS:{iS:"1661408825245",BY:!Browser.DW&&config[13]}},M}rbush.prototype={all:function(){return this.qc(this.data,[])},search:function(t){var e=this.data,r=[],n=this.Yc;if(!intersects(t,e))return r;for(var i,a,o,s,u=[];e;){for(i=0,a=e.children.length;i<a;i++)o=e.children[i],intersects(t,s=e.Zc?n(o):o)&&(e.Zc?r.push(o):contains(t,s)?this.qc(o,r):u.push(o));e=u.pop()}return r},Vc:function(t){var e=this.data,r=this.Yc;if(!intersects(t,e))return!1;for(var n,i,a,o,s=[];e;){for(n=0,i=e.children.length;n<i;n++)if(a=e.children[n],intersects(t,o=e.Zc?r(a):a)){if(e.Zc||contains(t,o))return!0;s.push(a)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.Wc){for(var e=0,r=t.length;e<r;e++)this.Xc(t[e]);return this}var n,i=this.Hc(t.slice(),0,t.length-1,0);return this.data.children.length?this.data.height===i.height?this.Jc(this.data,i):(this.data.height<i.height&&(n=this.data,this.data=i,i=n),this.Kc(i,this.data.height-i.height-1,!0)):this.data=i,this},Xc:function(t){return t&&this.Kc(t,this.data.height-1),this},clear:function(){return this.data=createNode([]),this},remove:function(t,e){if(!t)return this;for(var r,n,i,a,o=this.data,s=this.Yc(t),u=[],c=[];o||u.length;){if(o||(o=u.pop(),n=u[u.length-1],r=c.pop(),a=!0),o.Zc&&-1!==(i=findItem(t,o.children,e)))return o.children.splice(i,1),u.push(o),this.Qc(u),this;a||o.Zc||!contains(o,s)?n?(r++,o=n.children[r],a=!1):o=null:(u.push(o),c.push(r),o=(n=o).children[r=0])}return this},Yc:function(t){return t},tf:compareNodeMinX,if:compareNodeMinY,toJSON:function(){return this.data},ef:function(t){return this.data=t,this},qc:function(t,e){for(var r=[];t;)t.Zc?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},Hc:function(t,e,r,n){var i,a=r-e+1,o=this.Bc;if(a<=o)return calcBBox(i=createNode(t.slice(e,r+1)),this.Yc),i;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(i=createNode([])).Zc=!1,i.height=n;var s,u,c,f,l=Math.ceil(a/o),h=l*Math.ceil(Math.sqrt(o));for(multiSelect(t,e,r,h,this.tf),s=e;s<=r;s+=h)for(multiSelect(t,s,c=Math.min(s+h-1,r),l,this.if),u=s;u<=c;u+=l)f=Math.min(u+l-1,c),i.children.push(this.Hc(t,u,f,n-1));return calcBBox(i,this.Yc),i},nf:function(t,e,r,n){for(var i,a,o,s,u,c,f,l;n.push(e),!e.Zc&&n.length-1!==r;){for(f=l=1/0,i=0,a=e.children.length;i<a;i++)u=bboxArea(o=e.children[i]),(c=enlargedArea(t,o)-u)<l?(l=c,f=u<f?u:f,s=o):c===l&&u<f&&(f=u,s=o);e=s||e.children[0]}return e},Kc:function(t,e,r){var n=this.Yc,r=r?t:n(t),i=[];for((n=this.nf(r,this.data,e,i)).children.push(t),extend$1(n,r);0<=e&&i[e].children.length>this.Bc;)this.af(i,e),e--;this.sf(r,i,e)},af:function(t,e){var r=t[e],n=r.children.length,i=this.Wc;this.rf(r,i,n),n=this.hf(r,i,n),(n=createNode(r.children.splice(n,r.children.length-n))).height=r.height,n.Zc=r.Zc,calcBBox(r,this.Yc),calcBBox(n,this.Yc),e?t[e-1].children.push(n):this.Jc(r,n)},Jc:function(t,e){this.data=createNode([t,e]),this.data.height=t.height+1,this.data.Zc=!1,calcBBox(this.data,this.Yc)},hf:function(t,e,r){for(var n,i,a,o,s,u=o=1/0,c=e;c<=r-e;c++)i=intersectionArea(n=distBBox(t,0,c,this.Yc),a=distBBox(t,c,r,this.Yc)),a=bboxArea(n)+bboxArea(a),i<u?(u=i,s=c,o=a<o?a:o):i===u&&a<o&&(o=a,s=c);return s},rf:function(t,e,r){var n=t.Zc?this.tf:compareNodeMinX,i=t.Zc?this.if:compareNodeMinY;this.lf(t,e,r,n)<this.lf(t,e,r,i)&&t.children.sort(n)},lf:function(t,e,r,n){t.children.sort(n);for(var i,a=this.Yc,o=distBBox(t,0,e,a),s=distBBox(t,r-e,r,a),u=bboxMargin(o)+bboxMargin(s),c=e;c<r-e;c++)i=t.children[c],extend$1(o,t.Zc?a(i):i),u+=bboxMargin(o);for(c=r-e-1;e<=c;c--)i=t.children[c],extend$1(s,t.Zc?a(i):i),u+=bboxMargin(s);return u},sf:function(t,e,r){for(var n=r;0<=n;n--)extend$1(e[n],t)},Qc:function(t){for(var e,r=t.length-1;0<=r;r--)0===t[r].children.length?0<r?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():calcBBox(t[r],this.Yc)},Gc:function(t){var e=["return a"," - b",";"];this.tf=new Function("a","b",e.join(t[0])),this.if=new Function("a","b",e.join(t[1])),this.Yc=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},_rbush_2_0_2_rbush.default=default_1,maa=Status=Status||{},maa.loading="loading",maa.loaded="loaded";var M=getModule(),Queue=(naa.prototype.add=function(t,e){for(var r=t.length,n=0,i=function(){(n+=1)===r&&e&&e()},a=0,o=t;a<o.length;a++){var s=o[a];this._add(s,i)}},naa.prototype.has=function(t){return(t=this.tT[t])&&t.status===Status.loaded},naa.prototype.finish=function(t){if(t=this.tT[t]){t.status=Status.loaded;for(var e=0,r=t.pI;e<r.length;e++){var n=r[e];n&&n()}}},naa.prototype._add=function(t,e){var r=this.tT[t];r?r.status===Status.loading?r.pI.push(e):e():this.tT[t]={pI:[e],status:Status.loading}},naa);function naa(){this.tT={}}var Module=getModule();function InnerClass(e){return function(t){getModule()[e]=t}}getModule().MapboxLabelFormat=MapboxLabelFormat,getModule().NebulaLabelFormat=NebulaLabelFormat,getModule()._LocalZoom={Ra:13,za:12,Ge:""},getModule().Support=Browser,getModule().geo={lcs:lcs,ProjectionManager:ProjectionManager},getModule().transform=transform,getModule().Util=Util,getModule().TileState=exports.TileState,getModule().assign=assign,getModule().labelsUtil=labelsUtil,getModule().LabelsRenderUtil=LabelsRenderUtil,getModule().vector=vector,getModule().rbush=_rbush_2_0_2_rbush,getModule().lodash={map:map,find:find,assign:assign,every:every,some:some};var isSupportFloat32Array="undefined"!=typeof Float32Array;isSupportFloat32Array||(window.Float32Array=void 0,setMatrixArrayType(Array));var EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array;function setMatrixArrayType(t){ARRAY_TYPE=t}function fromValues(t,e,r,n){var i=new ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function create(){var t=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function identity$1(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function invert(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],g=e[13],b=e[14],p=e[15],m=r*s-n*o,y=r*u-i*o,T=r*c-a*o,x=n*u-i*s,w=n*c-a*s,A=i*c-a*u,M=f*g-l*v,S=f*b-h*v,P=f*p-d*v,I=l*b-h*g,$=l*p-d*g,C=h*p-d*b;return(e=m*C-y*$+T*I+x*P-w*S+A*M)?(t[0]=(s*C-u*$+c*I)*(e=1/e),t[1]=(i*$-n*C-a*I)*e,t[2]=(g*A-b*w+p*x)*e,t[3]=(h*w-l*A-d*x)*e,t[4]=(u*P-o*C-c*S)*e,t[5]=(r*C-i*P+a*S)*e,t[6]=(b*T-v*A-p*y)*e,t[7]=(f*A-h*T+d*y)*e,t[8]=(o*$-s*P+c*M)*e,t[9]=(n*P-r*$-a*M)*e,t[10]=(v*w-g*T+p*m)*e,t[11]=(l*T-f*w-d*m)*e,t[12]=(s*S-o*I-u*M)*e,t[13]=(r*I-n*S+i*M)*e,t[14]=(g*y-v*x-b*m)*e,t[15]=(f*x-l*y+h*m)*e,t):null}function multiply(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],g=e[12],b=e[13],p=e[14],m=e[15],y=r[0],T=r[1],x=r[2],e=r[3];return t[0]=y*n+T*s+x*l+e*g,t[1]=y*i+T*u+x*h+e*b,t[2]=y*a+T*c+x*d+e*p,t[3]=y*o+T*f+x*v+e*m,y=r[4],T=r[5],x=r[6],e=r[7],t[4]=y*n+T*s+x*l+e*g,t[5]=y*i+T*u+x*h+e*b,t[6]=y*a+T*c+x*d+e*p,t[7]=y*o+T*f+x*v+e*m,y=r[8],T=r[9],x=r[10],e=r[11],t[8]=y*n+T*s+x*l+e*g,t[9]=y*i+T*u+x*h+e*b,t[10]=y*a+T*c+x*d+e*p,t[11]=y*o+T*f+x*v+e*m,y=r[12],T=r[13],x=r[14],e=r[15],t[12]=y*n+T*s+x*l+e*g,t[13]=y*i+T*u+x*h+e*b,t[14]=y*a+T*c+x*d+e*p,t[15]=y*o+T*f+x*v+e*m,t}function getTranslation(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function perspective(t,e,r,n,i){return e=1/Math.tan(e/2),t[0]=e/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+n)*(e=1/(n-i)),t[14]=2*i*n*e):(t[10]=-1,t[14]=-2*n),t}function ortho(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*c,t[15]=1,t}function lookAt(t,e,r,n){var i,a=e[0],o=e[1],s=e[2],u=n[0],c=n[1],f=n[2],l=r[0],h=r[1],d=r[2];return Math.abs(a-l)<EPSILON&&Math.abs(o-h)<EPSILON&&Math.abs(s-d)<EPSILON?identity$1(t):(i=a-l,e=o-h,n=s-d,l=c*(n*=r=1/Math.hypot(i,e,n))-f*(e*=r),h=f*(i*=r)-u*n,d=u*e-c*i,(r=Math.hypot(l,h,d))?(l*=r=1/r,h*=r,d*=r):d=h=l=0,f=e*d-n*h,u=n*l-i*d,c=i*h-e*l,(r=Math.hypot(f,u,c))?(f*=r=1/r,u*=r,c*=r):c=u=f=0,t[0]=l,t[1]=f,t[2]=i,t[3]=0,t[4]=h,t[5]=u,t[6]=e,t[7]=0,t[8]=d,t[9]=c,t[10]=n,t[11]=0,t[12]=-(l*a+h*o+d*s),t[13]=-(f*a+u*o+c*s),t[14]=-(i*a+e*o+n*s),t[15]=1,t)}function equals(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],h=t[10],d=t[11],v=t[12],g=t[13],b=t[14],p=t[15],m=e[0],y=e[1],T=e[2],x=e[3],w=e[4],A=e[5],M=e[6],S=e[7],P=e[8],I=e[9],$=e[10],C=e[11],k=e[12],N=e[13],t=e[14],e=e[15];return Math.abs(r-m)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(n-y)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-T)<=EPSILON*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(a-x)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-w)<=EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-A)<=EPSILON*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(u-M)<=EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-S)<=EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-P)<=EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(l-I)<=EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(h-$)<=EPSILON*Math.max(1,Math.abs(h),Math.abs($))&&Math.abs(d-C)<=EPSILON*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(v-k)<=EPSILON*Math.max(1,Math.abs(v),Math.abs(k))&&Math.abs(g-N)<=EPSILON*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(b-t)<=EPSILON*Math.max(1,Math.abs(b),Math.abs(t))&&Math.abs(p-e)<=EPSILON*Math.max(1,Math.abs(p),Math.abs(e))}function create$1(){var t=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function fromValues$1(t,e,r){var n=new ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=r,n}function copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function set(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function subtract(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function cross(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],e=r[1],r=r[2];return t[0]=i*r-a*e,t[1]=a*o-n*r,t[2]=n*e-i*o,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var sub=subtract,forEach$1=(J1a=create$1(),function(t,e,r,n,i,a){var o,s;for(e=e||3,r=r||0,s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)J1a[0]=t[o],J1a[1]=t[o+1],J1a[2]=t[o+2],i(J1a,J1a,a),t[o]=J1a[0],t[o+1]=J1a[1],t[o+2]=J1a[2];return t}),J1a;function create$2(){var t=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function fromValues$2(t,e,r,n){var i=new ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function scale$1(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function transformMat4(t,e,r){var n=e[0],i=e[1],a=e[2],e=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*e,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*e,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*e,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*e,t}var forEach$2=(gca=create$2(),function(t,e,r,n,i,a){var o,s;for(e=e||4,r=r||0,s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)gca[0]=t[o],gca[1]=t[o+1],gca[2]=t[o+2],gca[3]=t[o+3],i(gca,gca,a),t[o]=gca[0],t[o+1]=gca[1],t[o+2]=gca[2],t[o+3]=gca[3];return t}),gca;function create$3(){var t=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function clone$1(t){var e=new ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function fromValues$3(t,e){var r=new ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function copy$1(t,e){return t[0]=e[0],t[1]=e[1],t}function set$1(t,e,r){return t[0]=e,t[1]=r,t}function add(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function subtract$1(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function multiply$1(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function scale$2(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function distance(t,e){var r=e[0]-t[0],t=e[1]-t[1];return Math.hypot(r,t)}function negate(t,e){return t[0]=-e[0],t[1]=-e[1],t}function normalize(t,e){var r=e[0],n=e[1];return 0<(n=r*r+n*n)&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t}function dot(t,e){return t[0]*e[0]+t[1]*e[1]}function cross$1(t,e,r){return r=e[0]*r[1]-e[1]*r[0],t[0]=t[1]=0,t[2]=r,t}function transformMat2(t,e,r){var n=e[0],e=e[1];return t[0]=r[0]*n+r[2]*e,t[1]=r[1]*n+r[3]*e,t}function rotate(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],e=Math.sin(n),n=Math.cos(n);return t[0]=i*n-a*e+r[0],t[1]=i*e+a*n+r[1],t}function angle(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],e=i*i+a*a;return 1<(e=(r*i+n*a)*(t=0<(t=r*r+n*n)?1/Math.sqrt(t):t)*(0<e?1/Math.sqrt(e):e))?0:e<-1?Math.PI:Math.acos(e)}function equals$1(t,e){var r=t[0],n=t[1],t=e[0],e=e[1];return Math.abs(r-t)<=EPSILON*Math.max(1,Math.abs(r),Math.abs(t))&&Math.abs(n-e)<=EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}var sub$1=subtract$1,mul=multiply$1,dist$1=distance,forEach$3=(D2a=create$3(),function(t,e,r,n,i,a){var o,s;for(e=e||2,r=r||0,s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)D2a[0]=t[o],D2a[1]=t[o+1],i(D2a,D2a,a),t[o]=D2a[0],t[o+1]=D2a[1];return t}),D2a,Event=(M2a.addListener=function(t,e,r){t.on(e,r)},M2a.trigger=function(t,e,r){t.emit(e,r)},M2a.clearListeners=function(t,e){t.clearEvents(e)},M2a.addDomListener=function(t,e,r){t.addEventListener(e,r)},M2a.extend=function(t,r,n){forEach(t="string"==typeof t?[t]:t,function(e){r.on(e,function(t){n.emit(e,t)})})},M2a.prototype.on=function(t,e,r,n){void 0===r&&(r=this),void 0===n&&(n=!1);for(var i=0,a=Array.isArray(t)?t:[t];i<a.length;i++){var o=a[i];this._on(o,e,r,n)}return this},M2a.prototype.off=function(t,e,r){void 0===r&&(r=this);var n=this.vI;if(t in n)for(var i=0;i<n[t].length;i+=1)if(n[t][i].fn===e&&n[t][i].context===r)return n[t].splice(i,1),this;return this},M2a.prototype.hasEvents=function(t,e,r){void 0===r&&(r=this);var n=this.vI;if(t&&e&&t in n)for(var i=0;i<n[t].length;i+=1)if(n[t][i].fn===e&&n[t][i].context===r)return!0;return!1},M2a.prototype.clearEvents=function(t){return t?this.vI[t]&&delete this.vI[t]:this.vI={},this},M2a.prototype.emit=function(t,e){if(void 0===e&&(e={}),!(t in this.vI))return this;for(var r=exports.Ln(exports.Ln({},e),{type:t}),n=this.vI[t],i=0,a=n.length;i<a;i+=1){var o=n[i];o.fn&&(o.fn.call(o.context,r),o.once&&(this.vI[t].splice(i,1),--i,--a))}return 0===n.length&&delete this.vI[t],this},M2a.prototype.getEvents=function(){return this.vI},M2a.prototype._on=function(t,e,r,n){if(void 0===n&&(n=!1),this.hasEvents(t,e,r=void 0===r?this:r))return this;var i=this.vI;return i[t]=i[t]||[],i[t].push({fn:e,context:r||this,once:n}),this},M2a);function M2a(){this.vI={}}var NebulaTileCoord=(Gda=[-180,-90],Hda=[180,90],Ida=Hda[0]-Gda[0],Jda=Hda[1]-Gda[1],{ga:function(t,e,r,n){void 0===n&&(n="lnglat");var i=Math.pow(2,r),a=Ida/i,r=Jda/i,i=ProjectionManager.getProjection("EPSG:3857");return"lnglat"===n?[t*a+Gda[0],Hda[1]-e*r,(t+1)*a+Gda[0],Hda[1]-(e+1)*r]:"EPSG:3857"!==n?[0,0,0,0]:(n=i.project(t*a+Gda[0],Hda[1]-e*r),r=i.project((t+1)*a+Gda[0],Hda[1]-(e+1)*r),[n[0],n[1],r[0],r[1]])}}),Gda,Hda,Ida,Jda,ComputeTileRange=(Vda.ha=function(t,e){for(var r=[t[0],t[3]],n=[t[2],t[1]],t=this.Ga(r,e),r=this.Ga(n,e),n=t[0],i=t[1],a=r[0],o=r[1],s=[],u=n;u<=a;u+=1)for(var c=i;c<=o;c+=1)s.push([e,u,c]);return s},Vda.Ga=function(t,e){var r=Math.pow(2,e),e=180/r;return[Math.floor(t[0]/(360/r))+r/2,r/2-Math.ceil(t[1]/e)]},Vda.ra=function(t){return{2:3,3:3,4:3,5:3,6:6,7:6,8:8,9:8,10:10,11:10,12:10,13:12,14:12,15:14,16:14,17:14,18:14,19:14,20:14,21:14,22:14}[t]},Vda);function Vda(){}var Task=(q3a.prototype._H=function(t){this.children.push(t)},q3a);function q3a(t){var r=this;this.xN=t,this.cancel=function(){r.xN&&r.xN.cancel();for(var t=0,e=r.children;t<e.length;t++)e[t].cancel.apply(r)},this.children=[]}var LabelPlacement=(x3a.prototype.nO=function(t,e){this.iO=(e=void 0===e?{}:e).from||"inner",labelsUtil.zj(this,t),this.eO(e)},x3a.prototype.destroy=function(){},x3a.prototype.oO=function(){return this.gs.aO()},x3a.prototype.uO=function(){return this.oO().viewMode,!0},x3a.prototype.eO=function(t){var e,r,n,i,a,o=(t=void 0===t?{}:t).center,s=this.Gj||{},u=this.Vj||{},c=this.Hj||{},f=this.iO,l=0;for(e in s)s.hasOwnProperty(e)&&e&&(a=s[e]||{},c[e]=this.sO(e,a),u[e]=this.fO(e,a,c[e],{from:f,center:o}),r=a.data.txt,n=(i=a.opts).icon,i=i.text||{},a=a.CO,r&&a&&(l+=a.length+1,i.style&&i.style.borderWidth&&(l+=4)),n&&n.length&&n[0].image&&(l+=n.length));this.$j=l,this.Vj=u,this.Hj=c},x3a.prototype.hO=function(t,e){var r=CONSTS.Mp,n=CONSTS.Rp,i=(t=void 0===t?[]:t)[0]||r,t=t[1]||n;return[(r=(e=void 0===e?[]:e)[0]||r)<i?i:r,t<(n=e[1]||n)?t:n]},x3a.prototype.cO=function(t,e){var r={};return r.type=(t=void 0===t?{}:t).type||e.type,r.image=t.image||"",r.clipOrigin=t.clipOrigin||e.clipOrigin,r.clipSize=t.clipSize,r.size=t.size,r.offset=t.offset,r.anchor=t.anchor||e.anchor,r.angel=t.angel||e.angel,r.retina=t.retina||e.retina,r.zooms=t.zooms||e.zooms,r},x3a.prototype.vO=function(t,e){var r={};r.type=(t=void 0===t?{}:t).type||e.type,r.direction=t.direction||e.direction,r.offset=t.offset||e.offset,r.zooms=t.zooms||e.zooms;var n=e.style,i=t.style||{};return r.style={},r.style.fontFamily=i.fontFamily||n.fontFamily,r.style.fontSize=i.fontSize||n.fontSize,r.style.fontWeight=i.fontWeight||n.fontWeight,r.style.fillColor=i.fillColor||n.fillColor,e=i.strokeColor,isUndefined(t=i.strokeWidth)&&isUndefined(e)?r.style.strokeWidth=n.strokeWidth:isUndefined(t)&&!isUndefined(e)?r.style.strokeWidth=1:r.style.strokeWidth=i.strokeWidth,r.style.borderColor=i.borderColor,r.style.borderWidth=i.borderWidth,r.style.strokeColor=i.strokeColor||n.strokeColor,r.style.borderColor=i.borderColor||n.borderColor,r.style.backgroundColor=i.backgroundColor,r.style.padding=i.padding||n.padding,r.style.fold=void 0!==i.fold&&i.fold,r},x3a.prototype.lO=function(t){return[(t=(this.ac.Fs||{})[t]||{}).width||36,t.height||36]},x3a.prototype.dO=function(t,e){var r=CONSTS.sj;return(r=this.cO(t,r.icon)).zooms=t.zooms||e.bO,e=this.hO(e.zooms,r.zooms),r.zooms=e,r.size&&r.clipSize||(t=(e=this.lO(t.image||""))[0]||0,e=e[1]||0,r.size||(r.size=[t,e]),r.clipSize||(r.clipSize=[t,e])),r},x3a.prototype.pO=function(t,e){var r=CONSTS.sj,n=this.vO(t=void 0===t?{}:t,r.text);return n.zooms=t.zooms||e.bO,r=n.direction,t=e.yO,t=(r=this.mO(r||"",t)).textAlign,r=r.verticalAlign,n.style&&(n.style.textAlign=t,n.style.verticalAlign=r),e=this.hO(e.zooms,n.zooms),n.zooms=e,n},x3a.prototype.sO=function(t,e){var n=(r=e.data)&&r.txt,a=(i=e.opts||{}).angle||0,o=isUndefined(i.opacity)?1:i.opacity,s=i.icon,r=i.text,e=i.zooms,i=i.visible,u={angle:a,opacity:o,zooms:this.options.zooms,bO:e},c=[];if(s)for(var f=0,l=s;f<l.length;f++){var h=l[f];c.push(this.dO(h,u))}return u.yO=!!s,(r=n?this.pO(r,u):null)&&(r.txt=n),i={icon:c,text:r,visible:i},"labelsLayer"===this.iO&&(i.showText=1,i.showIcon=1),i},x3a.prototype.gO=function(t){if(this.oO().zoom<LocalZoom)return t;var e=lcs.getLocalByCoord(t);return vector.Ip(t,e.center)},x3a.prototype.wO=function(t,e){if(!e||!e.image)return{size:[0,0],origin:t,anchorOffset:[0,0],coords:t};var r=CONSTS.sj.icon,n=e.size||this.lO(e.image),r=e.anchor||r.anchor;return{size:n,origin:t,anchorOffset:r=this._getAnchorOffset(n,r),coords:vector.add(t,r)}},x3a.prototype.MO=function(t,u,r){if("text"!==(t=void 0===t?"icon":t))return i=u.size,u.coords,{x:(a=u.c)[0],y:a[1],width:(i=void 0===i?[]:i)[0]||0,height:i[1]||0};var n=u.origin,i=(u.start,r.padding),a=r.c,o=void 0,u=i.offsetX,t=i.offsetY,r=i.w,i=i.h,s=this.uO()?(o=a[0],a[1]):(o=n[0],n[1]);return{x:o+u,y:s+t,width:r,height:i}},x3a.prototype._getAnchorOffset=function(t,e){var r=CONSTS.JM,n=t[0]||0,i=t[1]||0;if("[object Array]"===Object.prototype.toString.apply(e)){var t=e[0],a=e[1];if("number"==typeof t&&"number"==typeof a)return vector.tA(e)}else if("string"==typeof e){var e=(a=e.split("-"))[0],a=a[1],o=0,s=0;switch(e!==r.ij||a||(e=r.nj,a=r.ij),a){case r.LEFT:o=0;break;case r.ij:o=-n/2;break;case r.QM:o=-n;break;default:o=0}switch(e){case r.ZM:s=0;break;case r.nj:s=-i/2;break;case r.tj:s=-i;break;default:s=0}return[o,s]}return[0,0]},x3a.prototype.jO=function(t){return this._getAnchorOffset(t.size||[0,0],"middle-center")},x3a.prototype.AO=function(t,e,r,n){var i,o=CONSTS.JM,s=(n=void 0===n?{}:n).kO,u=void 0===s?0:s,f=void 0!==(c=n.yO)&&c,l=n.padding,h=n.lines,c=(s=this.jO(t))[0]||0,n=s[1]||0,d=(s=t.anchorOffset||[])[0]||0,v=s[1]||0,g=(t=t.size||[])[0]||0,b=t[1]||0,p=d-c,m=v-n,y=l[0],T=l[1],x=l[2],w=l[3],A=.8*u;switch(r){case o.ZM:a=f?(i=p,v-x-.2*u-(M=A*h+3*(h-1))):(i=d+w,v+y);break;case o.QM:var M=A/2*h+1.5*(h-1),a=f?(i=d+g+w,m-M):(i=d-T,v-M-x);break;case o.tj:a=f?(i=p,v+b+y):(i=d+w,v-x-(M=A*h+3*(h-1)));break;case o.LEFT:M=A/2*h+1.5*(h-1);a=f?(i=d-T,m-M):(i=d+w,v-M-x);break;case o.nj:case o.ij:a=f?(i=d+g/2,m-(M=A/2*h+1.5*(h-1))):(i=d,v-(M=A/2*h+1.5*(h-1))-x);break;default:i=d,a=v-(M=A/2*h+1.5*(h-1))-x}return[i,a]},x3a.prototype.OO=function(t,e){var r,n,i=CONSTS.JM,a=(e=void 0===e?{}:e).xO,o=(e.kO,e.yO),s=e.direction,u=e.lines,c=e.size,f=(e.IO,t[0]||0),l=t[1]||0;switch(this.mO(s,o).textAlign){case i.LEFT:r=f,n=l;break;case i.QM:r=f-a,n=l;break;case i.ij:r=f-a/2,n=l}return{x:r,y:n,w:a,h:this.TO(c,u),FO:f,_O:l}},x3a.prototype.mO=function(t,e){var r,n,i=CONSTS.JM;if(e)switch(t){case i.LEFT:r=i.QM;break;case i.QM:r=i.LEFT;break;case i.ZM:case i.tj:default:r=i.ij,n=i.tj}else switch(t){case i.LEFT:case i.ij:case i.QM:r=t,n=i.tj;break;case i.ZM:case i.tj:case i.nj:default:r=i.LEFT,n=t}return{textAlign:r,verticalAlign:n}},x3a.prototype.TO=function(t,e){return void 0===t&&(t=12),(t*=5/4)*(e=void 0===e?1:e)+3*(e-1)},x3a.prototype.CT=function(t,e){return this.Mf?this.Mf.measureText(t,e):this.NT?(this.NT.font=(e||12)+"px",this.NT.measureText(t.join("")).width):0},x3a.prototype.SO=function(t,e,r){if(!e||!r.txt)return{origin:t.origin,offset:[0,0],coords:t.coords,start:{}};var i=(n=CONSTS.sj.text).direction,a=n.offset,o=n.style,s=r.yO,u=r.CO,c=e.direction||i,f=e.offset||a,i=(n=e.style||o).fontSize||12,a=n.padding||o.padding,e=!1===n.fold?100:o.fj,n=r.txt.length,u=(o=this.Mf.lineBreak(r.txt,{fontSize:i,CO:u,type:r.BG||"ch",fj:e,YQ:this.NT,from:r.from})).lines.length,r=this.TO(i,1),n={xO:o.maxWidth,kO:r,yO:s,direction:c,padding:a,fj:e,lines:u,size:i,IO:n},c=this.AO(t,t.size,c,n),c=vector.add(c,f),f=vector.add(t.origin,c),n=this.OO(f,n);return{origin:t.origin,offset:c,coords:f,start:n}},x3a.prototype.EO=function(t,e,r){if(!e||!r.txt)return{offsetX:0,offsetY:0,w:0,h:0};var n,i,a=CONSTS.JM,o=CONSTS.sj,s=(t.coords,t.start),u=(t=void 0===(t=t.offset)?[]:t)[0],c=t[1],f=s.w,t=s.h,s=r.yO,o=(r=o.text).direction,r=r.style,o=e.direction||o,l=(e=(e.style||r).padding||r.padding)[0],r=e[1],h=e[2],d=e[3];if(s)switch(o){case a.ZM:n=u-f/2-d,i=c-l;break;case a.QM:n=u-d,i=c-l;break;case a.tj:n=u-f/2-d,i=c-l;break;case a.LEFT:n=u-f-d,i=c-l;break;case a.nj:case a.ij:n=u-f/2-d,i=c-l;break;default:n=u-f/2-d,i=c+h}else switch(o){case a.ZM:n=u-d,i=c+h;break;case a.QM:n=u-f-d,i=c+h;break;case a.tj:case a.LEFT:n=u-d,i=c+h;break;case a.nj:case a.ij:n=u-f/2-d,i=c-l;break;default:n=u-f/2-d,i=c+h}return{offsetX:n,offsetY:i,w:f+d+r,h:t+l+h}},x3a.prototype.fO=function(t,e,r,n){var i=(n=void 0===n?{}:n).from,a=n.center,o=e.data,s=e.opts||{},u=o.position,c=o.txt,f=s.icon,s=r.text,r=e.CO,e=this.oO().zoom;return a[2]=a[2]||0,e="inner"!==i||"relative"!==o.positionType&&LocalZoom<=e?vector.Ip(u,a):u,a=vector.add(e,[0,0]),u=!!f,{origin:e,icon:f=this.wO(a,f&&f[0]),text:n=this.SO(f,s,{CO:r,txt:c,yO:u,BG:o.BG,from:n.from}),padding:this.EO(n,s,{txt:c,yO:u})}},x3a);function x3a(t){this.options={},this.Gj={},this.Hj={},this.Vj={},this.Wj={},this.$j=0,this.render=null,this.NO={},this.ac=t.z_,this.Mf=t.R_,this.io=t.canvas,this.NT=t.Nz}var LabelGroup=(oga.prototype.nT=function(t){if(!t)return"";var e=t.fontSize,n=void 0===(r=t.fillColor)?CONSTS.COLOR.Uj:r,a=void 0===(i=t.strokeColor)?CONSTS.COLOR.Uj:i,r=t.strokeWidth,i=t.backgroundColor,t=t.borderColor,r=labelsUtil.toString(n)+labelsUtil.toString(a)+(i?labelsUtil.toString(i):""+(t?labelsUtil.toString(t):""))+e+r;return this.AS(r),this.oT[r]},oga.prototype.AS=function(t){this.oT[t]||(this.oT[t]=this.index++)},oga);function oga(){this.oT={},this.index=1}var labelGroup=new LabelGroup,isSupportFloat64Array="undefined"!=typeof Float64Array,isSupportFloat32Array$1="undefined"!=typeof Float32Array;isSupportFloat64Array?setMatrixArrayType(Float64Array):isSupportFloat32Array$1?setMatrixArrayType(Float32Array):(window.Float32Array=void 0,setMatrixArrayType(Array));var RESIZE_MULTIPLIER=2,DEFAULT_CAPACITY=128,StructArray=(Bga.Wb=function(t,e){return t.trim(),e&&(t.pM=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Bga.Gb=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.yM=t.arrayBuffer.byteLength/this.Rb,e.mM(),e},Bga.prototype.trim=function(){this.length!==this.yM&&(this.yM=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.constructor.Rb),this.mM())},Bga.prototype.resize=function(t){this.gM(t),this.length=t},Bga.prototype.gM=function(t){t>this.yM&&(this.yM=Math.max(t,Math.floor(this.yM*RESIZE_MULTIPLIER),DEFAULT_CAPACITY),t=this.wM,this.arrayBuffer=new ArrayBuffer(this.yM*this.constructor.Rb),this.mM(),t&&this.wM.set(t))},Bga);function Bga(){this.pM=!1,this.yM=-1,this.length=0}var FillArray=(Jga=StructArray,__extends(Kga,Jga),Kga.prototype.kb=function(t,e){var r=this.length;this.resize(this.length+1),this.MM(r,t,e)},Kga.prototype.MM=function(t,e,r){this.Mb[t*=2]=e,this.Mb[1+t]=r},Kga.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.Mb=new Float32Array(this.arrayBuffer)},Kga.Rb=8,Kga),Jga;function Kga(){var t=Jga.call(this)||this;return t.pM=!1,t.resize(0),t}var FillExtrusionArray=(Tga=StructArray,__extends(Uga,Tga),Uga.prototype.kb=function(t,e,r,n,i,a){var o=this.length;this.resize(o+1),this.MM(o,t,e,r,n,i,a)},Uga.prototype.MM=function(t,e,r,n,i,a,o){var s=8*t;this.Mb[s]=e,this.Mb[1+s]=r,this.Mb[2+s]=n,this.Mb[3+s]=i,this.Mb[4+s]=a[0],this.Mb[5+s]=a[1],this.Mb[6+s]=a[2],this.jM[14+(t*=16)]=o[0],this.jM[15+t]=o[1]},Uga.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.Mb=new Float32Array(this.arrayBuffer),this.jM=new Uint16Array(this.arrayBuffer)},Uga.Rb=32,Uga),Tga;function Uga(){var t=Tga.call(this)||this;return t.pM=!1,t.resize(0),t}var LinesIndexArray=(k6a=StructArray,__extends(l6a,k6a),l6a.prototype.kb=function(t,e){var r=this.length;this.resize(this.length+1),this.MM(r,t,e)},l6a.prototype.MM=function(t,e,r){this.jM[t*=2]=e,this.jM[1+t]=r},l6a.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.jM=new Uint16Array(this.arrayBuffer)},l6a.Rb=4,l6a),k6a;function l6a(){var t=k6a.call(this)||this;return t.length=0,t.resize(0),t}var LinesIndexArrayUint=(u6a=StructArray,__extends(v6a,u6a),v6a.prototype.kb=function(t,e){var r=this.length;this.resize(this.length+1),this.MM(r,t,e)},v6a.prototype.MM=function(t,e,r){this.UI[t*=2]=e,this.UI[1+t]=r},v6a.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.UI=new Uint32Array(this.arrayBuffer)},v6a.Rb=8,v6a),u6a;function v6a(){var t=u6a.call(this)||this;return t.length=0,t.resize(0),t}var LineArrayBuffer=(E6a=StructArray,__extends(F6a,E6a),F6a.prototype.kb=function(t,e,r,n){var i=this.length;this.resize(i+1),this.MM(i,t,e,r,n)},F6a.prototype.MM=function(t,e,r,n,i){t*=this.constructor.Rb/4,this.Mb[t]=e[0],this.Mb[1+t]=e[1],this.Mb[2+t]=r[0],this.Mb[3+t]=r[1],this.Mb[4+t]=n,this.Mb[5+t]=i[0],this.Mb[6+t]=i[1]},F6a.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.Mb=new Float32Array(this.arrayBuffer)},F6a.Rb=28,F6a),E6a;function F6a(){var t=E6a.call(this)||this;return t.resize(0),t}var TriangleIndexArray=(U6a=StructArray,__extends(V6a,U6a),V6a.prototype.kb=function(t,e,r){var n=this.length;this.resize(n+1),this.MM(n,t,e,r)},V6a.prototype.MM=function(t,e,r,n){this.jM[t*=3]=e,this.jM[1+t]=r,this.jM[2+t]=n},V6a.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.jM=new Uint16Array(this.arrayBuffer)},V6a.Rb=6,V6a),U6a;function V6a(){var t=U6a.call(this)||this;return t.resize(0),t}var TriangleIndexArrayUint=(eha=StructArray,__extends(fha,eha),fha.prototype.kb=function(t,e,r){var n=this.length;this.resize(n+1),this.MM(n,t,e,r)},fha.prototype.MM=function(t,e,r,n){this.UI[t*=3]=e,this.UI[1+t]=r,this.UI[2+t]=n},fha.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.UI=new Uint32Array(this.arrayBuffer)},fha.Rb=12,fha),eha;function fha(){var t=eha.call(this)||this;return t.resize(0),t}var SymbolArray=(qha=StructArray,__extends(rha,qha),rha.prototype.kb=function(t,e,r){var n=this.length;this.resize(this.length+1),this.MM(n,t,e,r)},rha.prototype.MM=function(t,e,r,n){var i=13*t;this.Mb[i]=e,this.Mb[1+i]=r;var a=n.color,t=n.borderColor,e=n.radius,r=n.borderWidth;this.Mb[2+i]=e,this.Mb[3+i]=r,this.Mb[4+i]=a[0],this.Mb[5+i]=a[1],this.Mb[6+i]=a[2],this.Mb[7+i]=a[3],this.Mb[8+i]=t[0],this.Mb[9+i]=t[1],this.Mb[10+i]=t[2],this.Mb[11+i]=t[3],this.Mb[12+i]=+(n.visible&&n.filter)},rha.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.Mb=new Float32Array(this.arrayBuffer)},rha.Rb=52,rha),qha;function rha(){var t=qha.call(this)||this;return t.pM=!1,t.resize(0),t}var SimpleSymbolArray=(Gha=StructArray,__extends(Hha,Gha),Hha.prototype.kb=function(t,e){var r=this.length;this.resize(this.length+1),this.MM(r,t,e)},Hha.prototype.MM=function(t,e,r){this.Mb[t*=2]=e,this.Mb[1+t]=r},Hha.prototype.mM=function(){this.wM=new Uint8Array(this.arrayBuffer),this.Mb=new Float32Array(this.arrayBuffer)},Hha.Rb=4,Hha),Gha;function Hha(){var t=Gha.call(this)||this;return t.pM=!1,t.resize(0),t}var SmartArrayBuffer=(Qha.prototype.update=function(t){var e,r,n;0!==t.length&&this.AM&&(e="ARRAY_BUFFER"===this.type,r=this.AM.gl,n=(e?this.AM.de:this.AM.me).current,(e?this.AM.de:this.AM.me).set(this.buffer),this.uf<t.byteLength?(r.bufferData(r[this.type],t,r.STATIC_DRAW),this.byteLength=t.byteLength,this.uf=t.byteLength):(r.bufferSubData(r[this.type],0,t),this.byteLength=t.byteLength),(e?this.AM.de:this.AM.me).set(n))},Qha.prototype.destroy=function(){this.buffer&&this.AM&&this.AM.deleteBuffer(this.buffer)},Qha.prototype.TX=function(){this.AM=null},__decorate([InnerClass("SmartArrayBuffer")],Qha));function Qha(t,e,r,n){void 0===n&&(n="ARRAY_BUFFER"),this.AM=t,this.kM=r,this.type=n,t&&(this.buffer="ARRAY_BUFFER"===n?t.fe(e,r,"DYNAMIC_DRAW"):t.ve(e),this.uf=e.byteLength,this.byteLength=e.byteLength)}var COS_HALF_SHARP_CORNER=Math.cos(Math.PI/180*75),prepMatClockwise=fromValues(0,-1,1,0),perpMatCounterClockwise=fromValues(0,1,-1,0);function perpCounterClockwise(t,e){transformMat2(t,e,perpMatCounterClockwise)}function perpClockwise(t,e){transformMat2(t,e,prepMatClockwise)}var minRoundAngle=Math.PI/9,emptyVec2=create$3(),emptyVec3=create$1(),prevPos=create$3(),currentPos=create$3(),nextPos=create$3(),tmpPos=create$3(),currentNormal=create$3(),nextNormal=create$3(),distance$1=0,nextDir=create$3(),currentDir=create$3(),negateCurrentNormal=create$3(),lineJoin,lineCap,currentNormal_addLineVertex=create$3(),leftNormal=create$3(),rightNormal=create$3(),offsetLeft=create$3(),offsetRight=create$3(),joinNormal_addMiter=create$3(),tmp_addTiangleVertex=create$1(),currentNormal_addTiangleVertex=create$3(),nextNormal_addTiangleVertex=create$3(),normal_addTiangleVertex=create$3(),tmp_addRoundVertex=create$1(),currentNormal_addRoundVertex=create$3(),nextNormal_addRoundVertex=create$3(),tmpNormal_addRoundVertex=create$3(),roundCenter_addRoundVertex=create$3(),CoreLineBucket=(b7a.OM=function(t,e,r){sub$1(t,e,r),normalize(t,t),perpCounterClockwise(t,t)},b7a.xM=function(t,e,r){add(t,e,r),0===t[0]&&0===t[1]||normalize(t,t)},b7a.prototype.hb=function(t,e){if(t.length<4)return{Iw:0,distance:0};"auto"===(e=void(distance$1=0)===e?{X_:1,lineJoin:"miter",lineCap:"butt"}:e).lineJoin&&(e.lineJoin="miter"),lineJoin=e.lineJoin,lineCap=e.lineCap||"butt";for(var r,n=this.Qx.length,i=0,a=t.length;i<a;i+=2)0===i?(currentPos[0]=t[i],currentPos[1]=t[i+1],nextPos[0]=t[i+2],nextPos[1]=t[i+3],b7a.OM(nextNormal,nextPos,currentPos),copy$1(currentNormal,nextNormal),sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),"square"===lineCap?this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,e.X_,"bevel"):("round"===lineCap&&(copy$1(negateCurrentNormal,currentNormal),negate(negateCurrentNormal,currentNormal),this.DI(currentPos,negateCurrentNormal,currentNormal,distance$1)),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,"bevel")),copy$1(currentDir,nextDir),copy$1(prevPos,currentPos)):i===a-2?(currentPos[0]=t[i],currentPos[1]=t[i+1],r=dist$1(currentPos,prevPos),distance$1+=r,"square"===lineCap?this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!1,-1*e.X_,"miter"):"round"===lineCap?(this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!1,0,"miter"),copy$1(negateCurrentNormal,nextNormal),negate(negateCurrentNormal,nextNormal),this.DI(currentPos,nextNormal,negateCurrentNormal,distance$1)):this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,"miter")):(currentPos[0]=t[i],currentPos[1]=t[i+1],nextPos[0]=t[i+2],nextPos[1]=t[i+3],b7a.OM(nextNormal,nextPos,currentPos),0===nextNormal[0]&&0===nextNormal[1]||(r=dist$1(currentPos,prevPos),distance$1+=r,sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,e.lineJoin),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,e.lineJoin),copy$1(prevPos,currentPos),copy$1(currentNormal,nextNormal),copy$1(currentDir,nextDir)));return{Iw:3*(this.Qx.length-n),distance:distance$1}},b7a.prototype.g0=function(t,e){if(t.length<2)return{Iw:0,distance:0};"auto"===(e=void(distance$1=0)===e?{X_:1,lineJoin:"miter",lineCap:"butt"}:e).lineJoin&&(e.lineJoin="miter"),lineJoin=e.lineJoin,lineCap=e.lineCap||"butt";for(var r,n=this.Qx.length,i=0,a=t.length;i<a;i++)0===i?(currentPos[0]=t[i][0],currentPos[1]=t[i][1],nextPos[0]=t[i+1][0],nextPos[1]=t[i+1][1],b7a.OM(nextNormal,nextPos,currentPos),copy$1(currentNormal,nextNormal),sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),"square"===lineCap?this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,e.X_,"bevel"):("round"===lineCap&&(copy$1(negateCurrentNormal,currentNormal),negate(negateCurrentNormal,currentNormal),this.DI(currentPos,negateCurrentNormal,currentNormal,distance$1)),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,"bevel")),copy$1(currentDir,nextDir),copy$1(prevPos,currentPos)):i===a-1?(currentPos[0]=t[i][0],currentPos[1]=t[i][1],r=dist$1(currentPos,prevPos),distance$1+=r,"square"===lineCap?this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!1,-1*e.X_,"miter"):"round"===lineCap?(this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!1,0,"miter"),copy$1(negateCurrentNormal,nextNormal),negate(negateCurrentNormal,nextNormal),this.DI(currentPos,nextNormal,negateCurrentNormal,distance$1)):this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,"miter")):(currentPos[0]=t[i][0],currentPos[1]=t[i][1],nextPos[0]=t[i+1][0],nextPos[1]=t[i+1][1],b7a.OM(nextNormal,nextPos,currentPos),0===nextNormal[0]&&0===nextNormal[1]||(r=dist$1(currentPos,prevPos),distance$1+=r,sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,e.lineJoin),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,e.lineJoin),copy$1(prevPos,currentPos),copy$1(currentNormal,nextNormal),copy$1(currentDir,nextDir)));return{Iw:3*(this.Qx.length-n),distance:distance$1}},b7a.prototype.eD=function(t,e,r){if(void 0===r&&(r=3e3),t.length<4)return{Iw:0,distance:0};"auto"===(e=void(distance$1=0)===e?{X_:1,lineJoin:"miter",lineCap:"butt"}:e).lineJoin&&(e.lineJoin="miter"),lineJoin=e.lineJoin,lineCap=e.lineCap||"butt";for(var n=this.Qx.length,i=0,a=t.length;i<a;i+=2)if(0===i)currentPos[0]=t[i],currentPos[1]=t[i+1],nextPos[0]=t[i+2],nextPos[1]=t[i+3],b7a.OM(nextNormal,nextPos,currentPos),copy$1(currentNormal,nextNormal),sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),"square"===lineCap?this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,e.X_,"bevel"):("round"===lineCap&&(copy$1(negateCurrentNormal,currentNormal),negate(negateCurrentNormal,currentNormal),this.DI(currentPos,negateCurrentNormal,currentNormal,distance$1)),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,"bevel")),copy$1(currentDir,nextDir),copy$1(prevPos,currentPos);else if(i===a-2){tmpPos[0]=t[i],tmpPos[1]=t[i+1];var o=dist$1(tmpPos,prevPos);copy$1(tmpPos,prevPos);for(var s=0;r<o-s;)tmpPos[0]=tmpPos[0]+currentDir[0]*r,tmpPos[1]=tmpPos[1]+currentDir[1]*r,s+=r,this.IM(tmpPos,currentNormal,nextNormal,distance$1+s,currentDir,!1,0,"miter"),this.IM(tmpPos,currentNormal,nextNormal,distance$1+s,currentDir,!0,0,"miter");currentPos[0]=t[i],currentPos[1]=t[i+1],distance$1+=o,"square"===lineCap?this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!1,-1*e.X_,"miter"):"round"===lineCap?(this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!1,0,"miter"),copy$1(negateCurrentNormal,nextNormal),negate(negateCurrentNormal,nextNormal),this.DI(currentPos,nextNormal,negateCurrentNormal,distance$1)):this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,"miter")}else if(currentPos[0]=t[i],currentPos[1]=t[i+1],nextPos[0]=t[i+2],nextPos[1]=t[i+3],b7a.OM(nextNormal,nextPos,currentPos),0!==nextNormal[0]||0!==nextNormal[1]){var u=dist$1(currentPos,prevPos);for(copy$1(tmpPos,prevPos),s=0;r<u-s;)tmpPos[0]=tmpPos[0]+currentDir[0]*r,tmpPos[1]=tmpPos[1]+currentDir[1]*r,s+=r,this.IM(tmpPos,currentNormal,currentNormal,distance$1+s,currentDir,!1,0,"miter"),this.IM(tmpPos,currentNormal,currentNormal,distance$1+s,currentDir,!0,0,"miter");currentPos[0]=t[i],currentPos[1]=t[i+1],distance$1+=u,sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,e.lineJoin),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,e.lineJoin),copy$1(prevPos,currentPos),copy$1(currentNormal,nextNormal),copy$1(currentDir,nextDir)}return{Iw:3*(this.Qx.length-n),distance:distance$1}},b7a.prototype.Nx=function(t,e){if(void 0===e&&(e={lineJoin:"miter"}),t.length<2)return{Iw:0,distance:0};for(var r,n,i=this.Qx.length,a=0,o=t.length;a<o;a++)0===a?(copy$1(currentPos,t[a]),r=t[a+1],n=t[o-2],b7a.OM(nextNormal,r,currentPos),b7a.OM(currentNormal,currentPos,n),sub$1(nextDir,r,currentPos),normalize(nextDir,nextDir),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,e.lineJoin),copy$1(currentDir,nextDir),copy$1(currentNormal,nextNormal),copy$1(prevPos,currentPos)):a===o-1?(copy$1(currentPos,t[a]),copy$1(nextPos,t[1]),distance$1+=dist$1(currentPos,prevPos),b7a.OM(nextNormal,nextPos,currentPos),this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,e.lineJoin)):(copy$1(currentPos,t[a]),copy$1(nextPos,t[a+1]),distance$1+=dist$1(currentPos,prevPos),b7a.OM(nextNormal,nextPos,currentPos),sub$1(nextDir,nextPos,currentPos),normalize(nextDir,nextDir),this.IM(currentPos,currentNormal,nextNormal,distance$1,currentDir,!1,0,e.lineJoin),this.IM(currentPos,currentNormal,nextNormal,distance$1,nextDir,!0,0,e.lineJoin),copy$1(prevPos,currentPos),copy$1(currentNormal,nextNormal),copy$1(currentDir,nextDir));return{Iw:3*(this.Qx.length-i),distance:distance$1}},b7a.prototype.destroy=function(){this.uploaded=!1,this.zs&&(this.zs.destroy(),delete this.zs),this.Pc&&(this.Pc.destroy(),delete this.Pc)},b7a.prototype.IM=function(t,e,r,n,i,a,o,s){copy$1(joinNormal_addMiter,emptyVec2),b7a.xM(joinNormal_addMiter,e,r);var u=dot(joinNormal_addMiter,e);scale$2(joinNormal_addMiter,joinNormal_addMiter,1/u);var c=0,f=0;o&&(f=c=o),"bevel"===s||"miter"===s&&u<COS_HALF_SHARP_CORNER?a?this.SM(t,r,n,c,f,i):(this.SM(t,e,n,c,f,i),this.e3=this._b.length-2,this.e2=this.e3-1,this.e1=this.e2-1,this.Qx.kb(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,this.e3=this.e3+1,this.Qx.kb(this.e1,this.e2,this.e3),this.CM(t,e,r,n)):"round"===s?a?this.SM(t,r,n,c,f,i):(this.SM(t,e,n,c,f,i),this.e3=this._b.length-2,this.e2=this.e3-1,this.e1=this.e2-1,this.Qx.kb(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,this.e3=this.e3+1,this.Qx.kb(this.e1,this.e2,this.e3),this.DI(t,e,r,n)):(this.SM(t,joinNormal_addMiter,n,c,f,i),a||(this.e3=this._b.length-2,this.e2=this.e3-1,this.e1=this.e2-1,this.Qx.kb(this.e1,this.e2,this.e3),this.e1=this.e2,this.e2=this.e3,this.e3=this.e3+1,this.Qx.kb(this.e1,this.e2,this.e3)))},b7a.prototype.SM=function(t,e,r,n,i,a){copy$1(currentNormal_addLineVertex,e),copy$1(leftNormal,currentNormal_addLineVertex),copy$1(rightNormal,currentNormal_addLineVertex),copy$1(offsetLeft,emptyVec2),copy$1(offsetRight,emptyVec2),scale$2(rightNormal,currentNormal_addLineVertex,-1),n&&(perpCounterClockwise(offsetLeft,leftNormal),scale$2(offsetLeft,offsetLeft,n),add(leftNormal,offsetLeft,leftNormal)),i&&(perpClockwise(offsetRight,rightNormal),scale$2(offsetRight,offsetRight,i),add(rightNormal,offsetRight,rightNormal)),this._b.kb(t,leftNormal,r,a),this._b.kb(t,rightNormal,r,a)},b7a.prototype.CM=function(t,e,r,n){void 0===n&&(n=0),copy(tmp_addTiangleVertex,emptyVec3),copy$1(currentNormal_addTiangleVertex,e),copy$1(nextNormal_addTiangleVertex,r),copy$1(normal_addTiangleVertex,emptyVec2),cross$1(tmp_addTiangleVertex,currentNormal_addTiangleVertex,nextNormal_addTiangleVertex),r=0<tmp_addTiangleVertex[2],this._b.kb(t,normal_addTiangleVertex,n,normal_addTiangleVertex),r&&(negate(currentNormal_addTiangleVertex,currentNormal_addTiangleVertex),negate(nextNormal_addTiangleVertex,nextNormal_addTiangleVertex)),this._b.kb(t,currentNormal_addTiangleVertex,n,normal_addTiangleVertex),this._b.kb(t,nextNormal_addTiangleVertex,n,normal_addTiangleVertex),this.e3=this._b.length-1,this.e2=this.e3-1,this.e1=this.e2-1,this.Qx.kb(this.e1,this.e2,this.e3)},b7a.prototype.DI=function(t,e,r,n){void 0===n&&(n=0),copy(tmp_addRoundVertex,emptyVec3),copy$1(currentNormal_addRoundVertex,e),copy$1(nextNormal_addRoundVertex,r);var i=angle(currentNormal_addRoundVertex,nextNormal_addRoundVertex);cross$1(tmp_addRoundVertex,currentNormal_addRoundVertex,nextNormal_addRoundVertex);var a=0<tmp_addRoundVertex[2],o=[];o.push(currentNormal_addRoundVertex);for(var s=minRoundAngle;s<i;s+=minRoundAngle){var u=create$3();rotate(u,currentNormal_addRoundVertex,fromValues$3(0,0),a?s:-1*s),o.push(u)}o.push(nextNormal_addRoundVertex),a&&forEach(o,function(t){negate(t,t)}),copy$1(roundCenter_addRoundVertex,emptyVec2),this._b.kb(t,roundCenter_addRoundVertex,n,roundCenter_addRoundVertex);var c=this._b.length-1;this._b.kb(t,o[0],n,roundCenter_addRoundVertex),this.e3=this._b.length-1,this.e2=this.e3-1;for(var f=1,l=o.length;f<l;f++)this._b.kb(t,o[f],n,roundCenter_addRoundVertex),this.e3=this._b.length-1,this.e2=this.e3-1,this.Qx.kb(c,this.e2,this.e3)},b7a);function b7a(){this._b=new LineArrayBuffer,this.e1=this.e2=this.e3=-1,this.uploaded=!1}var PolylineBucket=(uia=CoreLineBucket,__extends(via,uia),via.prototype.upload=function(t,e){void 0===e&&(e=!1),this.uploaded||(this.uploaded=!0,this.zs?this.zs.update(this._b.Mb):this.zs=new SmartArrayBuffer(t,this._b.Mb,LineArrayBuffer.Rb),this.Pc?this.Pc.update(this.Qx.UI):this.Pc=new SmartArrayBuffer(t,this.Qx.UI,32,"ELEMENT_ARRAY_BUFFER"),e&&(delete this.Qx,delete this._b))},via.prototype.reset=function(){this.uploaded=!1,this._b=new LineArrayBuffer,this.Qx=new TriangleIndexArrayUint,this.e1=this.e2=this.e3=-1,this.uploaded=!1},via),uia;function via(){var t=uia.call(this)||this;return t.Qx=new TriangleIndexArrayUint,t}var earcut_1=earcut,default_1$1=earcut;function earcut(t,e,r){r=r||2;var n,i,a,o,s,u=e&&e.length,c=u?e[0]*r:t.length,f=linkedList(t,0,c,r,!0),l=[];if(!f||f.next===f.NM)return l;if(u&&(f=eliminateHoles(t,e,f,r)),t.length>80*r){for(var h=n=t[0],d=i=t[1],v=r;v<c;v+=r)(a=t[v])<h&&(h=a),(o=t[v+1])<d&&(d=o),n<a&&(n=a),i<o&&(i=o);s=0!==(s=Math.max(n-h,i-d))?1/s:0}return earcutLinked(f,l,r,h,d,s),l}function linkedList(t,e,r,n,i){var a,o;if(i===0<signedArea(t,e,r,n))for(a=e;a<r;a+=n)o=insertNode(a,t[a],t[a+1],o);else for(a=r-n;e<=a;a-=n)o=insertNode(a,t[a],t[a+1],o);return o&&equals$2(o,o.next)&&(removeNode(o),o=o.next),o}function filterPoints(t,e){if(!t)return t;e=e||t;var r,n=t;do{if(r=!1,n.LM||!equals$2(n,n.next)&&0!==area(n.NM,n,n.next))n=n.next;else{if(removeNode(n),(n=e=n.NM)===n.next)break;r=!0}}while(r||n!==e);return e}function earcutLinked(t,e,r,n,i,a,o){if(t){!o&&a&&indexCurve(t,n,i,a);for(var s,u,c=t;t.NM!==t.next;)if(s=t.NM,u=t.next,a?isEarHashed(t,n,i,a):isEar(t))e.push(s.i/r),e.push(t.i/r),e.push(u.i/r),removeNode(t),t=u.next,c=u.next;else if((t=u)===c){o?1===o?earcutLinked(t=cureLocalIntersections(filterPoints(t),e,r),e,r,n,i,a,2):2===o&&splitEarcut(t,e,r,n,i,a):earcutLinked(filterPoints(t),e,r,n,i,a,1);break}}}function isEar(t){var e=t.NM,r=t,n=t.next;if(!(0<=area(e,r,n))){for(var i=t.next.next;i!==t.NM;){if(pointInTriangle(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&0<=area(i.NM,i,i.next))return;i=i.next}return 1}}function isEarHashed(t,e,r,n){var i=t.NM,a=t,o=t.next;if(!(0<=area(i,a,o))){for(var s=(i.x<a.x?i.x<o.x?i:o:a.x<o.x?a:o).x,u=(i.y<a.y?i.y<o.y?i:o:a.y<o.y?a:o).y,c=(i.x>a.x?i.x>o.x?i:o:a.x>o.x?a:o).x,f=(i.y>a.y?i.y>o.y?i:o:a.y>o.y?a:o).y,l=zOrder(s,u,e,r,n),h=zOrder(c,f,e,r,n),d=t.DM,v=t.RM;d&&d.z>=l&&v&&v.z<=h;){if(d!==t.NM&&d!==t.next&&pointInTriangle(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&0<=area(d.NM,d,d.next))return;if(d=d.DM,v!==t.NM&&v!==t.next&&pointInTriangle(i.x,i.y,a.x,a.y,o.x,o.y,v.x,v.y)&&0<=area(v.NM,v,v.next))return;v=v.RM}for(;d&&d.z>=l;){if(d!==t.NM&&d!==t.next&&pointInTriangle(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&0<=area(d.NM,d,d.next))return;d=d.DM}for(;v&&v.z<=h;){if(v!==t.NM&&v!==t.next&&pointInTriangle(i.x,i.y,a.x,a.y,o.x,o.y,v.x,v.y)&&0<=area(v.NM,v,v.next))return;v=v.RM}return 1}}function cureLocalIntersections(t,e,r){var n=t;do{var i=n.NM,a=n.next.next}while(!equals$2(i,a)&&intersects$1(i,n,n.next,a)&&locallyInside(i,a)&&locallyInside(a,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(a.i/r),removeNode(n),removeNode(n.next),n=t=a),(n=n.next)!==t);return filterPoints(n)}function splitEarcut(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.NM;){if(o.i!==s.i&&isValidDiagonal(o,s)){var u=splitPolygon(o,s),o=filterPoints(o,o.next),u=filterPoints(u,u.next);return earcutLinked(o,e,r,n,i,a),earcutLinked(u,e,r,n,i,a),0}s=s.next}}while((o=o.next)!==t)}function eliminateHoles(t,e,r,n){for(var i,a=[],o=0,s=e.length;o<s;o++)(i=linkedList(t,e[o]*n,o<s-1?e[o+1]*n:t.length,n,!1))===i.next&&(i.LM=!0),a.push(getLeftmost(i));for(a.sort(compareX),o=0;o<a.length;o++)r=filterPoints(r=eliminateHole(a[o],r),r.next);return r}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){var r=findHoleBridge(t,e);if(!r)return e;var n=splitPolygon(r,t),t=filterPoints(r,r.next);return filterPoints(n,n.next),e===r?t:e}function findHoleBridge(t,e){var r,n=e,i=t.x,a=t.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&o<s){if((o=s)===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}}while((n=n.next)!==e);if(!r)return null;if(i===o)return r;for(var u,c=r,f=r.x,l=r.y,h=1/0,n=r;i>=n.x&&n.x>=f&&i!==n.x&&pointInTriangle(a<l?i:o,a,f,l,a<l?o:i,a,n.x,n.y)&&(u=Math.abs(a-n.y)/(i-n.x),locallyInside(n,t)&&(u<h||u===h&&(n.x>r.x||n.x===r.x&&sectorContainsSector(r,n)))&&(r=n,h=u)),(n=n.next)!==c;);return r}function sectorContainsSector(t,e){return area(t.NM,t,e.NM)<0&&area(e.next,t,t.next)<0}function indexCurve(t,e,r,n){for(var i=t;null===i.z&&(i.z=zOrder(i.x,i.y,e,r,n)),i.DM=i.NM,i.RM=i.next,(i=i.next)!==t;);i.DM.RM=null,i.DM=null,sortLinked(i)}function sortLinked(t){var e,r,n,i,a,o,s,u,c=1;do{for(r=t,a=t=null,o=0;r;){for(o++,n=r,e=s=0;e<c&&(s++,n=n.RM);e++);for(u=c;0<s||0<u&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(r=(i=r).RM,s--):(n=(i=n).RM,u--),a?a.RM=i:t=i,i.DM=a,a=i;r=n}}while(a.RM=null,c*=2,1<o);return t}function zOrder(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function getLeftmost(t){for(var e=t,r=t;(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),(e=e.next)!==t;);return r}function pointInTriangle(t,e,r,n,i,a,o,s){return 0<=(i-o)*(e-s)-(t-o)*(a-s)&&0<=(t-o)*(n-s)-(r-o)*(e-s)&&0<=(r-o)*(a-s)-(i-o)*(n-s)}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.NM.i!==e.i&&!intersectsPolygon(t,e)&&(locallyInside(t,e)&&locallyInside(e,t)&&middleInside(t,e)&&(area(t.NM,t,e.NM)||area(t,e.NM,e))||equals$2(t,e)&&0<area(t.NM,t,t.next)&&0<area(e.NM,e,e.next))}function area(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function equals$2(t,e){return t.x===e.x&&t.y===e.y}function intersects$1(t,e,r,n){var i=sign(area(t,e,r)),a=sign(area(t,e,n)),o=sign(area(r,n,t)),s=sign(area(r,n,e));return i!==a&&o!==s||0===i&&onSegment(t,r,e)||0===a&&onSegment(t,n,e)||0===o&&onSegment(r,t,n)||0===s&&onSegment(r,e,n)}function onSegment(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function sign(t){return 0<t?1:t<0?-1:0}function intersectsPolygon(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&intersects$1(r,r.next,t,e))return 1}while((r=r.next)!==t)}function locallyInside(t,e){return area(t.NM,t,t.next)<0?0<=area(t,e,t.next)&&0<=area(t,t.NM,e):area(t,e,t.NM)<0||area(t,t.next,e)<0}function middleInside(t,e){for(var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(n=!n),(r=r.next)!==t;);return n}function splitPolygon(t,e){var r=new Node(t.i,t.x,t.y),n=new Node(e.i,e.x,e.y),i=t.next,a=e.NM;return(t.next=e).NM=t,(r.next=i).NM=r,(n.next=r).NM=n,(a.next=n).NM=a,n}function insertNode(t,e,r,n){return r=new Node(t,e,r),n?(r.next=n.next,(r.NM=n).next.NM=r,n.next=r):(r.NM=r).next=r,r}function removeNode(t){t.next.NM=t.NM,t.NM.next=t.next,t.DM&&(t.DM.RM=t.RM),t.RM&&(t.RM.DM=t.DM)}function Node(t,e,r){this.i=t,this.x=e,this.y=r,this.NM=null,this.next=null,this.z=null,this.DM=null,this.RM=null,this.LM=!1}function signedArea(t,e,r,n){for(var i=0,a=e,o=r-n;a<r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}earcut.PM=function(t,e,r,n){var i=e&&e.length,a=i?e[0]*r:t.length,o=Math.abs(signedArea(t,0,a,r));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*r,f=s<u-1?e[s+1]*r:t.length;o-=Math.abs(signedArea(t,c,f,r))}for(var l=0,s=0;s<n.length;s+=3){var h=n[s]*r,d=n[s+1]*r,v=n[s+2]*r;l+=Math.abs((t[h]-t[v])*(t[1+d]-t[1+h])-(t[h]-t[d])*(t[1+v]-t[1+h]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},earcut.UM=function(t){for(var e=t[0][0].length,r={rp:[],BM:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)r.rp.push(t[i][a][o]);0<i&&(n+=t[i-1].length,r.BM.push(n))}return r},earcut_1.default=default_1$1;var CoreFillBucket=(rka.prototype.Nx=function(t,e){if(t.length<6)return 0;for(var r=this.Qx.length,n=this._b.length,i=earcut_1(t,e),a=0,o=i.length;a<o;a+=3)this.Qx.kb(n+i[a],n+i[a+1],n+i[a+2]);for(a=0,o=t.length;a<o;a+=2)this._b.kb(t[a],t[a+1]);return 0<(r=3*(this.Qx.length-r))&&(this.uploaded=!1),r},rka.prototype.Ew=function(t){if(t.length<2)return 0;for(var e=this.qM.length,r=this.zM.length,n=0,i=t.length;n<i;n+=2)this.zM.kb(t[n][0],t[n][1]),this.zM.kb(t[n+1][0],t[n+1][1]),this.qM.kb(r+n,r+n+1);return 0<(e=2*(this.qM.length-e))&&(this.uploaded=!1),e},rka.prototype.destroy=function(){this.uploaded=!1,this.zs&&(this.zs.context.deleteBuffer(this.zs),delete this.zs),this.Pc&&(this.Pc.context.deleteBuffer(this.Pc),delete this.Pc),this.Ec&&(this.Ec.context.deleteBuffer(this.Ec),delete this.Ec),this.Nc&&(this.Nc.context.deleteBuffer(this.Nc),delete this.Nc)},rka);function rka(){this._b=new FillArray,this.zM=new FillArray,this.uploaded=!1}var PolygonBucket=(Gka=CoreFillBucket,__extends(Hka,Gka),Hka.prototype.upload=function(t,e){void 0===e&&(e=!1),this.uploaded||(this.destroy(),this.uploaded=!0,this.zs=t.fe(this._b.Mb,FillArray.Rb),this.Pc=t.ve(this.Qx.UI),this.Ec=t.fe(this.zM.Mb,LinesIndexArray.Rb),this.Nc=t.ve(this.qM.UI),e&&(delete this.Qx,delete this._b,delete this.zM,delete this.qM))},Hka.prototype.reset=function(){this._b=new FillArray,this.zM=new FillArray,this.Qx=new TriangleIndexArrayUint,this.qM=new LinesIndexArrayUint,this.uploaded=!1},Hka),Gka;function Hka(){var t=Gka.call(this)||this;return t.Qx=new TriangleIndexArrayUint,t.qM=new LinesIndexArrayUint,t}var FaceTextureCoord={empty:fromValues$3(-1,-1),Gm:fromValues$3(1,1),qm:fromValues$3(0,1),Nm:fromValues$3(1,0),Um:fromValues$3(0,0)},MaxInfo={Gm:create$3(),qm:create$3(),Nm:create$3(),Um:create$3()},floorHeight=6,FillExtrusionBucket=(Lka.prototype.tz=function(t,e,r){void 0===e&&(e=100);for(var n=[],i=[],a=t.length,o=0;o<a;o+=2)i[s=o/2*3]=t[o],i[s+1]=t[o+1],i[s+2]=0;for(var s,o=0;o<a;o+=2)n[s=o/2*3]=t[o],n[s+1]=t[o+1],n[s+2]=e;return this.Nx(n,e,r)+this.RI(i,n,r)},Lka.prototype.RI=function(t,e,r){var n=e.length,i=e[2],a=this._b.length;t=t.concat(t.slice(0,3)),e=e.concat(e.slice(0,3));for(var o=0;o<n-3;o+=3){var s=Math.abs(t[o]-t[o+3]),u=Math.abs(t[o+1]-t[o+4]),c=Math.round(i),u=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(u,2)));0<(c=fromValues$3(Math.ceil(u/floorHeight),Math.round(c/floorHeight)))[1]?(mul(MaxInfo.qm,FaceTextureCoord.qm,c),mul(MaxInfo.Gm,FaceTextureCoord.Gm,c),mul(MaxInfo.Um,FaceTextureCoord.Um,c),mul(MaxInfo.Nm,FaceTextureCoord.Nm,c)):(set$1(MaxInfo.qm,-1,-1),set$1(MaxInfo.Gm,-1,-1),set$1(MaxInfo.Um,-1,-1),set$1(MaxInfo.Nm,-1,-1)),c=this.zI(t.slice(o,o+3),t.slice(o+3,o+6),e.slice(o+3,o+6)),this._b.kb(t[o],t[o+1],t[o+2],i,c,MaxInfo.qm),this._b.kb(e[o+3],e[o+4],e[o+5],i,c,MaxInfo.Nm),this._b.kb(t[o+3],t[o+4],t[o+5],i,c,MaxInfo.Gm),this._b.kb(t[o],t[o+1],t[o+2],i,c,MaxInfo.qm),this._b.kb(e[o],e[o+1],e[o+2],i,c,MaxInfo.Um),this._b.kb(e[o+3],e[o+4],e[o+5],i,c,MaxInfo.Nm)}return 0<(a=this._b.length-a)&&(this.uploaded=!1),a},Lka.prototype.Nx=function(t,e,r){if(t.length<9)return 0;for(var n=this._b.length,i=earcut_1(t,r,3),a=i.length-1;0<=a;a--){var o=3*i[a];this._b.kb(t[o],t[1+o],t[2+o],e,fromValues$1(0,0,1),FaceTextureCoord.empty)}return 0<(n=this._b.length-n)&&(this.uploaded=!1),n},Lka.prototype.zI=function(t,e,r){var n=fromValues$1(t[0],t[1],t[2]),i=fromValues$1(e[0],e[1],e[2]),a=fromValues$1(r[0],r[1],r[2]),t=create$1(),e=create$1(),r=create$1();return sub(e,n,i),sub(r,a,i),cross(t,e,r),t},Lka.prototype.upload=function(t,e){void 0===e&&(e=!1),this.uploaded||(this.destroy(),this.uploaded=!0,this.zs=t.fe(this._b.Mb,FillExtrusionArray.Rb),e&&delete this._b)},Lka.prototype.destroy=function(){this.uploaded=!1,this.zs&&(this.zs.context.deleteBuffer(this.zs),delete this.zs),this.Pc&&(this.Pc.context.deleteBuffer(this.Pc),delete this.Pc)},Lka.prototype.reset=function(){this._b=new FillExtrusionArray,this.uploaded=!1},Lka);function Lka(){this._b=new FillExtrusionArray,this.uploaded=!1}var StyleParser=(Ala.Wb=function(t){return{style:JSON.stringify(t.styles),TY:t.TY}},Ala.Gb=function(t){var e=new Ala(t.TY);return e.jY(JSON.parse(t.style)),e},Ala.mV=function(t){var e,r={};for(e in t)if(t.hasOwnProperty(e)){var n=t[e],i=void 0;switch(e[0]){case"1":i=Ala.Xe;break;case"2":i=Ala.rn,n.type="road";break;case"3":i=Ala.cn;break;case"4":i=Ala.un;break;case"5":i=Ala.ln,n.type="building"}if(i){var o=(a=n.key)[0],a=a[1];void 0===r[o]&&(r[o]={});for(var s=(r[o][a]=n).browserStyle,u=0,c=s.length;u<c;u+=1){var f=s[u];if(s[u]=i(f),void 0===n.z)switch(e[0]){case"2":n.z=(s[u]?s[u][0]:n).z;break;case"1":case"3":case"4":case"5":n.z=s[u].z;break;default:n.z=-1}}Ala.Sn(n)}else delete t[e]}return r},Ala.$V=function(t){var e,r={};for(e in t)if(t.hasOwnProperty(e)){var n=t[e],i=void 0;switch(e[0]){case"1":i=Ala.Xe;break;case"2":i=Ala.rn,n.type="road";break;case"3":i=Ala.cn;break;case"4":i=Ala.un;break;case"5":i=Ala.ln,n.type="building"}if(i){var o=(a=e.split(":"))[0],a=a[1];void 0===r[o]&&(r[o]={});for(var s=(r[o][a]=n).browserStyle,u=0,c=s.length;u<c;u+=1){var f=s[u];if(s[u]=i(f),void 0===n.z)switch(e[0]){case"2":n.z=(s[u]?s[u][0]:n).z;break;case"1":case"3":case"4":case"5":n.z=s[u].z;break;default:n.z=-1}}Ala.Sn(n)}else delete t[e]}return r},Ala.SZ=function(t){for(var e=t.stylemaps,r=e.length,n={},i=0;i<r;i++){var a=e[i],o=a.key[0],s=a.key[1],u={};void 0===n[o]&&(n[o]={}),(n[o][s]=u).browserStyle=a.browserStyle;for(var c={},f=a.levelStyleMapping.length,l=0;l<f;l+=2){var h=a.levelStyleMapping[l],d=a.levelStyleMapping[l+1];c[h]=d}u.levelStyleMapping=c;var v=void 0;switch(o[0]){case"1":v=Ala.Xe;break;case"2":v=Ala.rn,u.type="road";break;case"3":v=Ala.cn;break;case"4":v=Ala.un;break;case"5":v=Ala.ln,u.type="building"}for(var g=u.browserStyle,b=0,p=g.length;b<p;b+=1){var m=g[b];if(g[b]=v(m),void 0===u.z)switch(o[0]){case"2":u.z=(g[b]?g[b][0]:u).z;break;case"1":case"3":case"4":case"5":u.z=g[b].z;break;default:u.z=-1}}Ala.Sn(u)}return n},Ala.Je=function(t){if(!t)return null;if(t&&"0"!==t){if(8!==t.length||(t=t.slice(2)+t.slice(0,2)),this.yQ&&this.yQ[t])return Color.create(this.yQ[t]);var e=Color.create(t);return this.yQ||(this.yQ={}),this.yQ[t]||(this.yQ[t]=e.rgba.slice(0)),e}return null},Ala.Sn=function(t){if(void 0!==t.levelStyleMapping[3]&&(t.levelStyleMapping[2]=t.levelStyleMapping[3]),void 0!==t.levelStyleMapping[20]&&(t.levelStyleMapping[21]=t.levelStyleMapping[20],t.levelStyleMapping[22]=t.levelStyleMapping[20],t.levelStyleMapping[23]=t.levelStyleMapping[20],t.levelStyleMapping[24]=t.levelStyleMapping[20],t.levelStyleMapping[25]=t.levelStyleMapping[20],t.levelStyleMapping[26]=t.levelStyleMapping[20],t.levelStyleMapping[27]=t.levelStyleMapping[20],t.levelStyleMapping[28]=t.levelStyleMapping[20],t.levelStyleMapping[29]=t.levelStyleMapping[20],t.levelStyleMapping[30]=t.levelStyleMapping[20]),"building"===t.type&&t.levelStyleMapping&&(delete t.levelStyleMapping[15],delete t.levelStyleMapping[16]),"road"===t.type&&void 0!==t.levelStyleMapping[20]){var e=t.browserStyle,r=t.levelStyleMapping[20],n=e[r];if(n)for(var i=1;i<=10;i++){var a=[];a.push(exports.Ln({},n[0])),a.push(exports.Ln({},n[1])),a[0].roadWidth=a[0].roadWidth*Math.pow(2,i),a[0].borderWidth=a[0].borderWidth*Math.pow(2,i),t.browserStyle.push(a),t.levelStyleMapping[i+20]=r+i}}},Ala.prototype._Q=function(){return Boolean(this.styles)},Ala.prototype.jY=function(t){this.styles=t},Ala.prototype.clearStyleCache=function(){this.EI=-1,this.CI.clear()},Ala.prototype.setStyle=function(t){this.Ve=t,this.clearStyleCache()},Ala.prototype.EY=function(t){this.RV=t},Ala.prototype.MS=function(t){if(this.RV)return this.RV[t]},Ala.prototype.kF=function(t){this.bN=t},Ala.prototype.dn=function(t,e,r){if(this.styles){if(this.SI(t,e,r))return this.CI.get((t<<16)+e);if(this.jk(t,e,r)){var n=this.Ak(t,e,r,this.Ve)||null;return this.CI.set((t<<16)+e,n),n}return n=this.kk(t,e,r)||null,this.CI.set((t<<16)+e,n),n}},Ala.prototype.MF=function(t,e){var r=this.bN;if(!r||!r[t])return null;if(r[t].styles&&r[t].styles.color){var n,i,a=Util.getOptimalZoom(e),o={};for(n in r[t].styles.color.nodesObj)r[t].styles.color.nodesObj.hasOwnProperty(n)&&(o[(i=r[t].styles.color.nodesObj[n]).zoom]=i.value);return o[a=this._k(o,a)]?Util.Hex2Rgba(o[a]):null}return r[t].color?(a=r[t].color,Util.Hex2Rgba(a)):void 0},Ala.prototype.nX=function(t,e,r,n){var i=this.Ve;return i&&i[t]&&i[t][e]?(t=i[t][e]).styles&&t.styles[r]?(n=Util.getOptimalZoom(n),(n=this._k(t.styles[r].nodesObj,n))&&t.styles[r].nodesObj[n]?t.styles[r].nodesObj[n]:null):"visible"===r||t[r]&&(t.visible||"3"!==e)?t[r]:void 0:null},Ala.prototype.Ok=function(t,e,r){return void 0!==this.styles[t]&&(e=this.styles[t][e])&&void 0!==(r=e.levelStyleMapping[r])?e.browserStyle[r]:null},Ala.prototype.xk=function(t,e,r){if(void 0===this.styles[t])return null;if(void 0===this.styles[t][e])return null;if(void 0===this.styles[t][e].levelStyleMapping)return null;if(void 0===this.styles[t][e].browserStyle)return null;var n=this.styles[t][e].levelStyleMapping,i=this.styles[t][e].browserStyle,a=Math.floor(r);if(a===(t=Math.ceil(r))){var o=i[n[a]];if(o){var s=g=cloneDeep(o);return g instanceof Array&&(s=g[0]),g}return null}if(e=r-a<.8?a:t,o=i[n[a]],n=i[n[t]],(o||n)&&(o||e!==a)&&(!o||n||e!==t)&&(o||!n||a!==e)){if(!o&&n){var u=g=cloneDeep(n);g instanceof Array&&(u=g[0]);for(var c,f,l=Object.keys(u),h=0;h<l.length;h++)-1<(d=l[h]).indexOf("Color")&&u[d]&&u[d].rgba?(f=(r-a-.8)/.2,c=Math.floor(u[d].rgba[3]*f),u[d].rgba[3]=c):-1<d.indexOf("Width")&&(u[d]=u[d]*(f=(r-a-.8)/.2));return g}if(o&&n){s=g=cloneDeep(o),u=n,g instanceof Array&&(s=g[0]),g instanceof Array&&(u=n[0]);for(var d,v,l=Object.keys(s),h=0;h<l.length;h++)-1<(d=l[h]).indexOf("Width")&&(v=(r-a)*(u[d]-s[d])+s[d],s[d]=v);return g}if(!o||n)return null;var g,s=g=cloneDeep(o);return g instanceof Array&&(s=g[0]),g}},Ala.prototype.Ik=function(t,e,r){var n=[];return n[0]=t[0]+(e[0]-t[0])*r,n[1]=t[1]+(e[1]-t[1])*r,n[2]=t[2]+(e[2]-t[2])*r,n[3]=t[3]+(e[3]-t[3])*r,n},Ala.prototype.kk=function(t,e,r){var n=t.toString()[0];return"1"!==n&&"4"!==n?this.xk(t,e,r):(r=Util.getOptimalZoom(r),this.Ok(t,e,r))},Ala.prototype.Ak=function(t,e,r,n){var i=r,a=n[t][e]||n[t].all,o=null;if(a.styles){var s=Util.getOptimalZoom(r);if(a.styles.visible&&(n=this._k(a.styles.visible.nodesObj,s))){var u=a.styles.visible.nodesObj[n];if(void 0!==u&&!1===u)return null}for(var c=(u=cloneDeep(this.styles[t][e])).levelStyleMapping,f=u.browserStyle,l=Object.keys(a.styles),h=0;h<l.length;h++){var d=l[h],v=a.styles[d],g=null;if(v.transitional&&"linear"===v.transitional){var b,p=this.Tk(v.nodesObj,r);if(!p||!p[0])continue;if(!(i=p[0]))continue;if(void 0===(b=c[s]))continue;o=f[b],1===p.length?g=v.nodesObj[i]:"color"===d&&(g=this.Fk(p,v.nodesObj,r))}else{if(!(i=this._k(v.nodesObj,s)))continue;if(void 0===(b=c[s]))continue;o=f[b],g=v.nodesObj[i]}if(!o)return null;var m=t.toString()[0],y=this.uP(a,s);if("1"===m){if(!y)return null;this.NI(d,g,o,t,e)}else"2"===m?(this.Sk(d,g,o),!y&&o&&o[1]&&(o[1]=null)):"4"===m?this.LI(d,g,o):this.Ck(d,g,o)}}else{if(void 0!==a.visible&&!1===a.visible)return null;if(void 0===(b=(c=this.styles[t][e].levelStyleMapping)[i=Util.getOptimalZoom(i)]))return null;if(!this.styles[t][e].browserStyle[b])return null;for(o=(f=(u=cloneDeep(this.styles[t][e])).browserStyle)[b],l=Object.keys(a),y=this.uP(a,i),h=0;h<l.length;h++){if(d=l[h],!o)return null;if("1"===(m=t.toString()[0])){if(!y)return null;this.NI(d,a[d],o,t,e)}else"2"===m?(this.Sk(d,a[d],o),!y&&o&&o[1]&&(o[1]=null)):"4"===m?this.LI(d,a[d],o):this.Ck(d,a[d],o)}}return o},Ala.prototype.mn=function(t,e){return void 0===this.styles[t]?null:(e=this.styles[t][e])?(e=e.levelStyleMapping||{},e=Object.keys(e),[parseInt(e[0],10),parseInt(e[e.length-1],10)]):[]},Ala.prototype.Lw=function(t,e){return void 0!==this.styles[t]&&(e=this.styles[t][e])?e.z:null},Ala.prototype.mW=function(t,e,r){return 2===Math.floor(t/1e4)&&(e=this.xk(t,e,r))&&e[0]?(r=["butt","butt"],-1<(e=e[0]).roadStyle.indexOf("roundcap")?r[0]="round":-1<e.roadStyle.indexOf("squarecap")&&(r[0]="square"),-1<e.borderStyle.indexOf("roundcap")?r[1]="round":-1<e.borderStyle.indexOf("squarecap")&&(r[1]="square"),r):defaultCap},Ala.prototype.destroy=function(){this.styles&&(this.styles={})},Ala.prototype.uP=function(t,e){var r=!0;return t.styles&&t.styles.showLabel?(e=this._k(t.styles.showLabel.nodesObj,e),void 0!==(e=t.styles.showLabel.nodesObj[e])&&!1===e&&(r=!1)):void 0!==t.showLabel&&!1===t.showLabel&&(r=!1),r},Ala.prototype.SI=function(t,e,r){return r=this.TY?Math.floor(r):Math.floor(r*(16.8<=r?100:10)),this.EI!==r&&(this.EI=r,this.CI.clear()),this.CI.has((t<<16)+e)},Ala.prototype.jk=function(t,e,r){return!!(this.Ve&&this.Ve[t]&&(this.Ve[t][e]||this.Ve[t].all)&&this.styles&&this.styles[t]&&this.styles[t][e])},Ala.prototype.Fk=function(t,e,r){var n=Util.Hex2Rgba(e[t[0]]),e=Util.Hex2Rgba(e[t[1]]),t=(r-t[0])/(t[1]-t[0]);return[Math.floor(n[0]+t*(e[0]-n[0])),Math.floor(n[1]+t*(e[1]-n[1])),Math.floor(n[2]+t*(e[2]-n[2])),Math.floor(n[3]+t*(e[3]-n[3]))]},Ala.prototype.UV=function(t){for(var e={},r=0;r<t.length;r++){t[r];var n=t[r].zoom,i=t[r].value;e[n]=i}return e},Ala.prototype.Tk=function(t,e){var r=[];if(t[e])return r.push(e),r;for(var n=!0,i=Math.floor(e);n&&0<i;){if(t[i]){r.push(i),n=!1;break}i--}for(i=Math.ceil(e),n=!0;n&&i<25;){if(t[i]){r.push(i),n=!1;break}i++}return r},Ala.prototype._k=function(t,e){if(!t)return null;if(!isUndefined$1(t[e]))return e;for(var r=!0,n=e;r&&0<n;)if(t[--n]||!1===t[n]||""===t[n]){r=!1;break}if(!r)return n;for(n=e;r&&n<25;)if(t[++n]||!1===t[n]||""===t[n]){r=!1;break}return r?null:n},Ala.prototype.Ck=function(t,e,r){var n=null;switch(t){case"color":case"fillColor":n=e,Array.isArray(e)||(n=Util.Hex2Rgba(e)),r.faceColor||(r.faceColor=new Color(n)),r.faceColor.rgba=n;break;case"fontSize":r.fontSize=e;break;case"texture":r.texture=e?AMap.getConfig().protocol+"://"+e:"";break;case"backgroundColor":if(n=Util.Hex2Rgba(e),!r.holoColor)return;r.holoColor.rgba=n;break;case"strokeColor":n=Util.Hex2Rgba(e),r.borderColor||(r.borderColor=new Color(n)),r.borderColor.rgba=n;break;case"showIcon":!1===e&&r.iconID&&(r.iconID="0")}},Ala.prototype.LI=function(t,e,r){var n=null;switch(t){case"textFillColor":n=e,Array.isArray(e)||(n=Util.Hex2Rgba(e)),r.faceColor||(r.faceColor=new Color(n)),r.faceColor.rgba=n;break;case"fontSize":r.fontSize=e;break;case"backgroundColor":if(n=Util.Hex2Rgba(e),!r.holoColor)return;r.holoColor.rgba=n;break;case"textStrokeColor":n=Util.Hex2Rgba(e),r.borderColor||(r.borderColor=new Color(n)),r.borderColor.rgba=n;break;case"showIcon":!1===e&&r.iconID&&(r.iconID="0");break;case"showLabel":r.showText=e?1:0}},Ala.prototype.NI=function(t,e,r,n,i){var a=null;switch(t){case"showIcon":!1===e&&r.iconID&&(r.iconID="0");break;case"textFillColor":a=e,Array.isArray(e)||(a=Util.Hex2Rgba(e)),r.faceColor||(r.faceColor=new Color(a)),r.faceColor.rgba=a;break;case"fontSize":r.fontSize=e;break;case"backgroundColor":if(a=Util.Hex2Rgba(e),!r.holoColor)return void(10002!==n||8!==i&&37!==i||(r.holoColor=new Color(a)));r.holoColor.rgba=a;break;case"textStrokeColor":a=Util.Hex2Rgba(e),r.borderColor||(r.borderColor=new Color(a)),r.borderColor.rgba=a;break;case"sel-highlight":r["sel-highlight"]=!0===e;break;case"sel-textFillColor":a=Util.Hex2Rgba(e),r["sel-textFillColor"]=map(a,function(t){return t/255});break;case"sel-textStrokeColor":a=Util.Hex2Rgba(e),r["sel-textStrokeColor"]=map(a,function(t){return t/255});break;case"label-bg":r["label-bg"]=!0===e;break;case"label-bgColor":if(a=Util.Hex2Rgba(e),!r.holoColor)return void(10002!==n||8!==i&&37!==i||(r.holoColor=new Color(a)));r.holoColor.rgba=a;break;case"showLabel":r.showText=e?1:0}},Ala.prototype.Sk=function(t,e,r){var n,i=null;switch(t){case"color":case"fillColor":i=Util.Hex2Rgba(e),r[0]&&(r[0].roadColor||(r[0].roadColor=new Color(i)),r[0].roadColor.rgba=i);break;case"fillOpacity":r[0]&&r[0].roadColor&&r[0].roadColor.rgba&&(n=r[0].roadColor.rgba,i=Util.Opacity2Rgba(e,n),r[0].roadColor.rgba=i);break;case"fillWidth":r[0]&&(r[0].roadWidth=e);break;case"strokeColor":i=Util.Hex2Rgba(e),r[0]&&(r[0].borderColor||(r[0].borderColor=new Color(i)),r[0].borderColor.rgba=i);break;case"strokeWidth":r[0]&&(r[0].borderWidth=e);break;case"textFillColor":r[1]&&(i=Util.Hex2Rgba(e),r[1].faceColor||(r[1].faceColor=new Color(i)),r[1].faceColor.rgba=i);break;case"textStrokeColor":r[1]&&(i=Util.Hex2Rgba(e),r[1].borderColor||(r[1].borderColor=new Color(i)),r[1].borderColor.rgba=i);break;case"fontSize":r[1]&&(r[1].fontSize=e);break;case"showLabel":r.showText=e?1:0}},Ala.Xe=function(t){var e=t.split("&");return(t={}).iconID=e[0],t.fontSize=parseInt(e[1],10),t.faceColor=Ala.Je(e[2]),t.borderColor=Ala.Je(e[3]),t.holoColor=Ala.Je(e[4]),t.showMode=parseInt(e[6],10),t.showText=2===t.showMode?0:1,t.forceShow=parseInt(e[7],10),t.clickEnable=parseInt(e[8],10),t.xOffset=parseInt(e[9],10),t.yOffset=parseInt(e[10],10),t.iconFile=e[5],t},Ala.rn=function(t){var e=t.split("|"),r=e[0].split("&"),t={};e[0]?(t.roadWidth=parseInt(r[0],10),t.roadColor=Ala.Je(r[1]),t.roadStyle=r[2]||"",t.borderWidth=parseInt(r[3],10),t.borderColor=Ala.Je(r[4]),t.borderStyle=r[5]||"",t.z=parseInt(r[6],10),t.roadStyle&&t.roadStyle.indexOf&&(0===t.roadStyle.indexOf("dash")?(t.roadDash=t.roadStyle.substring(4).slice(1,-1).split(","),t.roadDash=map(t.roadDash,function(t){return parseInt(t,10)}),2===t.roadDash.length&&(r=t.roadDash).push.apply(r,t.roadDash)):0<t.roadStyle.indexOf("railway")||t.roadStyle.indexOf("dash_crewel")),t.borderStyle&&t.borderStyle.indexOf&&(0===t.borderStyle.indexOf("dash")?(t.borderDash=t.borderStyle.substring(4).slice(1,-1).split(","),t.borderDash=map(t.borderDash,function(t){return parseInt(t,10)}),2===t.borderDash.length&&(n=t.borderDash).push.apply(n,t.borderDash)):0<t.borderStyle.indexOf("railway")||t.borderStyle.indexOf("dash_crewel"))):(t.roadWidth=0,t.roadColor=Ala.Je("00000000"),t.roadStyle="",t.borderWidth=0,t.borderColor=Ala.Je("00000000"),t.borderStyle="",t.z=0);var n={};return e[1]&&(e=e[1].split("&"),n.iconID="",n.fontSize=parseInt(e[1],10),n.faceColor=Ala.Je(e[2]),n.borderColor=Ala.Je(e[3]),n.z=parseInt(e[4],10)),[t,n]},Ala.ln=function(t){var e=t.split("&");return(t={}).faceColor=Ala.Je(e[0]),t.borderWidth=parseInt(e[1],10),t.borderColor=Ala.Je(e[2]),t.wallColor1=Ala.Je(e[3]),t.wallColor2=Ala.Je(e[4]),t.opacity=parseFloat(e[5]),t.z=parseInt(e[6],10),t},Ala.un=function(t){var e=t.split("&");return(t={}).iconID=e[0],t.fontSize=parseInt(e[1],10),t.faceColor=Ala.Je(e[2]),t.borderColor=Ala.Je(e[3]),t.holoColor=null,t.z=parseInt(e[5],10),t},Ala.cn=function(t){var e=t.split("&");return(t={}).faceColor=Ala.Je(e[0]),t.borderWidth=0,t.borderColor=null,t.z=parseInt(e[3],10),t},Ala);function Ala(t){this.TY=t,this.CI=new AdaptorMap,this.Ve=null,this.RV=null,this.bN=null}var NebulaSegements=(aqa.prototype.add=function(t,e,r,n,i,a,o,s){this.WM.eT(t,e,i,n)&&a===this.WM.bz&&o+""==this.WM.roofColor+""&&s+""==this.WM.wallColor+""||(this.GM=t,this.HM=e,this.VM+=this.WM?this.WM.length:0,this.WM=new LineSegement(t,e,this.VM,n,i,a,o,s),this.jc.push(this.WM)),this.WM.add(r)},aqa.prototype.reset=function(){this.WM=new LineSegement(-1,-1,-1,-1,-1)},aqa);function aqa(){this.jc=[],this.GM=-1,this.HM=-1,this.VM=0,this.WM=new LineSegement(-1,-1,-1,-1,-1)}var LineSegement=(jqa.prototype.add=function(t){this.length+=t},jqa.prototype.eT=function(t,e,r,n){return this.mainkey===t&&this.subkey===e&&this.maxzoom===r&&this.minzoom===n},jqa);function jqa(t,e,r,n,i,a,o,s){this.mainkey=t,this.subkey=e,this.offset=r,this.minzoom=n,this.maxzoom=i,this.bz=a,this.roofColor=o,this.wallColor=s,this.length=0}var PolygonSegements=(xqa.prototype.add=function(t){this.jc.push({length:t,offset:this.VM}),this.VM+=t},xqa.prototype.reset=function(){this.jc=[],this.VM=0},xqa.prototype.destroy=function(){this.jc&&0<this.jc.length&&(this.jc=[])},xqa);function xqa(){this.jc=[],this.VM=0}var VectorTileFeature=function(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this.fA=t,this.hA=-1,this.cA=n,this.vA=i,t.nw(readFeature,this,e)};function readFeature(t,e,r){1===t?e.id=r.ow():2===t?readTag(r,e):3===t?e.type=r.ow():4===t&&(e.hA=r.pos)}function readTag(t,e){for(var r=t.ow()+t.pos;t.pos<r;){var n=e.cA[t.ow()],i=e.vA[t.ow()];e.properties[n]=i}}function classifyRings(t){var e=t.length;if(e<=1)return[t];for(var r,n=[],i=[],a=0;a<e;a++){var o=signedArea$1(t[a]);0!==o&&((r=void 0===r?o<0:r)===o<0?(i&&n.push(i),i=[t[a]]):i.push(t[a]))}return i&&n.push(i),n}function signedArea$1(t){for(var e,r,n=0,i=0,a=t.length,o=a-1;i<a;o=i++)e=t[i],n+=((r=t[o]).x-e.x)*(e.y+r.y);return n}VectorTileFeature.types=["Unknown","Point","LineString","Polygon"],VectorTileFeature.prototype.Dw=function(){var t=this.fA;t.pos=this.hA;for(var e,r=t.ow()+t.pos,n=1,i=0,a=0,o=0,s=[],u=[];t.pos<r;)if(i<=0&&(n=7&(e=t.ow()),i=e>>3),i--,1===n||2===n)a+=t.lA(),o+=t.lA(),1===n&&(u&&0<u.length&&s.push(u),u=[]),u.push([a,o]);else{if(7!==n)throw new Error("unknown command "+n);u&&u.push([u[0][0],u[0][1]])}return u&&0<u.length&&s.push(u),this.lines=s},VectorTileFeature.prototype.Ro=function(){var t=this.fA;t.pos=this.hA;for(var e,r=t.ow()+t.pos,n=1,i=0,a=0,o=0,s=1/0,u=-1/0,c=1/0,f=-1/0;t.pos<r;)if(i<=0&&(n=7&(e=t.ow()),i=e>>3),i--,1===n||2===n)(a+=t.lA())<s&&(s=a),u<a&&(u=a),(o+=t.lA())<c&&(c=o),f<o&&(f=o);else if(7!==n)throw new Error("unknown command "+n);return[s,c,u,f]},VectorTileFeature.prototype.dA=function(t,e,r){var n,i=this.extent*Math.pow(2,r),a=this.extent*t,o=this.extent*e,s=this.Dw(),e=VectorTileFeature.types[this.type];function u(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+o)/i;t[e]=[360*(r.x+a)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:for(var c=[],f=0;f<s.length;f++)c[f]=s[f][0];u(s=c);break;case 2:for(f=0;f<s.length;f++)u(s[f]);break;case 3:for(s=classifyRings(s),f=0;f<s.length;f++)for(n=0;n<s[f].length;n++)u(s[f][n])}return 1===s.length?s=s[0]:e="Multi"+e,e={type:"Feature",geometry:{type:e,coordinates:s},properties:this.properties},"id"in this&&(e.id=this.id),e};var VectorTileLayer=function(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.fA=t,this.cA=[],this.vA=[],this.Cw=[],t.nw(readLayer,this,e),this.length=this.Cw.length};function readLayer(t,e,r){15===t?e.version=r.ow():1===t?e.name=r.aw():5===t?e.extent=r.ow():2===t?e.Cw.push(r.pos):3===t?e.cA.push(r.aw()):4===t&&e.vA.push(readValueMessage(r))}function readValueMessage(t){for(var e=null,r=t.ow()+t.pos;t.pos<r;)var n=t.ow()>>3,e=1==n?t.aw():2==n?t.pA():3==n?t.yA():4==n?t.mA():5==n?t.ow():6==n?t.lA():7==n?t.vw():null;return e}VectorTileLayer.prototype.Gw=function(t){if(t<0||t>=this.Cw.length)throw new Error("feature index out of bounds");return this.fA.pos=this.Cw[t],t=this.fA.ow()+this.fA.pos,new VectorTileFeature(this.fA,t,this.extent,this.cA,this.vA)};var VectorTile$1=function(t,e){this.type="vector",this.layers=t.nw(readTile,{},e)};function readTile(t,e,r){3!==t||(r=new VectorTileLayer(r,r.ow()+r.pos)).length&&(e[r.name]=r)}VectorTile$1.Wb=function(t){return t},VectorTile$1.Gb=function(t){return t},VectorTile$1.prototype.nG=function(t){this.type=t};var SHIFT_LEFT_32=4294967296,SHIFT_RIGHT_32=1/SHIFT_LEFT_32,Pbf=(bsa.prototype.destroy=function(){this.gA=new Uint8Array(0)},bsa.prototype.nw=function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.ow(),i=n>>3,a=this.pos;this.type=7&n,t(i,e,this),this.pos===a&&this.wA(n)}return e},bsa.prototype.MA=function(t,e){return this.nw(t,e,this.ow()+this.pos)},bsa.prototype.jA=function(){var t=readUInt32(this.gA,this.pos);return this.pos+=4,t},bsa.prototype.AA=function(){var t=readInt32(this.gA,this.pos);return this.pos+=4,t},bsa.prototype.kA=function(){var t=readUInt32(this.gA,this.pos)+readUInt32(this.gA,this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,t},bsa.prototype.OA=function(){var t=readUInt32(this.gA,this.pos)+readInt32(this.gA,this.pos+4)*SHIFT_LEFT_32;return this.pos+=8,t},bsa.prototype.pA=function(){var t=this.xA(this.gA,this.pos,!0,23,4);return this.pos+=4,t},bsa.prototype.yA=function(){var t=this.xA(this.gA,this.pos,!0,52,8);return this.pos+=8,t},bsa.prototype.ow=function(t){var e=this.gA,r=e[this.pos++],n=127&r;return r<128?n:(n|=(127&(r=e[this.pos++]))<<7,r<128?n:(n|=(127&(r=e[this.pos++]))<<14,r<128?n:(n|=(127&(r=e[this.pos++]))<<21,r<128?n:readVarintRemainder(n|=(15&e[this.pos])<<28,t,this))))},bsa.prototype.mA=function(){return this.ow(!0)},bsa.prototype.lA=function(){var t=this.ow();return t%2==1?(t+1)/-2:t/2},bsa.prototype.vw=function(){return Boolean(this.ow())},bsa.prototype.aw=function(){var t=this.ow()+this.pos,e=readUtf8(this.gA,this.pos,t);return this.pos=t,e},bsa.prototype.mw=function(){var t=this.ow()+this.pos,e=this.gA.subarray(this.pos,t);return this.pos=t,e},bsa.prototype.tw=function(t,e){var r=readPackedEnd(this);for(t=t||[];this.pos<r;)t.push(this.ow(e));return t},bsa.prototype.IA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.lA());return t},bsa.prototype.TA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.vw());return t},bsa.prototype.FA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.pA());return t},bsa.prototype._A=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.yA());return t},bsa.prototype.SA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.jA());return t},bsa.prototype.CA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.AA());return t},bsa.prototype.EA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.kA());return t},bsa.prototype.NA=function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.OA());return t},bsa.prototype.wA=function(t){(t&=7)===bsa.LA||(t===bsa.DA?this.pos=this.ow()+this.pos:t===bsa.RA?this.pos+=4:t===bsa.PA?this.pos+=8:console.log("Unimplemented type: "+t))},bsa.prototype.UA=function(t,e){this.BA(t<<3|e)},bsa.prototype.zA=function(t){for(var e,r=this.length||16;r<this.pos+t;)r*=2;r!==this.length&&((e=new Uint8Array(r)).set(this.gA),this.gA=e,this.length=r)},bsa.prototype.finish=function(){return this.length=this.pos,this.pos=0,this.gA.subarray(0,this.length)},bsa.prototype.qA=function(t){this.zA(4),writeInt32(this.gA,t,this.pos),this.pos+=4},bsa.prototype.WA=function(t){this.zA(4),writeInt32(this.gA,t,this.pos),this.pos+=4},bsa.prototype.GA=function(t){this.zA(8),writeInt32(this.gA,-1&t,this.pos),writeInt32(this.gA,Math.floor(t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},bsa.prototype.HA=function(t){this.zA(8),writeInt32(this.gA,-1&t,this.pos),writeInt32(this.gA,Math.floor(t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},bsa.prototype.BA=function(t){268435455<(t=+t||0)||t<0?writeBigVarint(t,this):(this.zA(4),this.gA[this.pos++]=127&t|(127<t?128:0),t<=127||(this.gA[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.gA[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.gA[this.pos++]=t>>>7&127))))},bsa.prototype.VA=function(t){this.BA(t<0?2*-t-1:2*t)},bsa.prototype.$A=function(t){this.BA(Boolean(t))},bsa.prototype.YA=function(t){t=String(t),this.zA(4*t.length),this.pos++;var e=this.pos;this.pos=writeUtf8(this.gA,t,this.pos),128<=(t=this.pos-e)&&makeRoomForExtraLength(e,t,this),this.pos=e-1,this.BA(t),this.pos+=t},bsa.prototype.KA=function(t){this.zA(4),this.XA(this.gA,t,this.pos,!0,23,4),this.pos+=4},bsa.prototype.JA=function(t){this.zA(8),this.XA(this.gA,t,this.pos,!0,52,8),this.pos+=8},bsa.prototype.ZA=function(t){var e=t.length;this.BA(e),this.zA(e);for(var r=0;r<e;r++)this.gA[this.pos++]=t[r]},bsa.prototype.QA=function(t,e){this.pos++;var r=this.pos;t(e,this),128<=(e=this.pos-r)&&makeRoomForExtraLength(r,e,this),this.pos=r-1,this.BA(e),this.pos+=e},bsa.prototype.fw=function(t,e,r){this.UA(t,bsa.DA),this.QA(e,r)},bsa.prototype.tk=function(t,e){this.fw(t,writePackedVarint,e)},bsa.prototype.rk=function(t,e){this.fw(t,writePackedSVarint,e)},bsa.prototype.nk=function(t,e){this.fw(t,writePackedBoolean,e)},bsa.prototype.ik=function(t,e){this.fw(t,writePackedFloat,e)},bsa.prototype.ek=function(t,e){this.fw(t,writePackedDouble,e)},bsa.prototype.ak=function(t,e){this.fw(t,writePackedFixed32,e)},bsa.prototype.uk=function(t,e){this.fw(t,writePackedSFixed32,e)},bsa.prototype.sk=function(t,e){this.fw(t,writePackedFixed64,e)},bsa.prototype.fk=function(t,e){this.fw(t,writePackedSFixed64,e)},bsa.prototype.ww=function(t,e){this.UA(t,bsa.DA),this.ZA(e)},bsa.prototype.hk=function(t,e){this.UA(t,bsa.RA),this.qA(e)},bsa.prototype.ck=function(t,e){this.UA(t,bsa.RA),this.WA(e)},bsa.prototype.vk=function(t,e){this.UA(t,bsa.PA),this.GA(e)},bsa.prototype.lk=function(t,e){this.UA(t,bsa.PA),this.HA(e)},bsa.prototype.rw=function(t,e){this.UA(t,bsa.LA),this.BA(e)},bsa.prototype.dk=function(t,e){this.UA(t,bsa.LA),this.VA(e)},bsa.prototype.uw=function(t,e){this.UA(t,bsa.DA),this.YA(e)},bsa.prototype.bk=function(t,e){this.UA(t,bsa.RA),this.KA(e)},bsa.prototype.pk=function(t,e){this.UA(t,bsa.PA),this.JA(e)},bsa.prototype.hw=function(t,e){this.rw(t,Boolean(e))},bsa.prototype.xA=function(t,e,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,r=t[e+l];for(l+=h,a=r&(1<<-f)-1,r>>=-f,f+=s;0<f;a=256*a+t[e+l],l+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;0<f;o=256*o+t[e+l],l+=h,f-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(r?-1:1);o+=Math.pow(2,n),a-=c}return(r?-1:1)*o*Math.pow(2,a-n)},bsa.prototype.XA=function(t,e,r,n,i,a){var o,s,u=8*a-i-1,c=(1<<u)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,d=n?1:-1,a=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-o))<1&&(o--,n*=2),2<=(e+=1<=o+f?l/n:l*Math.pow(2,1-f))*n&&(o++,n/=2),c<=o+f?(s=0,o=c):1<=o+f?(s=(e*n-1)*Math.pow(2,i),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));8<=i;t[r+h]=255&s,h+=d,s/=256,i-=8);for(o=o<<i|s,u+=i;0<u;t[r+h]=255&o,h+=d,o/=256,u-=8);t[r+h-d]|=128*a},bsa.LA=0,bsa.PA=1,bsa.DA=2,bsa.RA=5,bsa);function bsa(t){this.gA=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.gA.length}function readVarintRemainder(t,e,r){var n=r.gA,i=n[r.pos++],a=(112&i)>>4;if(i<128)return toNum(t,a,e);if(a|=(127&(i=n[r.pos++]))<<3,i<128)return toNum(t,a,e);if(a|=(127&(i=n[r.pos++]))<<10,i<128)return toNum(t,a,e);if(a|=(127&(i=n[r.pos++]))<<17,i<128)return toNum(t,a,e);if(a|=(127&(i=n[r.pos++]))<<24,i<128)return toNum(t,a,e);if(a|=(1&(i=n[r.pos++]))<<31,i<128)return toNum(t,a,e);throw new Error("Expected varint not more than 10 bytes")}function readPackedEnd(t){return t.type===Pbf.DA?t.ow()+t.pos:t.pos+1}function toNum(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function writeBigVarint(t,e){var r,n;if(0<=t?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:n=n+1|(r=0)),0x10000000000000000<=t||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.zA(10),writeBigVarintLow(r,n,e),writeBigVarintHigh(n,e)}function writeBigVarintLow(t,e,r){r.gA[r.pos++]=127&t|128,t>>>=7,r.gA[r.pos++]=127&t|128,t>>>=7,r.gA[r.pos++]=127&t|128,t>>>=7,r.gA[r.pos++]=127&t|128,r.gA[r.pos]=127&(t>>>=7)}function writeBigVarintHigh(t,e){var r=(7&t)<<4;e.gA[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.gA[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.gA[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.gA[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.gA[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.gA[e.pos++]=127&t)))))}function makeRoomForExtraLength(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));r.zA(n);for(var i=r.pos-1;t<=i;i--)r.gA[i+n]=r.gA[i]}function writePackedVarint(t,e){for(var r=0;r<t.length;r++)e.BA(t[r])}function writePackedSVarint(t,e){for(var r=0;r<t.length;r++)e.VA(t[r])}function writePackedFloat(t,e){for(var r=0;r<t.length;r++)e.KA(t[r])}function writePackedDouble(t,e){for(var r=0;r<t.length;r++)e.JA(t[r])}function writePackedBoolean(t,e){for(var r=0;r<t.length;r++)e.$A(t[r])}function writePackedFixed32(t,e){for(var r=0;r<t.length;r++)e.qA(t[r])}function writePackedSFixed32(t,e){for(var r=0;r<t.length;r++)e.WA(t[r])}function writePackedFixed64(t,e){for(var r=0;r<t.length;r++)e.GA(t[r])}function writePackedSFixed64(t,e){for(var r=0;r<t.length;r++)e.HA(t[r])}function readUInt32(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function writeInt32(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function readInt32(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function readUtf8(t,e,r){for(var n="",i=e;i<r;){var a=t[i],o=null,s=239<a?4:223<a?3:191<a?2:1;if(r<i+s)break;var u,c=void 0,f=void 0;1===s?a<128&&(o=a):2===s?128==(192&(c=t[i+1]))&&(o=(31&a)<<6|63&c)<=127&&(o=null):3===s?(c=t[i+1],f=t[i+2],128==(192&c)&&128==(192&f)&&((o=(15&a)<<12|(63&c)<<6|63&f)<=2047||55296<=o&&o<=57343)&&(o=null)):4===s&&(c=t[i+1],f=t[i+2],u=t[i+3],128==(192&c)&&128==(192&f)&&128==(192&u)&&((o=(15&a)<<18|(63&c)<<12|(63&f)<<6|63&u)<=65535||1114112<=o)&&(o=null)),null===o?(o=65533,s=1):65535<o&&(o-=65536,n+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),n+=String.fromCharCode(o),i+=s}return n}function writeUtf8(t,e,r){for(var n=0,i=void 0,a=void 0;n<e.length;n++){if(55295<(i=e.charCodeAt(n))&&i<57344){if(!a){56319<i||n+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):a=i;continue}if(i<56320){t[r++]=239,t[r++]=191,t[r++]=189,a=i;continue}i=a-55296<<10|i-56320|65536,a=null}else a&&(t[r++]=239,t[r++]=191,t[r++]=189,a=null);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:(i<65536?t[r++]=i>>12|224:(t[r++]=i>>18|240,t[r++]=i>>12&63|128),t[r++]=i>>6&63|128),t[r++]=63&i|128)}return r}var StyleOptionsBuilding=function(){this.hideWithoutStyle=!1,this.areas=[]},VectorTileSegements=(ewa.prototype.add=function(t,e,r,n,i){VTLineSegement.getKey(t,e,i,n)!==(this.WM?this.WM.getKey():"-1")&&(this.VM+=this.WM?this.WM.length:0,this.WM=new VTLineSegement(t,e,this.VM,n,i),this.jc.push(this.WM)),this.WM.add(r)},ewa);function ewa(){this.jc=[],this.VM=0}var VTLineSegement=(mwa.getKey=function(t,e,r,n){return t+":"+e+":"+r+":"+n},mwa.prototype.add=function(t){this.length+=t},mwa.prototype.getKey=function(){return this.mainkey+":"+this.subkey+":"+this.maxzoom+":"+this.minzoom},mwa);function mwa(t,e,r,n,i){this.mainkey=t,this.subkey=e,this.offset=r,this.minzoom=n,this.maxzoom=i,this.length=0}var MapboxSegements=(xwa.prototype.add=function(t,e){MBLineSegement.getKey(t),this.WM&&this.WM.getKey(),this.GM=t,this.VM+=this.WM?this.WM.length:0,this.WM=new MBLineSegement(t,this.VM),this.jc.push(this.WM),this.WM.add(e)},xwa);function xwa(){this.jc=[],this.GM=-1,this.HM=-1,this.VM=0}var MBLineSegement=(Cwa.getKey=function(t){return""+t},Cwa.prototype.add=function(t){this.length+=t},Cwa.prototype.getKey=function(){return""+this.style},Cwa),ImageDataWraperType,Hwa;function Cwa(t,e){this.style=t,this.offset=e,this.length=0}Hwa=ImageDataWraperType=ImageDataWraperType||{},Hwa.base64="base64",Hwa.arraybuffer="arraybuffer",Hwa.bitmap="bitmap",Hwa.empty="empty";var ImageDataWraper=(Iwa.AV=function(t){return createImageBitmap(new Blob([new Uint8Array(t)]))},Iwa.Wb=function(t){var e={data:t.data,type:t.type,status:t.status,IV:t.IV,hash:t.hash};return t.transform(),e},Iwa.prototype.transform=function(){this.IV=!0,this.type===ImageDataWraperType.bitmap&&(this.data="")},Iwa.prototype.destroy=function(){"destroyed"!==this.status&&(this.type===ImageDataWraperType.arraybuffer&&URLObject.revokeObjectURL(this.data),this.data="",this.status="destroyed")},Iwa.prototype.IZ=function(t){var e;this.type===ImageDataWraperType.bitmap?t(this.data):((e=new Image).crossOrigin="",e.onload=function(){t(e)},e.src=this.data)},Iwa);function Iwa(t,e,r){this.hash=t,this.IV=!1,"string"!=typeof e?r&&r.imageBitmap?(this.type=ImageDataWraperType.bitmap,this.status="success",this.data=e):(r=new Blob([e],{type:"image/png"}),(r=URLObject.createObjectURL(r))?(this.data=r,this.type=ImageDataWraperType.arraybuffer,this.status="success"):(this.data="",this.type=ImageDataWraperType.arraybuffer,this.status="error")):(this.data=e,this.type=ImageDataWraperType.base64,this.status="success")}var EmptyImageDataWraper=new ImageDataWraper("","");EmptyImageDataWraper.type=ImageDataWraperType.empty;var CircleBucket=(Twa.prototype.wb=function(t,e){var r=this._b.length;return this._b.kb(t[0],t[1],e),this._b.length-r},Twa.prototype.upload=function(t){this.uploaded||(this.destroy(),this.uploaded=!0,this.zs=t.fe(this._b.Mb,SymbolArray.Rb))},Twa.prototype.destroy=function(){this.uploaded=!1,this.zs&&this.zs.context&&(this.zs.context.deleteBuffer(this.zs),delete this.zs)},Twa.prototype.reset=function(){this._b=new SymbolArray,this.uploaded=!1},Twa);function Twa(){this._b=new SymbolArray,this.uploaded=!1}var SimpleCircleBucket=(Zwa.prototype.wb=function(t){var e=this._b.length;return this._b.kb(t[0],t[1]),this._b.length-e},Zwa.prototype.upload=function(t){this.uploaded||(this.destroy(),this.uploaded=!0,this.zs=t.fe(this._b.Mb,SimpleSymbolArray.Rb))},Zwa.prototype.destroy=function(){this.uploaded=!1,this.zs&&this.zs.context&&(this.zs.context.deleteBuffer(this.zs),delete this.zs)},Zwa.prototype.reset=function(){this._b=new SimpleSymbolArray,this.uploaded=!1},Zwa);function Zwa(){this._b=new SimpleSymbolArray,this.uploaded=!1}var DistrictLayerStyle=function(){this["stroke-width"]="",this["coastline-stroke"]="",this["nation-stroke"]="",this["province-stroke"]="",this["city-stroke"]="",this["county-stroke"]="",this.fill=""},registry={};function register(t,e,r){void 0===r&&(r={}),Object.defineProperty(e,"yk",{value:t,writable:!1}),registry[t]={mk:e,gk:r.gk||[],wk:r.wk||[]}}function serialize(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(Browser.imageBitmap&&t instanceof ImageBitmap)return e&&e.indexOf(t)<0&&e.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return e&&e.push(r.buffer),r}if(t instanceof ImageData)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],i=0,a=t;i<a.length;i++){var o=a[i];n.push(serialize(o,e))}return n}if("object"!=typeof t)throw new Error("can't serialize object of type "+typeof t);var s=(r=t.constructor).yk;if(!s)throw new Error("can't serialize object of unregistered class");var u,c=void 0;if(r.Wb)c=r.Wb(t,e);else{for(var f in c={},t)t.hasOwnProperty(f)&&(0<=registry[s].gk.indexOf(f)||(u=t[f],c[f]=0<=registry[s].wk.indexOf(f)?u:serialize(u,e)));t instanceof Error&&(c.message=t.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(c.$name=s),c}function deserialize(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof ImageData||Browser.imageBitmap&&t instanceof ImageBitmap)return t;if(Array.isArray(t))return map(t,deserialize);if("object"!=typeof t)throw new Error("can't deserialize object of type "+typeof t);var e=t.$name||"Object",r=registry[e].mk;if(!r)throw new Error("can't deserialize unregistered class "+e);if(r.Gb)return r.Gb(t);for(var n=Object.create(r.prototype),i=0,a=Object.keys(t);i<a.length;i++){var o,s=a[i];"$name"!==s&&(o=t[s],n[s]=0<=registry[e].wk.indexOf(s)?o:deserialize(o))}return n}register("Object",Object),register("LineArrayBuffer",LineArrayBuffer),register("TriangleIndexArray",TriangleIndexArray),register("TriangleIndexArrayUint",TriangleIndexArrayUint),register("PolylineBucket",PolylineBucket),register("LinesIndexArray",LinesIndexArray),register("LinesIndexArrayUint",LinesIndexArrayUint),register("FillArray",FillArray),register("PolygonBucket",PolygonBucket),register("CircleBucket",CircleBucket),register("SymbolArray",SymbolArray),register("FillExtrusionBucket",FillExtrusionBucket),register("FillExtrusionArray",FillExtrusionArray),register("SmartArrayBuffer",SmartArrayBuffer),register("Color",Color),register("Segements",NebulaSegements),register("VectorTileSegements",VectorTileSegements),register("VTLineSegement",VTLineSegement),register("LineSegement",LineSegement),register("PolygonSegements",PolygonSegements),register("VectorTile",VectorTile$1),register("VectorTileLayer",VectorTileLayer),register("VectorTileFeature",VectorTileFeature),register("Pbf",Pbf),register("StyleOptionsBuilding",StyleOptionsBuilding),register("DistrictStyleOptions",DistrictLayerStyle),register("MapboxSegements",MapboxSegements),register("MBLineSegement",MBLineSegement),register("ImageDataWraper",ImageDataWraper),register("TileCoord",TileCoord),register("Tile",Tile),register("StyleParser",StyleParser);var LabelTextStyle=(zxa.BV=function(t,e){var r=DangerousFontSize,i=void 0===(n=t.fontSize)?12:n,a=t.fillColor,o=t.strokeColor,u=void 0===(s=t.strokeWidth)?0:s,f=void 0===(c=t.backgroundColor)?0:c,n=t.borderColor,s=labelsUtil.Yj(Util.color2RgbaArray(s=void 0===a?[0,0,0,1]:a)),f=f?labelsUtil.Yj(Util.color2RgbaArray(f)):[0,0,0,0],o=labelsUtil.Yj(Util.color2RgbaArray(o),[.988,.988,.988,1]),n=labelsUtil.Yj(Util.color2RgbaArray(n),[.988,.988,.988,1]),c=(i=i||12)<10?.78125:205/256,t=0,a=0;return u&&(a=c*(1-(u=10<u*e?10:u)/10.1)),t=1.4142*(t=r<i||1<e?1.7:1.5)/i,c+=1.5/256*(e-1),(e=new Float32Array(28)).set(s,0),e.set(o,4),e[8]=t,e[9]=a,e[10]=c,e.set(f,11),e.set(n,15),e[19]=1,e.set(s,20),e.set(o,24),e},zxa.prototype.GV=function(t){switch(t){case"fillColor":return this.origin.slice(0,4);case"strokeColor":return this.origin.slice(4,8);case"backgroundColor":return this.origin.slice(11,15);case"borderColor":return this.origin.slice(15,19);case"u_gamma":return this.origin[8];case"u_borderBuffer":return this.origin[9];case"u_buffer":return this.origin[10];case"u_fontSizeFactor":return this.origin[19];case"u_highlightFillColor":return this.origin.slice(20,24);case"u_highlightStrokeColor":return this.origin.slice(24,28);default:return}},zxa.prototype.VV=function(t,e){switch(t){case"u_fontSizeFactor":this.origin[19]=e;break;case"fillColor":this.origin.set(e,0);break;case"strokeColor":this.origin.set(e,4);break;case"backgroundColor":this.origin.set(e,11);break;case"borderColor":this.origin.set(e,8);break;case"u_highlightFillColor":this.origin.set(e,20);break;case"u_highlightStrokeColor":this.origin.set(e,24)}},zxa);function zxa(t){this.origin=t}register("LabelTextStyle",LabelTextStyle);var angle$1=0,LabelBucket=(Wxa.prototype.rQ=function(t,e){var n=void 0===(r=e.from)?"inner":r,i=CONSTS.ud;labelsUtil.zj(this,t),this.iO=n;var r=this.Mf&&"SDFManagerBase"!==this.Mf.CLASS_NAME,a=this.DO;r&&(a.rp=new Float32Array(this.$j*i*6));var o=this.Gj,s=this.Hj,u=this.Vj;if(!s||!u)return null;var t=assign(this.options,e),n=this.RO(o),c=isUndefined(t.opacity)?1:t.opacity;if(r){for(var f,l=0,h=0,d=0,v=n;d<v.length;d++){for(var g=v[d],b=void 0,p=0,m=g;p<m.length&&!((b=s[m[p]])&&b.text&&b.text.style);p++);var y={vd:[]},T=this.ym().KO;b&&b.text&&b.text.style?(x=b.text.style||{},y.vd=new LabelTextStyle(LabelTextStyle.BV(x,void 0===T?1:T))):(y.vd=new LabelTextStyle(new Float32Array(28)),y.vd.VV("u_fontSizeFactor",1)),f=h,y.start=f;var T=isUndefined(T=(x=o[g[0]].opts||{}).opacity)?1:T,x=x.icon&&x.icon[0]&&x.icon[0].image;y.opacity=T,y.opacity*=c,a.pp.push(y),y.dp=[];for(var w=0,A=g;w<A.length;w++){var M=A[w],S=o[M].CO||[],P={height:o[M]&&o[M].opts.height||0,from:e.from},I=this.PO(M,u[M],s[M],a,P),$=this.zV(M,u[M],s[M],o[M],a,P,S),S=this.BO(M,u[M],s[M],o[M],a,S,P);y.dp.push({id:M,Rd:S,icon:I,bg:$,kd:P=6*(S+I+$)}),h+=P*i}y.end=h,y.pd=x,l+=x=h-f,a.bd.push(x)}a.up=l}return a.Fz=n,this.DO=a},Wxa.prototype.destroy=function(){},Wxa.prototype.ym=function(){return this.gs.aO()},Wxa.prototype.zO=function(t){if(!t)return[];var e=this.qO;return e[t]||(e=labelsUtil.Kj(parseInt(t,10)),this.qO[t]=e,this.qO[t])},Wxa.prototype.RO=function(t){var e,r,n,i,a,o,s,u={},c=this.Gj,f=this.iO;for(e in t)t.hasOwnProperty(e)&&(i=(r=c[e]).data||{},o=(s=r.opts||{}).zIndex,a=s.forceShow,v=i.rank,v=a?v-1e5:v,n=isUndefined(s.opacity)?1:s.opacity,s=void 0===(a=(i=this.Hj[e]||{}).text)?{}:a,a=i.icon,u[i=("labelsLayer"===f?o||v:o)||1]=u[i]||{},o=s&&s.style||"",s=void 0,"labelsLayer"===f?(s=o?labelGroup.nT(o)+n:s,s+=a&&a[0]&&a[0].image?a[0].image:""):s=r.data.extData.Lp?(r.data.extData.Lp<<16)+r.data.extData.Ap:o?labelGroup.nT(o)+n:"-1-"+n,u[i][s]||(u[i][s]=[]),u[i][s].push(e));for(var l=[],h=0,d=labelsUtil.rank(Object.keys(u));h<d.length;h++)for(var v,g=u[v=d[h]],b=0,p=Object.keys(g).sort();b<p.length;b++){var m=p[b];l.push(g[m])}return l},Wxa.prototype.WO=function(t,e){var r=Util.WorldAxesCenter;return[t-r.x,e-r.y]},Wxa.prototype.GO=function(t){return t},Wxa.prototype.HO=function(t,e,r,n,i){var a=i.VO,s=void 0===(o=i.type)?EnumLabelFragType.icon:o,u=i.zooms,c=i.height,l=void 0===(f=e.icon)?[]:f,h=CONSTS.ud,d=this.$O,v=0,g=0;(b=this.ac.getImage(r.image))&&(v=b.startX||0,g=b.startY||0);var p,m,y=a[0],T=a[1],x=u[0],w=u[1],A=exports.cY.icon,o=l.anchorOffset,i=r.size,e=r.clipSize,f=r.clipOrigin,b=i[0],a=i[1],u=e[0],l=e[1],i=f[0],e=f[1],o=(f=this.GO(o))[0]||0,f=f[1]||0;(r=r.offset)&&(m=r instanceof Array||void 0===r.x||void 0===r.y?(p=r[0],r[1]):(p=r.x,r.y)),void 0!==p&&(o+=p),void 0!==m&&(f+=m),n.set([o,f,i=v+i,e=g+e,y,T,A,s,x,w,c,angle$1,0,o+b,f,i+u,e,y,T,A,s,x,w,c,angle$1,0,o,a+f,i,e+l,y,T,A,s,x,w,c,angle$1,0,o+b,f,i+u,e,y,T,A,s,x,w,c,angle$1,0,o+b,a+f,i+u,e+l,y,T,A,s,x,w,c,angle$1,0,o,a+f,i,e+l,y,T,A,s,x,w,c,angle$1,0],d),this.$O+=6*h},Wxa.prototype.PO=function(t,e,r,n,i){if(!e||!r)return 0;var a=e.icon,s=void 0===(o=r.icon)?[]:o;if(!s.length||!s[0].image)return 0;for(var o=(r=(void 0===a?{}:a).origin)[0],a=r[1],u=(r[2],this.WO(o,a)),c=i.height,f=0,l=s;f<l.length;f++){var h=l[f];this.HO(t,e,h,n.rp,{VO:u,zooms:h.zooms,height:c}),delete h.clipOrigin,delete h.clipSize,delete h.size,delete h.image,delete h.type,delete h.anchor,delete h.retina}return s.length},Wxa.prototype.YO=function(t,e,r,n,i){var a=i.VO,s=void 0===(o=i.type)?EnumLabelFragType.bg:o,u=i.zooms,c=i.height,f=CONSTS.ud,l=CONSTS.Kp,h=this.$O,d=e.padding,v=a[0],o=a[1],i=u[0],e=u[1],a=d.w,u=d.h,l=d.offsetX-l.buffer,d=d.offsetY;if(n.set([l,d,0,0,v,o,0,s,i,e,c,angle$1,0,l+a,d,0,0,v,o,0,s,i,e,c,angle$1,0,l,u+d,0,0,v,o,0,s,i,e,c,angle$1,0,l+a,d,0,0,v,o,0,s,i,e,c,angle$1,0,l+a,u+d,0,0,v,o,0,s,i,e,c,angle$1,0,l,u+d,0,0,v,o,0,s,i,e,c,angle$1,0],h),this.$O+=6*f,h=this.$O,r=r.text.style.borderWidth){for(var g=[l,d,a,u,v,o,r,i,e,c,angle$1],b=0;b<4;b++)g[11]=b,this.sT(g,n,h),h+=6*f;this.$O=h}},Wxa.prototype.sT=function(t,e,r){var n=(t=void 0===t?{}:t)[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],v=t[11],t=EnumLabelFragType.tq,g=0,b=0,p=0,m=0,y=0,T=0,x=0,w=0;switch(v){case 0:m=b=i-c,y=g=n+0,x=p=n+a,w=T=i+0;break;case 1:p=(g=n+a)+c,m=b=i-c,x=(y=n+a)+c,w=T=i+o+c;break;case 2:y=g=n+0,x=p=n+a,w=T=(m=b=i+o)+c;break;case 3:g=n-c,m=b=i-c,y=(p=n)-c,x=n,w=T=i+o+c}e.set([g,b,0,0,s,u,0,t,f,l,h,d,0,p,m,0,0,s,u,0,t,f,l,h,d,0,y,T,0,0,s,u,0,t,f,l,h,d,0,p,m,0,0,s,u,0,t,f,l,h,d,0,y,T,0,0,s,u,0,t,f,l,h,d,0,x,w,0,0,s,u,0,t,f,l,h,d,0],r)},Wxa.prototype.UO=function(t,e,r,n,i){if(!e||!r)return 0;var a=CONSTS.Mp,o=CONSTS.Rp,s=e.text,u=(r.text||{}).zooms;if(!r.text||!s.origin)return 0;var c=s.origin,f=c[0],s=c[1],i=(c[2],i.height);return this.YO(t,e,r,n.rp,{VO:[f,s],zooms:void 0===u?[a,o]:u,height:i}),i=1,r.text.style.borderWidth&&(i+=4),i},Wxa.prototype.zV=function(t,e,r,n,i,a,o){if(!e||!r)return 0;var s=CONSTS.Mp,u=CONSTS.Rp,c=r,f=e.text.offset,d=void 0===(h=(l=c.text||{}).style)?{}:h,h=void 0===(h=(l.type,l.direction))?"left":h,s=void 0===(l=l.zooms)?[s,u]:l;if(!c.text||!c.text.style)return 0;if(o.length,u=!1===d.fold?100:6,l=this.Mf.lineBreak(c.text.txt,{fontSize:d.fontSize,CO:n.CO,type:n.data&&n.data.BG||"ch",fj:u,from:a.from}),o={direction:h,size:d.fontSize,yO:c.icon.length&&c.icon[0].image},c=(u=(n=e.text).origin)[0],e=u[1],u[2],!r.text||!n.origin)return 0;var u=[c,e],n=a.height,c=EnumLabelFragType.bg,v=CONSTS.ud,g=this.$O,e=u[0],a=u[1],u=s[0],s=s[1],b=i.rp,i=l.maxWidth+6,l=d.fontSize*l.width.length+8,o=this.XV(i,h,o.yO),o=f[0]+o[0]-1,f=f[1]-2;if(b.set([o,f,0,0,e,a,0,c,u,s,n,angle$1,0,o+i,f,0,0,e,a,0,c,u,s,n,angle$1,0,o,l+f,0,0,e,a,0,c,u,s,n,angle$1,0,o+i,f,0,0,e,a,0,c,u,s,n,angle$1,0,o+i,l+f,0,0,e,a,0,c,u,s,n,angle$1,0,o,l+f,0,0,e,a,0,c,u,s,n,angle$1,0],g),this.$O+=6*v,g=this.$O,r=r.text.style.borderWidth){for(var p=[o,f,i,l,e,a,r,u,s,n,angle$1],m=0;m<4;m++)p[11]=m,this.sT(p,b,g),g+=6*v;return this.$O=g,5}return 1},Wxa.prototype.CT=function(t,e){return this.Mf?this.Mf.measureText(t,e):this.NT?(this.NT.font=(e||12)+"px",this.NT.measureText(t.join("")).width):0},Wxa.prototype.XO=function(t,e){var r=CONSTS.JM,r=void 0===(n=(e=void 0===e?{}:e).direction)?r.LEFT:n,n=e.size,e=void 0!==(e=e.yO)&&e,n=this.CT(t=void 0===t?[]:t,void 0===n?DangerousFontSize:n);return this.XV(n,r,e)},Wxa.prototype.XV=function(t,e,r){void 0===r&&(r=!1);var n=0,i=0;switch(e){case(r=CONSTS.JM).LEFT:n=-t,i=0;break;case r.QM:i=n=0;break;case r.ZM:case r.tj:n=-t/2,i=0;break;case r.ij:case r.nj:n=-t/2,i=0;break;default:i=n=0}return[n,i]},Wxa.prototype.JO=function(t,e,r,n){var i,a,o,s,u,c,f,l,h,d,v,g=CONSTS.ud,b=this.$O,p=n.size,m=n.VO,y=n.type,T=void 0===y?EnumLabelFragType.text:y,x=(n.id,n.zooms),w=n.height,A=CONSTS.Kp,M=this.Mf.mz(e);M&&(i=M.index,a=M.pos,o=M.char,s=m[0],u=m[1],c=x[0],f=x[1],o||(console.log("!metric",e,String.fromCharCode(e)),o=this.Mf.mz(32).char),l=p/A.size,h=o[0],d=o[1],o[2],o[3],o[4],v=o[5],y=o[6],n=A.buffer,0<h&&0<d&&(m=+((M=r.x)+((h+=2*n)-n)*l),e=+((x=r.y)+((d+=2*n)+y)*l),A=p=0,v=(p+=a.startX)+v,A=(A+=a.startY)+y,t.set([n=M-n*l,y=+(x+y*l),v,A,s,u,i,T,c,f,w,angle$1,0,m,y,v+h,A,s,u,i,T,c,f,w,angle$1,0,n,e,v,A+d,s,u,i,T,c,f,w,angle$1,0,n,e,v,A+d,s,u,i,T,c,f,w,angle$1,0,m,y,v+h,A,s,u,i,T,c,f,w,angle$1,0,m,e,v+h,A+d,s,u,i,T,c,f,w,angle$1,0],b),this.$O+=6*g),r.x=r.x+(o[0]+CONSTS.ic)*l)},Wxa.prototype.BO=function(t,e,r,n,i,a,o){if(!(e&&r&&r.text&&r.text.txt))return 0;var s=CONSTS.Mp,u=CONSTS.Rp,c=r,l=(f=e.text).origin,h=f.offset,f=void 0===(e=(r=c.text||{}).style)?{}:e,e=void 0===(e=(r.type,r.direction))?"left":e,d=void 0===(r=r.zooms)?[s,u]:r,v=a,r=l[0],a=l[1];if(l[2],!c.text||!c.text.style)return 0;for(var g=v.length,b=g,l=!1===f.fold?100:6,p=((l=this.Mf.lineBreak(c.text.txt,{fontSize:f.fontSize,CO:(n=void 0===n?{}:n).CO,type:n.data&&n.data.BG||"ch",fj:l,from:o.from})).lines.length,l.oQ),m=f.fontSize,y={direction:e,size:m,yO:c.icon.length&&c.icon[0].image},T=[r,a],x={x:0,y:0},w=o.height,A=-1,M=0,S=0;S<g;S++){var P=v[S],I=this.eQ(p,M);M+=P.split("|").length;var $=this.nQ(v,p[I],p[I+1]),$=v.slice.apply(v,$),$=this.XO($,y),$=vector.add(h,$);if(0===I&&0===S&&(x.x=$[0],x.y=$[1]),I&&(x.y=$[1]+(m+3)*I,A!==I)){if("32"===P){b--;continue}x.x=$[0]}A=I,this.JO(i.rp,P,x,{size:m,VO:T,id:t,zooms:d,height:w})}return b},Wxa.prototype.nQ=function(t,e,r){for(var n=0,i=0,a=0,o=t.length,s=0;s<o;s++){for(var u=t[s].split("|").length,c=0;c<u;c++){var f=a+c;f===e&&(n=s),f===r&&(i=s)}a+=u}return[n,i=a<=r?o:i]},Wxa.prototype.eQ=function(t,e){for(var r=(t=void 0===t?[]:t).length,n=0;n<r-1;n++)if(e>=t[n]&&e<t[n+1])return n;return 0},Wxa);function Wxa(t){this.DO={rp:[],pp:[],bd:[],up:0},this.ZO=[],this.options={},this.Gj={},this.Hj={},this.Vj={},this.QO={},this.tI={},this.Fs={},this.$j=0,this.qO={},this.$O=0,this.rI={},this.iO="inner",this._id=Util.stamp(this),this.Mf=t.R_,this.ac=t.z_,this.io=t.canvas,this.NT=t.Nz}var DefaultLabelsLayerOpts={opacity:1,collision:!0,animation:!0},Labels=(bFa.prototype.Ns=function(t,e){var r=(e=void 0===e?{}:e).zoom,n=e.center,i=e.from;return this.nI=t,this.iI=!0,this.iO=i,this.eI.zoom=r||20,this.oI(),this.hu=n,this.uI(e)},bFa.prototype.aO=function(){return this.eI},bFa.prototype.zL=function(t){return this.Wj[t]},bFa.prototype.uI=function(t){var e=this.iO,e={center:this.hu,from:e};if(assign(e,t=void 0===t?{}:t),this.sI.nO(this,e),this.$j=this.sI.$j,t=this.fI.rQ(this,e)){var r={},n={},e=t.Fz||{};delete t.Fz;var i,a,o,s,u,c,f,l=this.Gj;if("inner"!==this.iO)return{Nf:l,style:this.Hj,coords:this.Vj,rp:t,zp:this.zp,Fz:e};for(i in l)l.hasOwnProperty(i)&&(a=l[i],o=this.Vj[i],s=(f=a.data).extData,u=f.position,c=f.name,f=f.rank,r[i]={data:{position:u,name:c,rank:f,extData:{type:s.type,id:s.id,Lp:s.Lp,Ap:s.Ap,bz:s.bz}}},n[i]={origin:o.origin,icon:{anchorOffset:o.icon.anchorOffset,size:o.icon.size},padding:o.padding},a.opts&&(r[i].opts={zooms:a.opts.zooms}));return{Nf:r,style:this.Hj,coords:n,rp:t,zp:this.zp,Fz:e}}},bFa.prototype.oI=function(){for(var t=this.nI,e=this.Gj||{},r=this.Wj,n=this.zp,i=CONSTS.Mp,a=CONSTS.Rp,o=CONSTS.Pp,s=CONSTS.jp,u=0,c=t;u<c.length;u++){var f=c[u],l=f.data.id,h=f.opts&&f.opts.zooms||[],d=void 0===(d=h[0])?i:d,v=void 0===(h=h[1])?a:h,g=isUndefined(r[l])?Util.stamp(this):r[l];l&&(r[l]=g);for(var b=Math.ceil(d-o);b<=v+s;)n[b]||(n[b]=[]),n[b].push(g),b++;e[g]=f,e[g].CO=this.Ws(f),this.hI(f)}if("undefined"!=typeof Uint32Array)for(var p in n)n.hasOwnProperty(p)&&(n[p]=new Uint32Array(n[p]));this.Gj=e},bFa.prototype.hI=function(t){var e=this.Fs;(t=(t=t.opts.icon)&&t.image||"")&&(e[t]=1)},bFa.prototype.Ws=function(t){this.Es;var e=t.data.txt||"",t=(t.opts&&t.opts.text||{}).$G||[],t=labelsUtil.EQ(e,t);return labelsUtil.aQ(t)},bFa);function bFa(t){if(this.CLASS_NAME="AMap.LabelsLayer",this.Gj={},this.Hj={},this.Vj={},this.Fs={},this.Es={},this.Wj={},this.$j=0,this.zp={},this.render=null,this.eI={},this.nI=[],this.cI=!1,this.iI=!1,this.iO="",this.cI=!1,this._opts=assign({},DefaultLabelsLayerOpts,{opacity:t.opacity}),this.Mf=t.R_,this.ac=t.z_,this.PN=t.info||{},!this.Mf||"SDFManagerBase"===this.Mf.CLASS_NAME)try{var e=this.io=document.createElement("canvas"),r=void 0;e&&(r=this.NT=e.getContext("2d")),t.canvas=e,t.Nz=r}catch(t){console.log("canvas 初始化失败")}this.sI=new LabelPlacement(t),this.fI=new LabelBucket(t)}var DynamicVerticeStyle=function(){},DynamicVertice=(lGa.Wb=function(t,e){var r={zo:t.zo,coords:t.coords,Nf:t.Nf,style:t.style};return{JSON:JSON.stringify(r),kV:{rp:serialize(t.rp,e),zp:serialize(t.zp,e)}}},lGa.Gb=function(t){var e=JSON.parse(t.JSON);return t.kV.rp.pp=deserialize(t.kV.rp.pp),e.rp=t.kV.rp,e.zp=t.kV.zp,new lGa(e.zo,e)},lGa.prototype.upload=function(t){this.buffer||(this.buffer=t.fe(this.rp.rp,CONSTS.sp))},lGa.prototype.destroy=function(){this.buffer&&(this.buffer.context.deleteBuffer(this.buffer),delete this.buffer)},lGa);function lGa(t,e){this.zo=t,this.Nf=e.Nf,this.style=e.style,Object.setPrototypeOf(this.style,new DynamicVerticeStyle),this.coords=e.coords,this.rp=e.rp,this.zp=e.zp}register("DynamicVertice",DynamicVertice);var lineclip_1=lineclip;function lineclip(t,e,r){var n,i,a,o,s,u=t.length,c=bitCode(t[0],e),f=[];for(r=r||[],n=1;n<u;n++){for(i=t[n-1],o=s=bitCode(a=t[n],e);;){if(!(c|o)){f.push(i),o!==s?(f.push(a),n<u-1&&(r.push(f),f=[])):n===u-1&&f.push(a);break}if(c&o)break;c?c=bitCode(i=intersect(i,a,c,e),e):o=bitCode(a=intersect(i,a,o,e),e)}c=s}return f.length&&r.push(f),r}function polygonclip(t,e){for(var r,n,i,a,o,s,u=1;u<=8;u*=2){for(r=[],i=!(bitCode(n=t[t.length-1],e)&u),a=0;a<t.length;a++)(s=!(bitCode(o=t[a],e)&u))!==i&&r.push(intersect(n,o,u,e)),s&&r.push(o),n=o,i=s;if(!(t=r).length)break}return r}function intersect(t,e,r,n){return 8&r?[t[0]+(e[0]-t[0])*(n[3]-t[1])/(e[1]-t[1]),n[3]]:4&r?[t[0]+(e[0]-t[0])*(n[1]-t[1])/(e[1]-t[1]),n[1]]:2&r?[n[2],t[1]+(e[1]-t[1])*(n[2]-t[0])/(e[0]-t[0])]:1&r?[n[0],t[1]+(e[1]-t[1])*(n[0]-t[0])/(e[0]-t[0])]:null}function bitCode(t,e){var r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function feature(t,e,r){if(!isObject$1(r=r||{}))throw new Error("options is invalid");var n=r.Ro,i=r.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");return n&&validateBBox(n),i&&validateId(i),r={type:"Feature"},i&&(r.id=i),n&&(r.Ro=n),r.properties=e||{},r.geometry=t,r}function polygon(t,e,r){if(!t)throw new Error("coordinates is required");for(var n=0;n<t.length;n++){var i=t[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++){if(0===n&&0===a&&!isNumber$1(i[0][0])||!isNumber$1(i[0][1]))throw new Error("coordinates must contain numbers");if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}}return feature({type:"Polygon",coordinates:t},e,r)}function lineString(t,e,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!isNumber$1(t[0][1])||!isNumber$1(t[0][1]))throw new Error("coordinates must contain numbers");return feature({type:"LineString",coordinates:t},e,r)}function multiLineString(t,e,r){if(!t)throw new Error("coordinates is required");return feature({type:"MultiLineString",coordinates:t},e,r)}function multiPolygon(t,e,r){if(!t)throw new Error("coordinates is required");return feature({type:"MultiPolygon",coordinates:t},e,r)}function isNumber$1(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function isObject$1(t){return t&&t.constructor===Object}function validateBBox(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!isNumber$1(t))throw new Error("bbox must only contain numbers")})}function validateId(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function getCoords(t){if(!t)throw new Error("coords is required");if("Feature"===t.type&&null!==t.geometry)return t.geometry.coordinates;if(t.coordinates)return t.coordinates;if(Array.isArray(t))return t;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function bboxClip(t,e){var r=getGeom(t),n=getCoords(t),i=t.properties;switch(r){case"LineString":case"MultiLineString":var a=[];return(n="LineString"===r?[n]:n).forEach(function(t){lineclip_1(t,e,a)}),1===a.length?lineString(a[0],i):multiLineString(a,i);case"Polygon":return polygon(clipPolygon(n,e),i);case"MultiPolygon":return multiPolygon(n.map(function(t){return clipPolygon(t,e)}),i);default:throw new Error("geometry "+r+" not supported")}}function clipPolygon(t,e){for(var r=[],n=0;n<t.length;n++){var i=lineclip_1.polygon(t[n],e);0<i.length&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),4<=i.length&&r.push(i))}return r}function getGeom(t){return(t.geometry||t).type}function feature$1(t,e,r){var n={type:"Feature"};return 0!==(r=void 0===r?{}:r).id&&!r.id||(n.id=r.id),r.Ro&&(n.Ro=r.Ro),n.properties=e||{},n.geometry=t,n}function polygon$1(t,e,r){void 0===r&&(r={});for(var n=0,i=t;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}return feature$1({type:"Polygon",coordinates:t},e,r)}lineclip.p8t=lineclip,lineclip.polygon=polygonclip;var DEF_NDS_MAX_COORD=2147483648,DEF_DEGREE_MAX_COORD=180,MKT=20037508.342789244;function tileInnerCoord2LngLat(t,e,r,n){var a=r+(i=getTileSWCoord(t,e))[0],i=n+i[1];return r=a<<(e=getCoordShift(t.z,e)),n=i<<e,[coord2Degree(r=0<a&&r<0?DEF_NDS_MAX_COORD-1:r),coord2Degree(n)]}function LngLat2TileInnerCoord(t,e,r,n,i){var a=degree2Coord(r),o=degree2Coord(n),n=a>>(r=getCoordShift(i.z,e)),r=o>>r;return[n-(e=getTileSWCoord(i,e))[0],r-e[1]]}var cache={};function lnglat2WGSCoord2(t){if(cache[t])return cache[t];var e=33-t,r=degree2Coord(180)/(1<<e),e=degree2Coord(90)/(1<<e),n=0<r?Math.floor(.5+r):Math.floor(r-.5),i=0<e?Math.floor(.5+e):Math.floor(e-.5);return cache[t]=[2*n,2*i],cache[t]}function getWorldSize(t,e){return lnglat2WGSCoord2(t+e)}function getTileSWCoord(t,e){var n=(r=getWorldSize(t.z,e))[0],e=r[1],r=1<<t.z;return[-n/2+t.x*n/r,e/2-(t.y+1)*e/r]}function degree2Coord(t){return Math.floor(t*DEF_NDS_MAX_COORD/DEF_DEGREE_MAX_COORD+.5)}function coord2Degree(t){return t*DEF_DEGREE_MAX_COORD/DEF_NDS_MAX_COORD}function getCoordShift(t,e){return 33-e-t}function getMVTTileBbox(t,e,r,n,i){return[t*(i=void 0===i?256:i)*n-MKT,-((e+1)*i*n-MKT),(t+1)*i*n-MKT,-(e*i*n-MKT)]}var MapboxVTSourceWorker=(SIa.prototype.bw=function(t,e,r,n,i,a){var o=this,s={point:{},line:{},polygon:{},polyhedron:{},label:{}},u=new XMLHttpRequest;return u.onreadystatechange=function(){var t;4!==u.readyState||200!==u.status&&204!==u.status||(s.point=o.AX(i.point),s.line=o.AX(i.line),s.polygon=o.AX(i.polygon),s.polyhedron=o.AX(i.polyhedron),s.label=o.AX(i.label),t=new VectorTile$1(new Pbf(new Uint8Array(u.response))),t=o.Ow(t,{x:e.x,y:e.y,z:e.z,projectionId:r,tileSize:n},s),a(null,exports.Ln({zo:e},t)))},u.responseType="arraybuffer",u.open("GET",t,!0),u.send(),{cancel:function(){u.abort()}}},SIa.prototype.mX=function(t,e,r){var n={point:{},line:{},polygon:{},polyhedron:{},label:{}};n.point=this.AX(e.point),n.line=this.AX(e.line),n.polygon=this.AX(e.polygon),n.polyhedron=this.AX(e.polyhedron),n.label=this.AX(e.label),this.xw(t,n,!0),this.zw(t,n,!0),this.nz(t,n,!0),this.SX(t,n,!0),this.i1(t,n,!0),r&&r(null,t)},SIa.prototype.Ow=function(l,t,e){var r=t.x,n=t.y,i=t.z,a=t.tileSize,o=t.projectionId;l.z=i,l.x=r,l.y=n;var h=ProjectionManager.getProjection(o),t=h.getResolution(i);l.projectionId=o,l.Ro=getMVTTileBbox(r,n,i,t,a),l.zS=lcs.getLocalByCoord([l.Ro[0],l.Ro[1]]),l.visible={point:{},line:{},polygon:{},label:{},polyhedron:{}};var s=ProjectionManager.getProjection(o).getResolution(i);return forIn(l.layers,function(f){var t=f.Cw;f.Ah=[],f.scale=s*a/f.extent;var e=transform[o].Xs(a*r,a*n,i);f.ox=e[0],f.oy=e[1],forEach(t,function(t,e){if((t=f.Gw(e)).Dw(),f.Ah.push(t),t.lines&&0<t.lines.length){t.Rw=[],t.n1=[];for(var r=0,n=t.lines.length;r<n;r++){for(var i=[],a=[],o=0,s=t.lines[r].length;o<s;o++){var u=[f.ox+f.scale*t.lines[r][o][0],f.oy-f.scale*t.lines[r][o][1]],c=[u[0]-l.zS.center[0],u[1]-l.zS.center[1]];a.push(h.unproject(u[0],u[1])),i.push(c)}t.Rw.push(i),t.n1.push(a)}}})}),this.uW(l),this.xw(l,e),this.zw(l,e),this.nz(l,e),this.SX(l,e),this.i1(l,e),l},SIa.prototype.uW=function(t){for(var e in t.polygons={},t.polygonOut={},t.polyhedrons={},t.polylines={},t.points={},t.layers)if(t.layers.hasOwnProperty(e)){for(var r=t.layers[e],n=[],i=[],a=[],o=[],s=[],u=0;u<r.Ah.length;u+=1){var c=r.Ah[u];if(3==+c.type&&c.Rw){for(var f=c.Rw,l=c.n1,h=[],d=this.g8t(c),v=d.w8t,g=d.height,b=0;b<f.length;b++)PlaneGeometryUtilInstance.isClockwise(f[b])?h.push([b]):h.length&&h[h.length-1].push(b);for(var p=0;p<h.length;p++){var m=h[p];if(1<m.length)if(v){for(var y=[],T=[],x=0;x<m.length;x++){var w=l[m[x]];if(P=this.d8t(t,w)){0<x&&y.push(T.length/2);for(var A=[],M=0;M<P.length;M++){var S=P[M];A.unshift(S[0],S[1])}T.push.apply(T,A)}}a.push({_id_:Util.getGuid("amap_"),properties:c.properties,path:T,LQ:y,height:g})}else{for(y=[],T=[],x=0;x<m.length;x++){var P=f[m[x]];for(0<x&&y.push(T.length/2),M=0;M<P.length;M++){var I=P[M];T.push(I[0],I[1])}i.push({properties:c.properties,path:P,_id_:Util.getGuid("amap_")})}n.push({properties:c.properties,path:T,LQ:y})}else if(v){if(T=[],w=l[m[0]],P=this.d8t(t,w)){for(M=0;M<P.length;M++){var $=P[M];T.unshift($[0],$[1])}a.push({_id_:Util.getGuid("amap_"),properties:c.properties,path:T,height:g})}}else{for(T=[],P=f[m[0]],M=0;M<P.length;M++){var C=P[M];T.push(C[0],C[1])}n.push({properties:c.properties,path:T}),i.push({properties:c.properties,path:P,_id_:Util.getGuid("amap_")})}}}else if(2==+c.type&&c.Rw)for(var k=0,N=c.Rw.length;k<N;k++)o.push({properties:c.properties,path:c.Rw[k],_id_:Util.getGuid("amap_")});else if(1==+c.type&&c.Rw)for(l=c.n1,p=0;p<c.Rw.length;p++)s.push({_id_:Util.getGuid("amap_"),properties:c.properties,path:c.Rw[p],lnglat:__spreadArrays(l[0][0])});delete c.n1}t.polygons[e]=n,t.polygonOut[e]=i,t.polyhedrons[e]=a,t.polylines[e]=o,t.points[e]=s}delete t.layers},SIa.prototype.xw=function(t,e,r){if(void 0===r&&(r=!1),!t||!t.$c||r){var n=new VectorTileSegements;t.Uc=n,r||(t.$c=new PolylineBucket);var i=e.line.sourceLayer,a=t.polylines;if(a)for(var o in t.visible.line[i]=[],a)if(!i||i===o)for(var u=a[o],c=0,f=u.length;c<f;c++){var l=u[c],h=this.Mn(e.line,l.properties),d=h.color,v=h.lineWidth,g=h.dash,b=+(h.visible||!h.filter);t.visible.line[i]||(t.visible.line[i]=[]),b&&t.visible.line[i].push(l._id_),d[3]*=b,r?n.add(d+":"+v+":"+g,0,l.a1,0,22):(b=(h=t.$c.g0(l.path,{X_:0,lineJoin:"round",lineCap:"butt"})).Iw,h=h.distance,0<b&&(l.a1=b,n.add(d+":"+v+":"+g,0,b,0,22),l.distance=h))}}},SIa.prototype.zw=function(t,e,r){if(void 0===r&&(r=!1),!t||!t.Dc||r){var n=new VectorTileSegements;t.Oc=n;var i=new VectorTileSegements;t.Fc=i,r||(t.Dc=new PolygonBucket,t.pX=new PolylineBucket);var a=e.polygon.sourceLayer,o=t.polygons;if(o){for(var s in o)if(!a||a===s)for(var u=0,c=(v=o[s]).length;u<c;u++){var f,l=v[u],h=+((g=this.Mn(e.polygon,l.properties)).visible||!g.filter);g.color[3]*=h,r?n.add(g.color+"",0,l.a1,0,22):0<(f=t.Dc.Nx(l.path,l.LQ))&&(l.a1=f,n.add(g.color+"",0,f,0,22))}var d=t.polygonOut;for(s in d)if(!a||a===s)for(var v,u=0,c=(v=d[s]).length;u<c;u++){var g,b,p,m=v[u],h=+((g=this.Mn(e.polygon,m.properties)).visible||!g.filter);t.visible.polygon[a]||(t.visible.polygon[a]=[]),h&&t.visible.polygon[a].push(m._id_),g.borderWidth*=h,r?i.add(g.borderColor+":"+g.dash+":"+g.borderWidth,0,m.a1,0,22):(b=(p=t.pX.g0(m.path,{X_:0,lineJoin:"round",lineCap:"butt"})).Iw,p=p.distance,0<b&&(m.a1=b,i.add(g.borderColor+":"+g.dash+":"+g.borderWidth,0,b,0,22),m.distance=p))}}}},SIa.prototype.nz=function(t,e,r){if(void 0===r&&(r=!1),!t||!t.A_||r){var n=new NebulaSegements;t.w0=n,r||(t.A_=new FillExtrusionBucket);var i=e.polyhedron.sourceLayer,a=t.polyhedrons;if(a)for(var o in t.visible.polyhedron[i]=[],a)if(!i||i===o)for(var u=a[o],c=0,f=u.length;c<f;c++){var l=u[c],h=l.properties,d=this.Mn(e.polyhedron,void 0===h?{}:h),h=+(d.visible||!d.filter);t.visible.polyhedron[i]||(t.visible.polyhedron[i]=[]),h?t.visible.polyhedron[i].push(l._id_):(d.topColor=void 0,d.sideColor=void 0,d.texture=""),r?n.add(l._id_,1e3,l.a1,0,22,d.texture,d.topColor,d.sideColor):0<(h=t.A_.tz(l.path,l.height,l.LQ))&&(l.a1=h,n.add(l._id_,1e3,h,0,22,d.texture,d.topColor,d.sideColor))}}},SIa.prototype.SX=function(t,e,r){if(void 0===r&&(r=!1),!t||!t.dX||r){var n=t.IX,n=new VectorTileSegements;t.IX=n,t.dX=new CircleBucket;var i=e.point.sourceLayer,a=t.points;if(a)for(var o in t.visible.point[i]=[],a)if(!i||i===o)for(var u=a[o],c=0,f=u.length;c<f;c++){var l=u[c],h=this.Mn(e.point,l.properties);t.visible.point[i]||(t.visible.point[i]=[]),t.visible.point[i].push(l._id_),0<(h=t.dX.wb(l.path[0],h))&&n.add("point",0,h,0,22)}}},SIa.prototype.i1=function(t,e,r){if(void 0===r&&(r=!1),!t||!t.labels||r){t.labels=[];var n=e.label.sourceLayer;t.visible.label[n]=[];var i=t.points[n];if(i)for(var a=0,o=i.length;a<o;a++){var s=i[a],c=(u=this.g8t(s)).height,f=u.w8t,u=this.Mn(e.label,s.properties);t.visible.label[n].push(s._id_),t.labels.push(exports.Ln(exports.Ln({},u),{position:f?__spreadArrays(s.lnglat,[c+1]):s.lnglat}))}}},SIa.prototype.Mn=function(t,e){var r,n={visible:!0,filter:!0};for(r in t){var i=t[r];n[r]="style"===r||"icon"===r||"text"===r?this.Mn(i,e):"function"==typeof i?i()(e,t.injection):i,-1<r.toLowerCase().indexOf("color")&&(n[r]=Util.color2RgbaArray(n[r])),"filter"===r&&(n.filter=this.$X(e,i))}return n},SIa.prototype.AX=function(t){var e,r={};for(e in t){var n=t[e];n.indexOf&&-1<n.indexOf("function")?(n=n.replace("function","return function"),r[e]=new Function(n)):r[e]="style"===e||"icon"===e||"text"===e?this.AX(n):n}return r},SIa.prototype.$X=function(t,e){if(!e)return!0;var r=e[0],n=e[1],i=e[2],a=t[r];switch(n){case"in":return-1<i.indexOf(a);case"out":return i.indexOf(a)<0}return!0},SIa.prototype.d8t=function(t,e){var r=t.projectionId,n=t.zS,i=t.Ro,a=ProjectionManager.getProjection(r),o=i[0],t=i[1],r=i[2],i=i[3],i=__spreadArrays(a.unproject(o,t),a.unproject(r,i)),s=null===(i=bboxClip(polygon$1([e]),i).geometry)||void 0===i?void 0:i.coordinates[0];if(!s)return s;for(var u=[],c=0;c<s.length;c++){var f=s[c],f=a.project(f[0],f[1]);u.push([f[0]-n.center[0],f[1]-n.center[1]])}return u},SIa.prototype.g8t=function(t){var e=(t="Y"===(e=t.properties||{})._AS_CUBE&&e._HEIGHT_PROP)?+e[e._HEIGHT_PROP]:0;return{w8t:t,height:e=Number.isNaN(e)||e<0?0:e}},SIa);function SIa(){}var Ring={read:function(t,e){return t.nw(Ring.iw,{path:[]},e)},iw:function(t,e,r){0===t&&r.tw(e.path,!0)},write:function(t,e){if(t.path)for(var r=0;r<t.path.length;r++)e.rw(0,t.path[r])}},Building={read:function(t,e){return t.nw(Building.iw,{minzoom:0,maxzoom:0,path:[],height:0,ew:"",altitude:0},e)},iw:function(t,e,r){0===t?e.minzoom=r.ow():1===t?e.maxzoom=r.ow():2===t?e.path.push(Ring.read(r,r.ow()+r.pos)):3===t?e.height=r.ow():4===t?e.ew=r.aw():5===t&&(e.altitude=r.ow())},write:function(t,e){if(t.minzoom&&e.rw(0,t.minzoom),t.maxzoom&&e.rw(1,t.maxzoom),t.path)for(var r=0;r<t.path.length;r++)e.fw(2,Ring.write,t.path[r]);t.height&&e.rw(3,t.height),t.ew&&e.uw(4,t.ew),t.altitude&&e.rw(5,t.altitude)}},BuildingSameStyle={read:function(t,e){return t.nw(BuildingSameStyle.iw,{mainkey:0,subkey:0,items:[],resolution:0},e)},iw:function(t,e,r){0===t?e.mainkey=r.ow():1===t?e.subkey=r.ow():2===t?e.items.push(Building.read(r,r.ow()+r.pos)):3===t&&(e.resolution=r.ow())},write:function(t,e){if(t.mainkey&&e.rw(0,t.mainkey),t.subkey&&e.rw(1,t.subkey),t.items)for(var r=0;r<t.items.length;r++)e.fw(2,Building.write,t.items[r]);t.resolution&&e.rw(3,t.resolution)}},buildingLayer={read:function(t,e){return t.nw(buildingLayer.iw,{building:[]},e)},iw:function(t,e,r){0===t&&e.building.push(BuildingSameStyle.read(r,r.ow()+r.pos))},write:function(t,e){if(t.building)for(var r=0;r<t.building.length;r++)e.fw(0,BuildingSameStyle.write,t.building[r])}},Poi={read:function(t,e){return t.nw(Poi.IQ,{minzoom:0,maxzoom:0,pos:[],cw:"",ew:"",name:"",rank:0,BQ:"",name_en:"",QQ:"",CQ:"",$G:[],iQ:[],JQ:[]},e)},IQ:function(t,e,r){0===t?e.minzoom=r.ow():1===t?e.maxzoom=r.ow():2===t?r.tw(e.pos,!0):3===t?e.cw=r.aw():4===t?e.ew=r.aw():5===t?e.name=r.aw():6===t?e.rank=r.ow():7===t?e.BQ=r.aw():8===t?e.name_en=r.aw():9===t?e.QQ=r.aw():10===t?e.CQ=r.aw():11===t?r.tw(e.$G):12===t?r.tw(e.iQ):13===t&&r.tw(e.JQ)},write:function(t,e){if(t.minzoom&&e.rw(0,t.minzoom),t.maxzoom&&e.rw(1,t.maxzoom),t.pos)for(var r=0;r<t.pos.length;r++)e.rw(2,t.pos[r]);if(t.cw&&e.uw(3,t.cw),t.ew&&e.uw(4,t.ew),t.name&&e.uw(5,t.name),t.rank&&e.rw(6,t.rank),t.BQ&&e.uw(7,t.BQ),t.name_en&&e.uw(8,t.name_en),t.QQ&&e.uw(9,t.QQ),t.CQ&&e.uw(10,t.CQ),t.$G)for(r=0;r<t.$G.length;r++)e.rw(11,t.$G[r]);if(t.iQ)for(r=0;r<t.iQ.length;r++)e.rw(12,t.iQ[r]);if(t.JQ)for(r=0;r<t.JQ.length;r++)e.rw(13,t.JQ[r])}},PoiSameStyle={read:function(t,e){return t.nw(PoiSameStyle.IQ,{mainkey:0,subkey:0,items:[],resolution:0},e)},IQ:function(t,e,r){0===t?e.mainkey=r.ow():1===t?e.subkey=r.ow():2===t?e.items.push(Poi.read(r,r.ow()+r.pos)):3===t&&(e.resolution=r.ow())},write:function(t,e){if(t.mainkey&&e.rw(0,t.mainkey),t.subkey&&e.rw(1,t.subkey),t.items)for(var r=0;r<t.items.length;r++)e.fw(2,Poi.write,t.items[r]);t.resolution&&e.rw(3,t.resolution)}},PoiLayer={read:function(t,e){return t.nw(PoiLayer.IQ,{poilabel:[]},e)},IQ:function(t,e,r){0===t&&e.poilabel.push(PoiSameStyle.read(r,r.ow()+r.pos))},write:function(t,e){if(t.poilabel)for(var r=0;r<t.poilabel.length;r++)e.fw(0,PoiSameStyle.write,t.poilabel[r])}},Ring$1={read:function(t,e){return t.nw(Ring$1.iw,{path:[]},e)},iw:function(t,e,r){0===t&&r.tw(e.path,!0)},write:function(t,e){if(t.path)for(var r=0;r<t.path.length;r++)e.rw(0,t.path[r])}},Region={read:function(t,e){return t.nw(Region.iw,{minzoom:0,maxzoom:0,path:[],sw:""},e)},iw:function(t,e,r){0===t?e.minzoom=r.ow():1===t?e.maxzoom=r.ow():2===t?e.path.push(Ring$1.read(r,r.ow()+r.pos)):3===t&&(e.sw=r.aw())},write:function(t,e){if(t.minzoom&&e.rw(0,t.minzoom),t.maxzoom&&e.rw(1,t.maxzoom),t.path)for(var r=0;r<t.path.length;r++)e.fw(2,Ring$1.write,t.path[r]);t.sw&&e.uw(3,t.sw)}},RegionSameStyle={read:function(t,e){return t.nw(RegionSameStyle.iw,{mainkey:0,subkey:0,items:[],resolution:0},e)},iw:function(t,e,r){0===t?e.mainkey=r.ow():1===t?e.subkey=r.ow():2===t?e.items.push(Region.read(r,r.ow()+r.pos)):3===t&&(e.resolution=r.ow())},write:function(t,e){if(t.mainkey&&e.rw(0,t.mainkey),t.subkey&&e.rw(1,t.subkey),t.items)for(var r=0;r<t.items.length;r++)e.fw(2,Region.write,t.items[r]);t.resolution&&e.rw(3,t.resolution)}},regionLayer={read:function(t,e){return t.nw(regionLayer.iw,{region:[]},e)},iw:function(t,e,r){0===t&&e.region.push(RegionSameStyle.read(r,r.ow()+r.pos))},write:function(t,e){if(t.region)for(var r=0;r<t.region.length;r++)e.fw(0,RegionSameStyle.write,t.region[r])}},Road={read:function(t,e){return t.nw(Road.iw,{minzoom:0,maxzoom:0,path:[],shield:"",shieldType:0,name:"",rank:0,name_en:"",BQ:"",QQ:"",CQ:"",$G:[],iQ:[]},e)},iw:function(t,e,r){0===t?e.minzoom=r.ow():1===t?e.maxzoom=r.ow():2===t?r.tw(e.path,!0):3===t?e.shield=r.aw():4===t?e.shieldType=r.ow():5===t?e.name=r.aw():6===t?e.rank=r.ow():7===t?e.BQ=r.aw():8===t?e.name_en=r.aw():9===t?e.QQ=r.aw():10===t?e.CQ=r.aw():11===t?r.tw(e.$G):12===t&&(e.id=r.ow())},write:function(t,e){if(t.minzoom&&e.rw(0,t.minzoom),t.maxzoom&&e.rw(1,t.maxzoom),t.path)for(var r=0;r<t.path.length;r++)e.rw(2,t.path[r]);if(t.shield&&e.uw(3,t.shield),t.shieldType&&e.rw(4,t.shieldType),t.name&&e.uw(5,t.name),t.rank&&e.rw(6,t.rank),t.BQ&&e.uw(7,t.BQ),t.name_en&&e.uw(8,t.name_en),t.QQ&&e.uw(9,t.QQ),t.CQ&&e.uw(10,t.CQ),t.$G)for(r=0;r<t.$G.length;r++)e.rw(11,t.$G[r]);t.id&&e.rw(12,t.id)}},RoadSameStyle={read:function(t,e){return t.nw(RoadSameStyle.iw,{mainkey:0,subkey:0,items:[],resolution:0},e)},iw:function(t,e,r,n){0===t?e.mainkey=r.ow():1===t?e.subkey=r.ow():2===t?e.items.push(Road.read(r,r.ow()+r.pos)):3===t&&(e.resolution=r.ow())},write:function(t,e){if(t.mainkey&&e.rw(0,t.mainkey),t.subkey&&e.rw(1,t.subkey),t.items)for(var r=0;r<t.items.length;r++)e.fw(2,Road.write,t.items[r]);t.resolution&&e.rw(3,t.resolution)}},roadLayer={read:function(t,e){return t.nw(roadLayer.iw,{road:[]},e)},iw:function(t,e,r,n){0===t&&e.road.push(RoadSameStyle.read(r,r.ow()+r.pos))},write:function(t,e){if(t.road)for(var r=0;r<t.road.length;r++)e.fw(0,RoadSameStyle.write,t.road[r])}},roadNameLayer={read:function(t,e){return t.nw(roadNameLayer.iw,{roadName:[]},e)},iw:function(t,e,r,n){0===t&&e.roadName.push(RoadSameStyle.read(r,r.ow()+r.pos))},write:function(t,e){if(t.roadName)for(var r=0;r<t.road.length;r++)e.fw(0,RoadSameStyle.write,t.roadName[r])}},Result={read:function(t,e){return t.nw(Result.IQ,{tiles:[],version:"",status:!1,db:""},e)},IQ:function(t,e,r){0===t?e.tiles.push(Result.Gh.read(r,r.ow()+r.pos)):1===t?e.version=r.aw():2===t?e.status=r.vw():3===t&&(e.db=r.aw())},write:function(t,e){if(t.tiles)for(var r=0;r<t.tiles.length;r++)e.fw(0,Result.Gh.write,t.tiles[r]);t.version&&e.uw(1,t.version),t.status&&e.hw(2,t.status),t.db&&e.uw(3,t.db)},Gh:{}};Result.Gh.read=function(t,e){return t.nw(Result.Gh.IQ,{z:0,x:0,y:0,layers:[],t:0},e)},Result.Gh.IQ=function(t,e,r){0===t?e.z=r.ow():1===t?e.x=r.ow():2===t?e.y=r.ow():3===t?e.layers.push(Result.Gh.lw.read(r,r.ow()+r.pos)):4===t&&(e.t=r.ow())},Result.Gh.write=function(t,e){if(t.z&&e.rw(0,t.z),t.x&&e.rw(1,t.x),t.y&&e.rw(2,t.y),t.layers)for(var r=0;r<t.layers.length;r++)e.fw(3,Result.Gh.lw.write,t.layers[r]);t.t&&e.rw(4,t.t)},Result.Gh.lw={},Result.Gh.lw.read=function(t,e){return t.nw(Result.Gh.lw.IQ,{z:0,x:0,y:0,type:0,d:null,t:0},e)},Result.Gh.lw.IQ=function(t,e,r){0===t?e.z=r.ow():1===t?e.x=r.ow():2===t?e.y=r.ow():3===t?e.type=r.ow():4===t?e.d=r.mw():5===t&&(e.t=r.ow())},Result.Gh.lw.write=function(t,e){t.z&&e.rw(0,t.z),t.x&&e.rw(1,t.x),t.y&&e.rw(2,t.y),t.type&&e.rw(3,t.type),t.d&&e.ww(4,t.d),t.t&&e.rw(5,t.t)};var Style={read:function(t,e){return t.nw(Style.IQ,{bgColor:"",zn:0,xV:"",stylemaps:[],test:0},e)},IQ:function(t,e,r){1===t?e.bgColor=r.aw():2===t?e.zn=r.ow(!0):3===t?e.xV=r.aw():4===t?e.stylemaps.push(Style.SV.read(r,r.ow()+r.pos)):5===t&&(e.test=r.ow(!0))},write:function(t,e){if(t.bgColor&&e.uw(1,t.bgColor),t.zn&&e.rw(2,t.zn),t.xV&&e.uw(3,t.xV),t.stylemaps)for(var r=0;r<t.stylemaps.length;r++)e.fw(4,Style.SV.write,t.stylemaps[r]);t.test&&e.rw(5,t.test)},SV:{}};Style.SV.read=function(t,e){return t.nw(Style.SV.IQ,{key:[],browserStyle:[],levelStyleMapping:[]},e)},Style.SV.IQ=function(t,e,r){1===t?e.key.push(r.aw()):2===t?e.browserStyle.push(r.aw()):3===t&&r.tw(e.levelStyleMapping,!0)},Style.SV.write=function(t,e){if(t.key)for(var r=0;r<t.key.length;r++)e.uw(1,t.key[r]);if(t.browserStyle)for(r=0;r<t.browserStyle.length;r++)e.uw(2,t.browserStyle[r]);if(t.levelStyleMapping)for(r=0;r<t.levelStyleMapping.length;r++)e.rw(3,t.levelStyleMapping[r])};var decodeStyle=function(t){return t=new Pbf(t),Style.read(t)},decodePois=function(t){return t=new Pbf(t),PoiLayer.read(t)},decodeRoads=function(t){return t=new Pbf(t),roadLayer.read(t)},decodeRoadNames=function(t){return t=new Pbf(t),roadNameLayer.read(t)},decodeRegions=function(t){return t=new Pbf(t),regionLayer.read(t)},decodeBuildings=function(t){return t=new Pbf(t),buildingLayer.read(t)},decodeTiles=function(t){for(var t=new Pbf(t),e=(t=Result.read(t)).tiles,r=0,n=e.length;r<n;r+=1)for(var i=e[r].layers,a=0,o=i.length;a<o;a+=1)switch(i[a].type){case 0:i[a].d=decodePois(i[a].d);break;case 1:i[a].d=decodeRoads(i[a].d);break;case 2:i[a].d=decodeRegions(i[a].d);break;case 3:i[a].d=decodeBuildings(i[a].d);break;case 4:i[a].d=decodeRoadNames(i[a].d)}return t},CONSTS$2={_U:["th","my"]},SDFManagerBase=(ZPa=Event,__extends($Pa,ZPa),$Pa.jU=function(t){return t=LangManager.gG(t+""),-1!==CONSTS$2._U.indexOf(t)},$Pa.prototype.FU=function(t){for(var e=[],r=0,n=t;r<n.length;r++){var i=n[r];LangManager.gG(i+""),e.push(i)}return{UU:e,DU:[]}},$Pa.prototype.measureText=function(t,e,r){if(r){r.font=(e||12)+"px";for(var n="",i=0,a=t;i<a.length;i++){var o=a[i];n+=String.fromCharCode(o)}return r.measureText(n).width}return 0},$Pa.prototype.lineBreak=function(t,e){var n=void 0===(r=(e=void 0===e?{}:e).fontSize)?12:r,i=e.maxWidth,a=e.CO,o=e.fj,r=void 0===o?6:o,s=void 0===(o=e.type)?"en":o,u=e.YQ,c=(t=void 0===t?"":t).split(" "),f=[],i=i||90,l=0,h=[],d=[],v=[0];if("labelsLayer"===e.from){for(var g=t.length,b=Math.ceil(g/r),p=Math.ceil(g/b),m=void 0,y=0,T=0;T<b;T++){h[T]||(h[T]=[y]),0===T?m=a.slice(0,y=g%p||p):(m=a.slice(y,y+p),y+=p);var x=this.measureText(m,n,u);d.push(x),h[T].push(y)}for(T=0;T<h.length;T++){var w=h[T];v.push(w[w.length-1])}}else if("ch"===s)for(T=y=0;T<c.length;T++){for(var w=c[T],m=[],A=0;A<w.length;A++)m.push(w.charCodeAt(A));x=this.measureText(m,n,u),d.push(x),h.push([y,y+w.length+1]),y+=w.length+1,v.push(y)}else{for(T=0;T<c.length;T++){var M=c[T],m=[];if("en"===s)for(var S=0;S<M.length;S++)m.push(M.charCodeAt(S));else{var P=-1===(P=a.indexOf("32",l))?a.length:P;m=a.slice(l,P),l=P+1}x=this.measureText(m,n,u),f.push(x)}for(r=Math.max.apply(Math,f),h=(i=this.GU(f,i<r?r:i)).lines,d=i.BU,T=0;T<h.length;T++){var w=h[T],I=c.slice(w[0],w[w.length-1]+1).join(" "),$=t.indexOf(I),I=I.length-1;v.push($+I+1)}}return{lines:h,oQ:v,width:d,maxWidth:Math.max.apply(Math,d)}},$Pa.prototype.GU=function(t,e){for(var r=[],n=0,i=0,a=[],o=0,s=t.length,u=0;u<s;u++){var c=t[u];i+=c,r[n]||(r[n]=[]),e<i&&(r[++n]=[],a.push(o),o=i=0),r[n].push(u),o+=c,u===s-1&&a.push(o)}return{lines:r,BU:a}},$Pa.prototype.destroy=function(){},$Pa),ZPa,LoadFlag,jRa,kRa;function $Pa(){var t=ZPa.call(this)||this;return t.CLASS_NAME="SDFManagerBase",t}jRa=LoadFlag=LoadFlag||{},jRa.TEXTUREFINISH="TEXTUREFINISH",jRa.UNLOAD="unload",jRa.LOADING="loading",jRa.LOADED="loaded",jRa.FAIL="fail",kRa=exports.qu||(exports.qu={}),kRa.AllLoaded="AllLoaded",kRa.AllUnLoaded="AllUnLoaded",kRa.SomeLoading="SomeLoading",kRa.AllLoading="AllLoading";var SDFManagerWorker=(lRa=SDFManagerBase,__extends(mRa,lRa),mRa.prototype.vW=function(t,e){var n=void 0===(r=e.tiles)?[]:r,i=e.cb,a=e.optimalZoom,r=void 0===(r=e.tags)?[]:r,o=e.stamp;this.cN=a,this.fN[o]||(this.fN[o]=r);for(var s=0;s<n.length;s++){var u=n[s],c=this.Zu(t);e.result=c,this.loadData(t,{tile:u,result:c,cb:i,optimalZoom:a,stamp:o,i:s})}},mRa.prototype.loadData=function(t,e){var r=this,n=e.cb,i=e.tile,a=e.result,o=(e.optimalZoom,e.stamp),s=e.i,u=a||this.Zu(t);switch(u.status){case exports.qu.AllLoaded:n([]);break;case exports.qu.AllUnLoaded:var c=this.Yu(n,{tile:i,stamp:o,index:s});this.MI(u.Vu,function(t){r.Xu[c]=t=void 0===t?{}:t,r.Hu()});break;case exports.qu.SomeLoading:var f=this.Yu(n,{tile:i,stamp:o,index:s});this.MI(u.Vu,function(t){r.Xu[f]=t=void 0===t?{}:t,r.Hu()});break;case exports.qu.AllLoading:var l=this.Yu(n,{tile:i,stamp:o,index:s});this.Xu[l]=[],this.Hu()}},mRa.prototype.mz=function(t){var e=this.info||{};return e[t]&&(e=e[t]).pos&&e.info[t]?{key:t,index:exports.cY.dynamic,char:e.info[t],pos:e.pos}:null},mRa.prototype.measureText=function(t,e){for(var r=CONSTS.ic,n=0,i=this.info,a=e/this._size,o=this.nc,s=0,u=t;s<u.length;s++){var c=u[s],f=void 0,l=c;(f=o.get(l))||!i.hasOwnProperty(l)||(l=i[l].info[l])&&this.nc.set(c,f=l[4]),n+=(f+r)*a}return n},mRa.prototype.Ju=function(t){for(var e={},r=0,n=t;r<n.length;r++){var i=n[r],a=i.range,o=i.info,s=i.pos;(i=this.info)[a],i[a]={info:((i={})[a]=o,i),pos:s},this.range.push(a),e[a]=1}return e},mRa.prototype.AI=function(t,e){this.info[t]&&(this.info[t].pos=e)},mRa.prototype.MI=function(e,r){var n=this;void 0===e&&(e=[]);for(var t=CONSTS.Mj,i=0,a=e;i<a.length;i++){var o=a[i];this._c[o]=!0}for(var s=[],u=0,c=this.FU(e),f=c.UU,l=c.DU,h=l.length,d=Math.ceil(h/CONSTS.Mj);u<d;){var v=t*u,v=l.slice(v,h<v+t?h:v+t),v=this.xI(v);s.push(v),u++}s.push(this.pG(f)),Promise.all(s).then(function(t){n.II(e),t=n.zU(t),n.Ju(t),r(t)})},mRa.prototype.pG=function(t){var r=this;return new Promise(function(e){r._parent.loadWordsByFront({Es:t,cb:function(t){e(t)}})})},mRa.prototype.xI=function(t){var a=this,e=this.fc()+("/getsdfdata?chars="+t.join(",").split(",").join("|"));return new Promise(function(n,i){XHR.send(e,{Me:"json",method:"get",qw:function(t){var e,r;t&&t.info?(e=a.vc(t.info),r=new ImageDataWraper(e,t.url),t.url=r,n({range:e,info:t})):i(null)},error:function(){i(null)}})})},mRa.prototype.fc=function(){var t=CONSTS.pc,e=this.protocol+t[this.dc];return this.dc=(this.dc+1)%t.length,e},mRa.prototype.vc=function(t){void 0===t&&(t={});var e=map(Object.keys(t),function(t){return parseInt(t,10)});return e.sort(function(t,e){return t-e}),e=2<=(t=e.length)?e[0]+"-"+e[t-1]:1===t?""+e[0]:""},mRa.prototype.gc=function(t){var e=this.range||[],r=this.info||{};if(-1!==e.indexOf(t))return!0;for(var n=parseInt(t,10),i=0,a=e;i<a.length;i++){var o=a[i];if(o.indexOf("-")<0){if(n===+o&&(r[o]&&r[o].info||{})[t])return!0}else{var s=o.split("-"),u=parseInt(s[0]||"",10),s=parseInt(s[1]||"",10);if(u<=n&&n<=s&&(r[o]&&r[o].info||{})[t])return!0}}return!1},mRa.prototype.wc=function(t){return this._c[t]},mRa.prototype.Zu=function(t){for(var e=[],r=0,n=0,i=0,a=t;i<a.length;i++){var o=a[i];this.gc(o)||(this.wc(o)?n+=1:(r+=1,e.push(o)))}return 0===n&&0===r?{status:exports.qu.AllLoaded,Vu:e}:0<r&&0===n?{status:exports.qu.AllUnLoaded,Vu:e}:0===r&&0<n?{status:exports.qu.AllLoading,Vu:e}:{status:exports.qu.SomeLoading,Vu:e}},mRa.prototype.Yu=function(t,e){void 0===e&&(e={});var r=this.yc+=1;return this.xc.push(r),this.bc[r]=t,this.bc[r]={cb:t,params:e},r},mRa.prototype.Hu=function(){var t,e,r=this.xc[0];!r||(t=this.Xu[r])&&(this.xc.shift(),(e=this.bc[r])?e.cb(t):console.error("sdf task error"),delete this.Xu[r],delete this.bc[r],this.Hu())},mRa.prototype.II=function(t){for(var e=0,r=t;e<r.length;e++){var n=r[e];delete this._c[n]}},mRa.prototype.zU=function(t){for(var e=[],r=0,n=t=void 0===t?[]:t;r<n.length;r++){var i=n[r];if(Array.isArray(i))for(var a=0,o=i;a<o.length;a++){var s=o[a];e.push(s)}else e.push(i)}return e},mRa),lRa,RTa;function mRa(t){var e=lRa.call(this)||this;return e.CLASS_NAME="SDFManagerWorker",e.protocol="https",e.range=[],e.info={},e.dc=0,e._c={},e._size=24,e.nc=new AdaptorMap,e.xc=[],e.bc={},e.Xu={},e.yc=1,e.fN={},e.ac=t.z_,e._parent=t.parent,e}RTa=exports.vY||(exports.vY={}),RTa[RTa.stop=0]="stop",RTa[RTa.finish=1]="finish",RTa[RTa.pause=2]="pause";var TaskManager=(STa=Event,__extends(TTa,STa),TTa.prototype.register=function(t,e,r){if(this.CV[t])throw Error("TaskManager: Exist Task Creator");this.CV[t]={PV:e,OV:r}},TTa.prototype.add=function(t,e){if(!this.CV[t])throw Error("TaskManager: Not Exist Task Type");var r=this.CV[t],t=this.id++,e=r.PV(e);return this.LV.push({UQ:e,OV:{id:t,kY:r.OV.kY}}),t},TTa.prototype.XQ=function(t,e,r){void 0===e&&(e={kY:1/0}),void 0===r&&(r=!1);var n=this.id++;return r?this.LV.unshift({UQ:t,OV:{id:this.id++,kY:e.kY}}):this.LV.push({UQ:t,OV:{id:this.id++,kY:e.kY}}),n},TTa.prototype.exec=function(t){this.jV();for(var e=t,r=Date.now();0<e;){var n=this.LV.shift();if(!n)break;var i=n.UQ.play(e);n.UQ.status===exports.vY.finish?this.emit("task:"+n.OV.id,{data:i}):this.LV.unshift(n),e=t-(Date.now()-r),0===this.LV.length&&this.emit("taskclear",!0)}},TTa.prototype.xY=function(){return 0<this.LV.length},TTa.prototype.destroy=function(){this.LV=[]},TTa.prototype.clear=function(e){this.LV=e?this.LV.filter(function(t){return t.UQ.type===e}):[]},TTa.prototype.jV=function(){this.LV.sort(function(t,e){return t.OV.kY-e.OV.kY})},TTa),STa;function TTa(){var t=null!==STa&&STa.apply(this,arguments)||this;return t.id=0,t.LV=[],t._V={},t.CV={},t}var Actor=(oUa.prototype.send=function(t,e,r,n){var i=this,a=r?this.dI+":"+this.bI:null;this.bI+=2,r&&a&&(this.pI[a]=r);var o=[],s=serialize(e,o);if(this.target.postMessage({yI:n,mI:this.dI,type:t,id:String(a),data:s},o),r)return{cancel:function(){i.target.postMessage({yI:n,mI:i.dI,type:"<cancel>",id:String(a),key:e.ya}),a&&delete i.pI[a]}}},oUa.prototype.gI=function(t){var n=this;Browser.DW&&"destroy"===t.data.type&&self.close();var i,e,a=(t=t.data).id;t.yI&&this.dI!==t.yI||("<cancel>"===t.type?(e=this.pI[t.id],delete this.pI[t.id],e&&e("<cancel>")):"<response>"===t.type?(e=this.pI[t.id],delete this.pI[t.id],e&&t.error?e(deserialize(t.error)):e&&e(null,deserialize(t.data))):void 0!==t.id&&this.parent[t.type]&&(i=function(t,e){delete n.pI[a];var r=[],e=serialize(e,r);n.target.postMessage({mI:n.dI,type:"<response>",id:String(a),error:t?serialize(t):null,data:e},r),i=void 0},this.pI[t.id]=null,(e=this.parent[t.type](t.mI,deserialize(t.data),i))&&null===this.pI[t.id]&&(this.pI[t.id]=e.cancel)))},oUa.prototype.remove=function(){this.target.removeEventListener("message",this.gI,!1)},oUa);function oUa(t,e,r){this.UD=!1,this.gI=this.gI.bind(this),this.target=t,this.parent=e,this.dI=r,this.pI={},this.bI=Browser.DW?1:0,this.target.addEventListener("message",this.gI,!1)}var TaskPool=(MUa.prototype.nS=function(r,t){var n=this;return this.SN[r]=!0,this.listener[r]||(this.listener[r]=[]),t(function(t,e){n.$N(r,t,e)})},MUa.prototype.cancel=function(t){delete this.SN[t]},MUa.prototype.has=function(t){return Boolean(this.SN[t])},MUa.prototype.GN=function(t){return this.listener[t]&&0<this.listener[t].length},MUa.prototype.SH=function(t,e){this.listener[t]||(this.listener[t]=[]),this.listener[t].push(e)},MUa.prototype.kN=function(t,e){!this.listener[t]||-1<(e=this.listener[t].indexOf(e))&&this.listener[t].splice(e,1)},MUa.prototype.$N=function(t,e,r){delete this.SN[t];var n=this.listener[t];if(delete this.listener[t],n)for(var i=0,a=n;i<a.length;i++)(0,a[i])(e,r)},MUa);function MUa(){this.listener={},this.SN={}}var StaticSDFManagerWorker=(fVa.prototype.loadData=function(t,o,r){var s=this,u=staticSDFTileKeyToKey(t);if(!u)return console.log("!key"),r(null,[void 0,null]),{cancel:noop$1};var c=this.fc(),f=c+u+".json",l=c+u+(o.mH?".webp":".png"),n=this.parent.protocol;if(void 0!==this._N[u]&&void 0!==this.NN[u])return r(null,[this._N[u],this.NN[u]]),{cancel:noop$1};function h(t,e){e&&(e.protocol=n),r(t,e)}var e=this.LN.has(u);return this.LN.SH(u,h),e?{cancel:function(){s.NW(t)}}:this.LN.nS(u,function(r){function n(t,e){r(null,e)}var i=0,a=[],t=s.ON(f,function(t,e){t?"404"!==t?(console.log(t),n(0,null)):(a[0]=e?{}:null,s._N[u]=a[0],2==++i&&n(0,a)):(a[0]=e,s._N[u]=e,2==++i&&n(0,a))}),e=s.IN(l,function(t,e){if(t||!e)"404"!==t?(console.log(t),n(0,e)):(a[1]=null,s.NN[u]=a[1],2==++i&&n(0,a));else if(!e||e.byteLength<128)a[1]=null,s.NN[u]=a[1],2==++i&&n(0,a);else if(o.imageBitmap)ImageDataWraper.AV(e).then(function(t){return"success"!==(t=new ImageDataWraper(l,t,{imageBitmap:!0})).status?(console.log("createObjectURL fail"),void r("createObjectURL fail",null)):(a[1]=t,s.NN[u]=t,void(2==++i&&n(0,a)))});else{if("success"!==(e=new ImageDataWraper(c,e)).status)return console.log("createObjectURL fail"),void n(0,null);a[1]=e,s.NN[u]=e,2==++i&&n(0,a)}});return"lesszoom10"!==u?{cancel:function(){s.LN.kN(u,h),s.LN.GN(u)||(t.abort(),e.abort(),s.LN.cancel(u)),h("cancel",null)}}:{cancel:function(){s.LN.kN(u,h),h("cancel",null)}}})},fVa.prototype.NW=function(t){var e=this.NN[t];e&&e.destroy(),delete this.NN[t],delete this._N[t]},fVa.prototype.zW=function(t){this._N={},this.NN={},this.jN=["://glyph.amap.com/sdf"+t+"/","://glyph01.amap.com/sdf"+t+"/","://glyph02.amap.com/sdf"+t+"/","://glyph03.amap.com/sdf"+t+"/","://glyph04.amap.com/sdf"+t+"/"]},fVa.prototype.ON=function(t,e){return this.CN.send(t,{Me:"json",method:"get",qw:function(t){e(null,t||null)},Aw:function(t){e(t&&t.message||"unknown error")}})},fVa.prototype.IN=function(t,e){return this.CN.send(t,{Me:"arraybuffer",method:"get",qw:function(t){t?e(null,t):e("empty data",null)},Aw:function(t){e(t&&t.message||"unknown error")}})},fVa.prototype.fc=function(){this.EN=this.EN%this.jN.length;var t=this.parent.protocol+this.jN[this.EN];return this.EN++,t},fVa);function fVa(t,e){this.parent=t,this.CN=e,this.jN=[],this.EN=0,this._N={},this.NN={},this.LN=new TaskPool,this.zW(this.parent.GW.db),this.parent.Uh.send("updateDataVersion",this.parent.GW.nebulaVersion)}var emptyObj={},SDFStaticTextureCache=($Va.prototype.xH=function(t,e){void 0===e&&(e=!1);var r=staticSDFTileKeyToKey(t),n=this.RN[r];if(e){if(!n)return;n.indexOf(t)<0&&n.push(t)}return this.DN.getImage(r)},$Va.prototype.LB=function(t){return t=staticSDFTileKeyToKey(t),this.XN[t]||emptyObj},$Va.prototype.bH=function(n,i,a,o){var t,s=this,u=staticSDFTileKeyToKey(n);i.type===ImageDataWraperType.bitmap?i.IV?(t=this.DN.getImage(i.hash),o(null,t)):this.DN.addImageBitmap(i.data,{url:u,cb:function(t,e){var r;t||(i.destroy(),s.RN[u]||(s.RN[u]=[],s.XN[u]=a),(r=s.RN[u]).indexOf(n)<0&&r.push(n)),o(t,e)}}):this.DN.addImage(u,{url:i.data,cb:function(t,e){var r;t||(s.RN[u]||(s.RN[u]=[],s.XN[u]=a),(r=s.RN[u]).indexOf(n)<0&&r.push(n)),o(t,e)}})},$Va.prototype.kH=function(t){var e=staticSDFTileKeyToKey(t),r=this.RN[e];r?(0<=(t=r.indexOf(t))&&r.splice(t,1),0===r.length&&(this.DN.RH(e),this.UN.deleteTileStaticSDF(e),delete this.RN[e],delete this.XN[e])):delete this.XN[e]},$Va);function $Va(t,e,r){this.parent=t,this.DN=e,this.UN=r,this.RN={},this.XN={}}var RenderThread=(AWa.prototype.Yf=function(){this.Yv||(0<this.Jv&&this.Kv?(this.render(),this.Qv=Util.requestAnimFrame(this.Yf.bind(this))):(this.Jv<=0||!this.Kv)&&(this.Kv=!1,Util.cancelAnimFrame(this.Qv),this.Qv=0,this.Qv||this.check()&&(this.render(),this.setNeedUpdate(!0))),this.Jv--)},AWa.prototype.setNeedUpdate=function(t){this.Jv=5,t&&!this.Kv&&(this.Kv=t,Util.cancelAnimFrame(this.Qv),this.Qv=0,this.to()),this.Kv=t},AWa.prototype.to=function(){this.Qv||(this.Qv=Util.requestAnimFrame(this.Yf.bind(this)))},AWa.prototype.destroy=function(){this.Yv=!0},AWa);function AWa(t){this.Jv=5,this.Qv=0,this.Yv=!1,this.render=t.render,this.check=t.check}Uint8Array.prototype.fill||(Uint8Array.prototype.fill=Array.prototype.fill),Float32Array.prototype.slice||Object.defineProperty(Float32Array.prototype,"slice",{value:function(t,e){return new Float32Array(Array.prototype.slice.call(this,t,e))}}),Float64Array.prototype.slice||Object.defineProperty(Float64Array.prototype,"slice",{value:function(t,e){return new Float64Array(Array.prototype.slice.call(this,t,e))}}),exports.Ge=AMapStyleSource,exports.Bh=Actor,exports.OZ=AdaptorMap,exports.bb=BezierUtil,exports.tc=CONSTS,exports._n=Color,exports.ZQ=ComputeTileRange,exports.hL=Coordinate,exports.PY=DangerousFontSize,exports.La=DynamicVertice,exports.Event=Event,exports.iz=FillExtrusionBucket,exports.GeometryUtil=GeometryUtil,exports.rW=GeometryUtilCls,exports.x_=HALF_WORLD_SIZE,exports.WQ=ImageDataWraper,exports.pZ=InnerClass,exports.eG=Labels,exports.LabelsRenderUtil=LabelsRenderUtil,exports.bG=LangManager,exports.LngLat=LngLat$2,exports.ZY=LngLat2TileInnerCoord,exports.za=LocalTileZoom,exports.Ra=LocalZoom,exports.MapboxLabelFormat=MapboxLabelFormat,exports.fQ=MapboxSegements,exports.bX=MapboxVTSourceWorker,exports.Module=Module,exports.NebulaLabelFormat=NebulaLabelFormat,exports._w=NebulaSegements,exports.pa=NebulaTile,exports.wa=NebulaTileCoord,exports.pw=Pbf,exports.Pixel=Pixel,exports.PlaneGeometryUtil=PlaneGeometryUtil,exports.kS=PlaneGeometryUtilInstance,exports.K_=PolygonBucket,exports.oE=PolygonSegements,exports.J_=PolylineBucket,exports.ProjectionManager=ProjectionManager,exports.tS=Queue,exports.Vs=RasterTile,exports.wY=RenderThread,exports.vG=SDFManagerBase,exports.jb=SDFManagerWorker,exports.LH=SDFStaticTextureCache,exports.e0=SimpleCircleBucket,exports.Size=Size,exports.yp=SmartArrayBuffer,exports.xW=StaticSDFManagerWorker,exports.StyleParser=StyleParser,exports.Support=Browser,exports.vH=Task,exports.MY=TaskManager,exports.IH=TaskPool,exports.Gh=Tile,exports.ca=TileCoord,exports.V=transform,exports.Util=Util,exports.Sw=VectorTile,exports.tW=VectorTile$1,exports.LW=VectorTileSegements,exports.Yw=XHR,exports.dZ=__decorate,exports.Ei=__extends,exports.Pt=__spreadArrays,exports.assign=assign,exports.jw=calcTileMectorBounds,exports.clone=clone,exports.Ex=clone$1,exports.yn=cloneDeep,exports.create=create$3,exports.Il=create,exports.Dl=create$1,exports.Zl=create$2,exports.CZ=decodeStyle,exports.KQ=decodeTiles,exports.equals=equals$1,exports.Ru=equals,exports.every=every,exports.extend=extend,exports.filter=filter,exports.find=find,exports.findIndex=findIndex,exports.forEach=forEach,exports.vx=forIn,exports.Bu=fromValues$2,exports.xd=fromValues$3,exports.$Q=getMVTTileBbox,exports.vZ=getOutseaData,exports.Ol=getTranslation,exports.Ul=invert,exports.VB=isBezierCurve,exports.xs=isBounds,exports.sB=isCircleMarker,exports.isEmpty=isEmpty,exports.isEqual=isEqual,exports.isFunction=isFunction,exports.qG=isInnerLabelsLayer,exports.px=isLayer,exports.Bs=isLngLat,exports.iL=isLnglatLikeArray,exports.eL=isLnglatLikeArrayArray,exports.yL=isLnglatLikeArrayArrayArray,exports.vB=isNumber,exports.ys=isNumberArrayArray,exports.Ox=isNumberArrayArrayArray,exports.tL=isNumberArrayArrayArrayArray,exports.er=isOverlay,exports.RF=isOverlayGroup,exports.oy=isPixel,exports.GB=isPolyline,exports.ay=isSize,exports.FF=isVectorLayer,exports.jsonLngLatData=jsonLngLatData,exports.keys=keys,exports.labelsUtil=labelsUtil,exports.lcs=lcs,exports.lookAt=lookAt,exports.map=map,exports.multiply=multiply,exports.ou=ortho,exports.parseLngLatData=parseLngLatData,exports.perspective=perspective,exports.rbush=_rbush_2_0_2_rbush,exports.scale=scale$1,exports.set=set$1,exports.Pl=set,exports.some=some,exports.XY=tileInnerCoord2LngLat,exports.Gu=transformMat4,exports.vector=vector,exports.zoomRange=zoomRange}),define(["./shared"],function(polyfill){var _a,geoUtil=new polyfill.rW({}),LabelFormatMap=(_a={},_a[polyfill.NebulaLabelFormat.id]=polyfill.NebulaLabelFormat,_a.nebula=polyfill.NebulaLabelFormat,_a[polyfill.MapboxLabelFormat.id]=polyfill.MapboxLabelFormat,_a),NebulaSourceWorker=(a=polyfill.Event,polyfill.Ei(b,a),b.prototype.bind=function(){var c=this;this.on("styleReady",function(){var A=c.xQ.length;if(0<A){for(var i=0;i<A;i++){var g=(l=c.xQ[i]).data,I=l.projectionId,t=l.zoom,B=l.viewMode,Q=l.showBuildingBlock,C=l.mS,e=l.optimalZoom,o=l.ZL,E=l.cb,h=l.url;c.pQ(g,I,t,B,Q,C,e,o,E,h)}c.xQ=[]}var a=c.bQ.length;if(0<a){for(i=0;i<a;i++){var l,n=(l=c.bQ[i]).CD,r=l.cQ,g=l.data,I=l.projectionId,E=l.cb,s=l.UQ,w=l.mH,o=l.ZL;c.mQ(n,r,g,I,E,s,w,o)}c.bQ=[]}})},b.prototype.bw=function(g,A,I,t,B,i,Q,C,e,o,E,h,a){var l=this;if(void 0===a&&(a=!0),polyfill.Support.wasm&&a){if(!this.parent.PW)return void h("not init");a=A.join(";"),a=this.parent.PW.transform('["'+a+'","'+E+'"]'),g=g+("?key="+this.parent.key)+"&msg="+a}else g=g+("?key="+this.parent.key)+"&flds="+E+"&t="+A.join(";");return g+="&p=3",makeFetchRequest(this.parent.Uh,g,function(A,i){A?h(A):setTimeout(function(){l.pQ(i,B,I,C,e,Q,t,o,h,g)},10)})},b.prototype.pQ=function(A,g,I,t,B,Q,C,i,e,o){var E=this;if(this.parent.vn&&this.parent.vn._Q()){polyfill.Support.amapRunTime&&(polyfill.Support.amapRunTime["data-decode-begin"]||(polyfill.Support.amapRunTime["data-decode-begin"]=(new Date).getTime()));var rawData = new Uint8Array(A);var h=polyfill.KQ(rawData),a=[];polyfill.forEach(h.tiles,function(A){var i=new polyfill.Gh(new polyfill.ca(A.z,A.x,A.y));i.data=E.kw(A,g,i),E.xw(i,I),E.zw(i,I,t,B),E.nz(i,Q,C),A=polyfill.Util.pW(A.t),a.push({zo:i.zo,ba:i.data,tag:A,version:h.version||""})});for(var l=[],n=this.parent.vn,r=void 0,s=0,w=a;s<w.length;s++){var c=w[s];if(c&&c.ba){if(c.ba.road){for(var y=[],x=0,d=c.ba.road;x<d.length;x++){var p=d[x],r=(r=n.dn(p.Fp,p.Ep,i))?r[1]:null;p.id&&r&&r.fontSize&&r.faceColor&&(delete p.gw,y.push({path:p.path,id:p.id}))}c.ba.road=y}delete c.ba.poilabel,delete c.ba.region,delete c.ba.building,delete c.ba.Mw}l.push(c)}polyfill.Support.amapRunTime&&(polyfill.Support.amapRunTime["data-decode-end"]||(polyfill.Support.amapRunTime["data-decode-end"]=(new Date).getTime())),e(null,{nebulaDatas:l,amapRunTime:polyfill.Support.amapRunTime,rawData:rawData})}else this.xQ.push({data:A,projectionId:g,zoom:I,viewMode:t,showBuildingBlock:B,mS:Q,optimalZoom:C,ZL:i,cb:e,url:o})},b.prototype.mQ=function(A,i,g,I,t,B,Q,C){this.parent.vn?this.HQ(g,i,I,A,B,Q,C,t):this.bQ.push({CD:A,cQ:i,data:g,projectionId:I,cb:t,UQ:B,mH:Q,ZL:C})},b.prototype.bW=function(A,g,I,t,B,Q){var C=this;if(polyfill.Support.wasm){if(!this.parent.PW)return void Q("not init");var i=g.join(";"),i=this.parent.PW.transform('["'+i+'","poi,roadname"]');A=A+("?key="+this.parent.key)+"&msg="+i}else A=A+("?key="+this.parent.key)+"&flds=poi,roadname&t="+g.join(";");A+="&p=3",this.WW=t;var e=-1!==A.indexOf("/oversea"),o=new polyfill.vH;return o._H(makeFetchRequest(this.parent.Uh,A,function(A,i){A?Q(A):setTimeout(function(){C.mQ(g,e,i,I,Q,o,B,t)},10)})),{cancel:o.cancel}},b.prototype.HQ=function(A,i,g,I,t,B,Q,C){var e=this,o=polyfill.KQ(new Uint8Array(A));!i&&o.version&&this.parent.GW.nebulaVersion!==o.version&&(this.parent.GW.nebulaVersion=o.version,this.parent.GW.db=o.db,this.parent.IW.zW(this.parent.GW.db),this.parent.Uh.send("updateDataVersion",this.parent.GW.nebulaVersion));var E=[];polyfill.forEach(o.tiles,function(A){var i=new polyfill.Gh(new polyfill.ca(A.z,A.x,A.y));i.data=e.kw(A,g,i),A=polyfill.Util.pW(A.t),E.push({zo:i.zo,ba:i.data,tag:A})});for(var h=[],a=0,l=E;a<l.length;a++){var n,r,s=l[a];s&&s.ba&&(n=s.ba.roadName,r=s.ba.poilabel,delete s.ba.poilabel,delete s.ba.Mw,h.push({zo:s.zo,ba:{roadName:n,poilabel:r},tag:s.tag,version:o.version||""}))}if(h.length){for(var w={},c=0,y=h;c<y.length;c++){var x=y[c],d=new polyfill.Gh(x.zo),p=polyfill.wa.ga(d.zo.x,d.zo.y,d.zo.z,"EPSG:3857");d.type="nebula",i&&(d.cQ=!0),p=polyfill.lcs.getLocalByCoord([p[0],p[1]]),d.localCoord=p,d.data=x.ba,(p=this.parent.params).showLabel,p=p.scale,x=x.tag,this.sQ[d.zo.key+","+x]={tile:d,params:{scale:p,tag:x}},w[d.zo.key+","+polyfill.Util.SD(x)]=!0}C(null,w)}},b.prototype.OW=function(A){this.parent.Zw?this.on("once",A):A()},b.prototype.YE=function(A,i){polyfill.map(polyfill.ZQ.ha(i.bounds,polyfill.ZQ.ra(i.zoom)),function(A){return A.join(",")});var g=this.sQ,i=polyfill.Util.getOptimalZoom(this.WW);A(g,{ZL:this.WW,optimalZoom:i,cb:function(){}}),this.sQ={}},b.prototype.kw=function(A,i,g){var n=this,I={},r=polyfill.ProjectionManager.getProjection(i),i=polyfill.wa.ga(A.x,A.y,A.z,"EPSG:3857"),s=polyfill.lcs.getLocalByCoord([i[0],i[1]]).center;g.Mw=s,g.Ro=i;var w=g.zo.z;return polyfill.forEach(A.layers,function(h){var A,a=[],l=b.Wa[h.type];polyfill.forEach(h.d[l],function(o){o.items.sort(n.A0);var E=n.parent.vn.mW(o.mainkey,o.subkey,w);polyfill.forEach(o.items,function(A){switch(l){case"road":for(var i=0;i<A.path.length;i+=2){var g=A.path[i],I=A.path[i+1],t=polyfill.XY(h,o.resolution,g,I),t=r.project(t[0],t[1]);w>=polyfill.Ra&&(t[0]-=s[0],t[1]-=s[1]),A.path[i]=t[0],A.path[i+1]=t[1]}break;case"region":for(var B=A.path,Q=0;Q<B.length;Q+=1){for(var C=B[Q].path,e=[],i=0;i<C.length;i+=2)g=C[i],I=C[i+1],t=polyfill.XY(h,o.resolution,g,I),e[i]=t[0],e[i+1]=t[1],t=r.project(t[0],t[1]),w>=polyfill.Ra&&(t[0]-=s[0],t[1]-=s[1]),C[i]=t[0],C[i+1]=t[1];B[Q]=C}break;case"building":for(B=A.path,A.oW=[],Q=0;Q<B.length;Q+=1){for(C=B[Q].path,e=[],i=0;i<C.length;i+=2)g=C[i],I=C[i+1],t=polyfill.XY(h,o.resolution,g,I),e[i]=t[0],e[i+1]=t[1],t=r.project(t[0],t[1]),w>=polyfill.Ra&&(t[0]-=s[0],t[1]-=s[1]),C[i]=t[0],C[i+1]=t[1];B[Q]=C,A.oW[Q]=e}break;case"poilabel":case"roadName":if(A.pos&&(e=polyfill.XY(h,o.resolution,A.pos[0],A.pos[1]),A.pos=r.project(e[0],e[1])),A.path){if(A.shield){e=polyfill.XY(h,o.resolution,A.path[0],A.path[1]),t=r.project(e[0],e[1]),w>=polyfill.Ra&&(t[0]-=s[0],t[1]-=s[1]),A.path[0]=t[0],A.path[1]=t[1];break}for(i=0;i<A.path.length;i+=2)g=A.path[i],I=A.path[i+1],t=polyfill.XY(h,o.resolution,g,I),t=r.project(t[0],t[1]),w>=polyfill.Ra&&(t[0]-=s[0],t[1]-=s[1]),A.path[i]=t[0],A.path[i+1]=t[1]}}A.du=o.resolution,A.Fp=o.mainkey,A.Ep=o.subkey,A.zIndex=n.parent.vn.Lw(o.mainkey,o.subkey),A.lineCap=E[0],A.RQ=E[1],A.gw={z:h.z,y:h.y,x:h.x},a.push(A)})}),"poilabel"!==l?n.Tw(a):n.Na(a),"poilabel"===l?(A=h.z+"-"+h.x+"-"+h.y,I[l]?I[l][A]?I[l][A].push.apply(I[l][A],a):I[l][A]=a:(I[l]={},I[l][A]=a)):I[l]?I[l].push.apply(I[l],a):I[l]=a}),I.Mw=s,I},b.prototype.A0=function(A,i){return A.minzoom-i.minzoom||A.maxzoom-i.maxzoom},b.prototype.Tw=function(A){return A.sort(function(A,i){return A.zIndex-i.zIndex}),A},b.prototype.Na=function(A){return A.sort(function(A,i){return A.rank-i.rank}),A},b.prototype.xw=function(A,i){var g=A.data,I=new polyfill._w;if(g.Uc=I,!g.$c){g.$c=new polyfill.J_,g.road=g.road||[];var t=A.Mw.slice(0);if(A.zo.z<=polyfill.za&&(t[0]=0,t[1]=0),g.road.push({name:"",rank:1,maxzoom:polyfill.zoomRange[1],minzoom:polyfill.zoomRange[0],path:[A.Ro[0]-t[0],A.Ro[1]-t[1],A.Ro[2]-t[0],A.Ro[1]-t[1],A.Ro[2]-t[0],A.Ro[3]-t[1],A.Ro[0]-t[0],A.Ro[3]-t[1],A.Ro[0]-t[0],A.Ro[1]-t[1]],Fp:-2,Ep:-2,shield:"",shieldType:0,du:13,lineCap:"butt",RQ:"butt"}),g.road)for(var B=0,Q=g.road;B<Q.length;B++){var C=Q[B],e=C.path,e=(o=g.$c.hb(e,{X_:"butt"===C.lineCap?0:.9,lineCap:C.lineCap,lineJoin:"auto"})).Iw,o=o.distance;0<e&&(I.add(C.Fp,C.Ep,e,C.minzoom,C.maxzoom),C.distance=o)}}},b.prototype.zw=function(A,i,g,I){var t=A.data,B=new polyfill._w;if(t.Oc=B,t.Fc=new polyfill._w,!t.Dc){t.Dc=new polyfill.K_,t.region=t.region||[];var Q=A.Mw.slice(0);if(A.zo.z<=polyfill.za&&(Q[0]=0,Q[1]=0),t.region.unshift({maxzoom:polyfill.zoomRange[1],minzoom:polyfill.zoomRange[0],path:[[A.Ro[0]-Q[0],A.Ro[1]-Q[1],A.Ro[2]-Q[0],A.Ro[1]-Q[1],A.Ro[2]-Q[0],A.Ro[3]-Q[1],A.Ro[0]-Q[0],A.Ro[3]-Q[1],A.Ro[0]-Q[0],A.Ro[1]-Q[1]]],Fp:30001,Ep:1}),t.region)for(var C=0,e=t.region;C<e.length;C++)for(var o=e[C],E=0,h=o.path;E<h.length;E++)(v=h[E]).push(v[0],v[1]),0<(M=t.Dc.Nx(v))&&B.add(o.Fp,o.Ep,M,o.minzoom,o.maxzoom);if(!I&&t.building){if(t.FD)return;t.FD=new polyfill.K_,t.BD=new polyfill._w;for(var a=t.BD,l=0,n=t.building;l<n.length;l++){var r=n[l],w=(s=polyfill.jw(r.gw.z,r.gw.x,r.gw.y))[0],c=s[1],y=s[2],s=s[3];A.Mw&&(w-=A.Mw[0],y-=A.Mw[0],c-=A.Mw[1],s-=A.Mw[1]);for(var x=Math.floor(w),d=Math.floor(y),p=Math.floor(c),D=Math.floor(s),f=0,R=r.path;f<R.length;f++){var v=R[f];0<(M=t.FD.Nx(v))&&a.add(r.Fp,r.Ep,M,r.minzoom,r.maxzoom,r.ew||"indoor_out_building")}for(var u=0,G=r.path;u<G.length;u++){var S=G[u];S.push(S[0],S[1]);for(var v=[],b=0,F=S.length;b<F-2;b+=2)v.push(polyfill.xd(S[b],S[b+1])),v.push(polyfill.xd(S[b+2],S[b+3]));for(var k=[],b=0,F=v.length;b<F;b+=2){var M,Y=v[b][0],N=v[b][1],J=v[b+1][0],U=v[b+1][1],L=Math.floor(Y),H=Math.floor(N);(Y!==J||L!==x&&L!==d)&&(N!==U||H!==p&&H!==D)?k.push(v[b],v[b+1]):(0<(M=t.Dc.Ew(k))&&t.Fc.add(r.Fp,r.Ep,M,r.minzoom,r.maxzoom,r.ew||"indoor_out_building"),k=[])}0<k.length&&0<(M=t.Dc.Ew(k))&&t.Fc.add(r.Fp,r.Ep,M,r.minzoom,r.maxzoom,r.ew)}}}if(t.building){for(var K=[],m=0,q=t.building;m<q.length;m++)if((r=q[m]).ew)if(-1<r.ew.indexOf("|"))for(var Z=r.ew.split("|"),b=0;b<Z.length;b++)K.push(Z[b]);else K.push(r.ew);t.indoorInfo||(t.indoorInfo=[]),t.indoorInfo=K}}},b.prototype.nz=function(A,i,g){void 0===i&&(i={});var I=A.data;if(I.C_=new polyfill._w,!I.A_){I.A_=new polyfill.iz;var t=i.hideWithoutStyle,B=i.areas;if(I.building)for(var Q=0,C=I.building;Q<C.length;Q++)for(var e=C[Q],o=0;o<e.path.length;o++){var E=e.path[o],h=e.oW[o];E.push(E[0],E[1]),h.push(h[0],h[1]);for(var a=[],l=0;l<h.length;l+=2)a.push([h[l],h[l+1]]);if(B){for(var n,r=!1,s=!1,w={},c=0;c<B.length;c++){var y=B[c],x=y.path;geoUtil.isRingInRing(a,x)&&(r=!0,!y.visible&&void 0!==y.visible||(s=!0,w={roofColor:polyfill.Util.color2RgbaArray(y.color1),wallColor:polyfill.Util.color2RgbaArray(y.color2)}))}!r&&t||r&&!s||0<(n=I.A_.tz(E,e.height))&&I.C_.add(e.Fp,e.Ep,n,e.minzoom,e.maxzoom,e.ew,w.roofColor,w.wallColor)}else 0<(n=I.A_.tz(E,e.height))&&I.C_.add(e.Fp,e.Ep,n,e.minzoom,e.maxzoom,e.ew)}}},b.prototype.hQ=function(A,i){if(A)for(var g=this.SQ(A)||[],I=0,t=g=new LabelFormatMap[A.type]({vn:this.parent.vn}).DQ(g,{zoom:i});I<t.length;I++){var B=t[I],Q=B.CO;B.EG||(B.EG={});for(var C=0,e=Q;C<e.length;C++){var o=e[C],E=this.parent.R_.mz(o);B.EG[o]=E}}return g},b.prototype.SQ=function(A){return A.data&&A.data.roadName||A.Dh},b.Pw=[1,0,1,0],b.Wa={0:"poilabel",1:"road",2:"region",3:"building",4:"roadName"},b),a;function b(A){var i=a.call(this)||this;return i.parent=A,i.id="nebula",i.sQ={},i.aW=null,i.WW=20,i.xQ=[],i.bQ=[],i.bind(),i}var hasWarning=!1;function makeFetchRequest(A,i,g){if(!polyfill.Support.safari&&!polyfill.Support.AQ&&!polyfill.Support.gQ&&self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal")){var I=new AbortController,t=I.signal,t=new self.Request(i,{method:"GET",referrer:"null"===self.location.origin?void 0:self.location.origin,signal:t});return polyfill.Support.amapRunTime&&(polyfill.Support.amapRunTime["data-request"]||(polyfill.Support.amapRunTime["data-request"]=(new Date).getTime())),fetch(t).then(function(A){return polyfill.Support.amapRunTime&&(polyfill.Support.amapRunTime["data-loaded"]||(polyfill.Support.amapRunTime["data-loaded"]=(new Date).getTime())),"application/x-protobuf"===A.headers.get("content-type")?A.arrayBuffer():A.json()}).then(function(A){A.info?hasWarning||(hasWarning=!0,console.log(i),console.log("<AMap JSAPI> KEY异常，错误信息："+A.info)):g(null,A)}).catch(function(A){"AbortError"!==A.name&&g(A.message||"unknown error")}),{cancel:function(){I.abort()}}}var B=A.send("request",i,function(A,i){A?("<cancel>"===A&&B&&B.cancel&&B.cancel(),B=void 0,g(A)):(B=void 0,g(null,i))});return B}var DistrictSourceWorker=function(){function DistrictSourceWorker(A){this.parent=A,this.fW={}}return DistrictSourceWorker.prototype.bw=function(A,i,g,I,t){var B=this,Q=new XMLHttpRequest;return Q.onreadystatechange=function(){var A;4!==Q.readyState||200!==Q.status&&204!==Q.status||(A=new polyfill.tW(new polyfill.pw(new Uint8Array(Q.response))),A=B.Ow(A,{x:i.x,y:i.y,z:i.z,projectionId:g,tileSize:I}),t(null,polyfill.Ln({zo:i},A)))},Q.open("GET",A,!0),Q.responseType="arraybuffer",Q.send(),{cancel:function(){Q.abort()}}},DistrictSourceWorker.prototype.Ow=function(o,A){var g=A.x,I=A.y,t=A.z,B=A.tileSize,Q=A.projectionId;o.z=t,o.x=g,o.y=I,A=polyfill.ProjectionManager.getProjection(Q).getResolution(t),o.Ro=polyfill.$Q(g,I,t,A,B),o.zS=polyfill.lcs.getLocalByCoord([o.Ro[0],o.Ro[1]]);var C=polyfill.ProjectionManager.getProjection(Q).getResolution(t);return polyfill.vx(o.layers,function(e){var A=e.Cw;e.Ah=[],e.scale=C*B/e.extent;var i=polyfill.V[Q].Xs(B*g,B*I,t);e.ox=i[0],e.oy=i[1],polyfill.forEach(A,function(A,i){if((A=e.Gw(i)).Dw(),e.Ah.push(A),A.lines&&0<A.lines.length){A.Rw=[];for(var g=0,I=A.lines.length;g<I;g++){for(var t=[],B=0,Q=A.lines[g].length;B<Q;B++){var C=[e.ox+e.scale*A.lines[g][B][0]-o.zS.center[0],e.oy-e.scale*A.lines[g][B][1]-o.zS.center[1]];t.push(C)}A.Rw.push(t)}}})}),this.uW(o),this.xw(o),this.zw(o),o},DistrictSourceWorker.prototype.uW=function(A){var i,g=[],I=[];for(i in A.layers)if(A.layers.hasOwnProperty(i))for(var t=A.layers[i],B=0;B<t.Ah.length;B+=1){var Q=t.Ah[B];if(3==+Q.type&&Q.Rw){for(var C=Q.Rw,e=[],o=0;o<C.length;o++)polyfill.kS.isClockwise(C[o])?e.push([o]):e.length&&e[e.length-1].push(o);for(var E=0;E<e.length;E++){var h=e[E];if(1<h.length){for(var a=[],l=[],n=0;n<h.length;n++){var r=C[h[n]];0<n&&a.push(l.length/2);for(var s=0;s<r.length;s++){var w=r[s];l.push(w[0],w[1])}}g.push({properties:Q.properties,path:l,LQ:a})}else{for(l=[],r=C[h[0]],s=0;s<r.length;s++){var c=r[s];l.push(c[0],c[1])}g.push({properties:Q.properties,path:l})}}}else if(3!==Q.type&&Q.Rw)for(var y=0;y<Q.Rw.length;y++)I.push({properties:Q.properties,path:Q.Rw[y]});this.cW(Q)}A.polygons=g,A.Dh=I,delete A.layers},DistrictSourceWorker.prototype.xw=function(A){if(!A||!A.$c){var i=new polyfill.LW;if(!A.$c&&(A.Uc=i,A.$c=new polyfill.J_,A.Dh))for(var g=0,I=A.Dh;g<I.length;g++){var t=I[g],B=JSON.stringify(t.properties),C=(Q=A.$c.g0(t.path,{X_:0,lineJoin:"round",lineCap:"butt"})).Iw,Q=Q.distance;0<C&&(i.add(B,0,C,0,22),t.distance=Q)}}},DistrictSourceWorker.prototype.zw=function(A){if(!A||!A.Dc){var i=new polyfill.LW;A.Oc=i,A.Dc=new polyfill.K_;for(var g=0,I=A.polygons;g<I.length;g++){var t=I[g],B=JSON.stringify(t.properties);0<(t=A.Dc.Nx(t.path,t.LQ))&&i.add(B,0,t,0,22)}}},DistrictSourceWorker.prototype.dW=function(A){switch(A){case 0:case 1:return"Nation_Border_China";case 2:return"Coastline_China";case 3:case 4:return"Province_Border_China";case 5:return"City_Border_China";case 6:return"County_Border_China";case 7:case 8:return"Nation_Border_Foreign";case 9:return"Coastline_Foreign";case 10:case 11:return"Nation_Border_Foreign";case 12:return"Province_Border_Foreign";default:return""}},DistrictSourceWorker.prototype.sW=function(code){return this.fW[code]||(this.fW[code]=eval("'"+code.replace(/\//g,"\\u")+"'")),this.fW[code]},DistrictSourceWorker.prototype.cW=function(A){A.properties.NAME_CHN&&(A.properties.NAME_CHN=this.sW(A.properties.NAME_CHN.trim())),A.properties.NAME_ENG&&(A.properties.NAME_ENG=A.properties.NAME_ENG.trim()),A.properties.level&&(A.properties.level=A.properties.level.trim()),A.properties.citycode&&A.properties.citycode.length&&(A.properties.citycode=A.properties.citycode.trim()),A.properties.type_=+A.properties.type,A.properties.feature_type_=+A.type,A.properties.type=this.dW(+A.properties.type)},DistrictSourceWorker}(),mbStyle={Hr:void 0,_r:{},kr:{"pedestrian-polygon":{width:128,height:128,x:0,y:0,pixelRatio:2,visible:!0},"turning-circle-outline":{width:92,height:92,x:128,y:0,pixelRatio:2,visible:!0},"turning-circle":{width:84,height:84,x:0,y:128,pixelRatio:2,visible:!0},"us-interstate-truck-2":{width:40,height:80,x:84,y:128,pixelRatio:2,visible:!0},"us-interstate-truck-3":{width:52,height:80,x:124,y:128,pixelRatio:2,visible:!0},"us-highway-business-2":{width:40,height:76,x:176,y:128,pixelRatio:2,visible:!0},"us-highway-business-3":{width:52,height:76,x:216,y:128,pixelRatio:2,visible:!0},"us-highway-bypass-2":{width:40,height:76,x:268,y:128,pixelRatio:2,visible:!0},"us-highway-bypass-3":{width:52,height:76,x:308,y:128,pixelRatio:2,visible:!0},"us-highway-truck-2":{width:40,height:76,x:360,y:128,pixelRatio:2,visible:!0},"us-highway-truck-3":{width:52,height:76,x:400,y:128,pixelRatio:2,visible:!0},"ae-f-route-3":{width:48,height:54,x:452,y:128,pixelRatio:2,visible:!0},"ae-s-route-4":{width:76,height:52,x:220,y:0,pixelRatio:2,visible:!0},"pe-national-2":{width:36,height:52,x:296,y:0,pixelRatio:2,visible:!0},"pe-national-3":{width:44,height:52,x:332,y:0,pixelRatio:2,visible:!0},"ae-national-3":{width:52,height:50,x:376,y:0,pixelRatio:2,visible:!0},"ae-national-4":{width:64,height:50,x:428,y:0,pixelRatio:2,visible:!0},"ae-d-route-3":{width:48,height:48,x:0,y:212,pixelRatio:2,visible:!0},"ae-d-route-4":{width:60,height:48,x:48,y:212,pixelRatio:2,visible:!0},"tw-provincial-2":{width:44,height:48,x:108,y:212,pixelRatio:2,visible:!0},"tw-provincial-3":{width:56,height:48,x:152,y:212,pixelRatio:2,visible:!0},"tw-provincial-expy-2":{width:44,height:48,x:208,y:212,pixelRatio:2,visible:!0},"tw-provincial-expy-3":{width:56,height:48,x:252,y:212,pixelRatio:2,visible:!0},"za-provincial-2":{width:48,height:48,x:308,y:212,pixelRatio:2,visible:!0},"cn-nths-expy-2":{width:40,height:46,x:356,y:212,pixelRatio:2,visible:!0},"cn-nths-expy-3":{width:52,height:46,x:396,y:212,pixelRatio:2,visible:!0},"cn-nths-expy-4":{width:64,height:46,x:448,y:212,pixelRatio:2,visible:!0},"cn-nths-expy-5":{width:76,height:46,x:0,y:260,pixelRatio:2,visible:!0},"cn-provincial-expy-2":{width:40,height:46,x:76,y:260,pixelRatio:2,visible:!0},"cn-provincial-expy-3":{width:52,height:46,x:116,y:260,pixelRatio:2,visible:!0},"cn-provincial-expy-4":{width:64,height:46,x:168,y:260,pixelRatio:2,visible:!0},"cn-provincial-expy-5":{width:76,height:46,x:232,y:260,pixelRatio:2,visible:!0},"br-federal-3":{width:52,height:44,x:308,y:260,pixelRatio:2,visible:!0},"hk-strategic-route-2":{width:36,height:44,x:360,y:260,pixelRatio:2,visible:!0},"in-national-2":{width:32,height:44,x:396,y:260,pixelRatio:2,visible:!0},"in-national-3":{width:40,height:44,x:428,y:260,pixelRatio:2,visible:!0},"in-national-4":{width:48,height:44,x:0,y:306,pixelRatio:2,visible:!0},"in-state-2":{width:32,height:44,x:48,y:306,pixelRatio:2,visible:!0},"in-state-3":{width:40,height:44,x:80,y:306,pixelRatio:2,visible:!0},"kr-natl-expy-2":{width:40,height:44,x:120,y:306,pixelRatio:2,visible:!0},"kr-natl-expy-3":{width:52,height:44,x:160,y:306,pixelRatio:2,visible:!0},"mx-federal-2":{width:36,height:44,x:212,y:306,pixelRatio:2,visible:!0},"mx-federal-3":{width:46,height:44,x:248,y:306,pixelRatio:2,visible:!0},"mx-federal-4":{width:56,height:44,x:294,y:306,pixelRatio:2,visible:!0},"mx-state-2":{width:36,height:44,x:350,y:306,pixelRatio:2,visible:!0},"mx-state-3":{width:46,height:44,x:386,y:306,pixelRatio:2,visible:!0},"mx-state-4":{width:56,height:44,x:432,y:306,pixelRatio:2,visible:!0},"pe-regional-3":{width:46,height:44,x:0,y:350,pixelRatio:2,visible:!0},"pe-regional-4":{width:56,height:44,x:46,y:350,pixelRatio:2,visible:!0},"tw-national-2":{width:42,height:44,x:102,y:350,pixelRatio:2,visible:!0},"us-interstate-2":{width:40,height:44,x:144,y:350,pixelRatio:2,visible:!0},"us-interstate-3":{width:52,height:44,x:184,y:350,pixelRatio:2,visible:!0},"us-interstate-4":{width:64,height:44,x:236,y:350,pixelRatio:2,visible:!0},"us-interstate-business-2":{width:40,height:44,x:300,y:350,pixelRatio:2,visible:!0},"us-interstate-business-3":{width:52,height:44,x:340,y:350,pixelRatio:2,visible:!0},"us-interstate-duplex-4":{width:64,height:44,x:392,y:350,pixelRatio:2,visible:!0},"us-interstate-duplex-5":{width:76,height:44,x:0,y:394,pixelRatio:2,visible:!0},"airfield-15":{width:42,height:42,x:456,y:350,pixelRatio:2,visible:!0},"airport-15":{width:42,height:42,x:76,y:394,pixelRatio:2,visible:!0},"alcohol-shop-15":{width:42,height:42,x:118,y:394,pixelRatio:2,visible:!0},"american-football-15":{width:42,height:42,x:160,y:394,pixelRatio:2,visible:!0},"amusement-park-15":{width:42,height:42,x:202,y:394,pixelRatio:2,visible:!0},"aquarium-15":{width:42,height:42,x:244,y:394,pixelRatio:2,visible:!0},"art-gallery-15":{width:42,height:42,x:286,y:394,pixelRatio:2,visible:!0},"attraction-15":{width:42,height:42,x:328,y:394,pixelRatio:2,visible:!0},"au-tourist-2":{width:40,height:42,x:370,y:394,pixelRatio:2,visible:!0},"au-tourist-3":{width:56,height:42,x:410,y:394,pixelRatio:2,visible:!0},"bakery-15":{width:42,height:42,x:466,y:394,pixelRatio:2,visible:!0},"bank-15":{width:42,height:42,x:468,y:260,pixelRatio:2,visible:!0},"bar-15":{width:42,height:42,x:0,y:438,pixelRatio:2,visible:!0},"basketball-15":{width:42,height:42,x:42,y:438,pixelRatio:2,visible:!0},"beach-15":{width:42,height:42,x:84,y:438,pixelRatio:2,visible:!0},"beer-15":{width:42,height:42,x:126,y:438,pixelRatio:2,visible:!0},"bicycle-15":{width:42,height:42,x:168,y:438,pixelRatio:2,visible:!0},"bowling-alley-15":{width:42,height:42,x:210,y:438,pixelRatio:2,visible:!0},"bridge-15":{width:42,height:42,x:252,y:438,pixelRatio:2,visible:!0},"cafe-15":{width:42,height:42,x:294,y:438,pixelRatio:2,visible:!0},"campsite-15":{width:42,height:42,x:336,y:438,pixelRatio:2,visible:!0},"car-15":{width:42,height:42,x:378,y:438,pixelRatio:2,visible:!0},"car-rental-15":{width:42,height:42,x:420,y:438,pixelRatio:2,visible:!0},"car-repair-15":{width:42,height:42,x:462,y:438,pixelRatio:2,visible:!0},"casino-15":{width:42,height:42,x:504,y:438,pixelRatio:2,visible:!0},"castle-15":{width:42,height:42,x:546,y:438,pixelRatio:2,visible:!0},"cemetery-15":{width:42,height:42,x:588,y:438,pixelRatio:2,visible:!0},"charging-station-15":{width:42,height:42,x:630,y:438,pixelRatio:2,visible:!0},"cinema-15":{width:42,height:42,x:672,y:438,pixelRatio:2,visible:!0},"clothing-store-15":{width:42,height:42,x:714,y:438,pixelRatio:2,visible:!0},"college-15":{width:42,height:42,x:756,y:438,pixelRatio:2,visible:!0},"communications-tower-15":{width:42,height:42,x:798,y:438,pixelRatio:2,visible:!0},"confectionery-15":{width:42,height:42,x:840,y:438,pixelRatio:2,visible:!0},"convenience-15":{width:42,height:42,x:882,y:438,pixelRatio:2,visible:!0},"dentist-15":{width:42,height:42,x:924,y:438,pixelRatio:2,visible:!0},"doctor-15":{width:42,height:42,x:966,y:438,pixelRatio:2,visible:!0},"dog-park-15":{width:42,height:42,x:488,y:306,pixelRatio:2,visible:!0},"drinking-water-15":{width:42,height:42,x:530,y:306,pixelRatio:2,visible:!0},"embassy-15":{width:42,height:42,x:572,y:306,pixelRatio:2,visible:!0},"farm-15":{width:42,height:42,x:614,y:306,pixelRatio:2,visible:!0},"fast-food-15":{width:42,height:42,x:656,y:306,pixelRatio:2,visible:!0},"fire-station-15":{width:42,height:42,x:698,y:306,pixelRatio:2,visible:!0},"fitness-centre-15":{width:42,height:42,x:740,y:306,pixelRatio:2,visible:!0},"fuel-15":{width:42,height:42,x:782,y:306,pixelRatio:2,visible:!0},"furniture-15":{width:42,height:42,x:824,y:306,pixelRatio:2,visible:!0},"garden-15":{width:42,height:42,x:866,y:306,pixelRatio:2,visible:!0},"globe-15":{width:42,height:42,x:908,y:306,pixelRatio:2,visible:!0},"golf-15":{width:42,height:42,x:950,y:306,pixelRatio:2,visible:!0},"grocery-15":{width:42,height:42,x:498,y:350,pixelRatio:2,visible:!0},"harbor-15":{width:42,height:42,x:540,y:350,pixelRatio:2,visible:!0},"hardware-15":{width:42,height:42,x:582,y:350,pixelRatio:2,visible:!0},"heliport-15":{width:42,height:42,x:624,y:350,pixelRatio:2,visible:!0},"horse-riding-15":{width:42,height:42,x:666,y:350,pixelRatio:2,visible:!0},"hospital-15":{width:42,height:42,x:708,y:350,pixelRatio:2,visible:!0},"ice-cream-15":{width:42,height:42,x:750,y:350,pixelRatio:2,visible:!0},"information-15":{width:42,height:42,x:792,y:350,pixelRatio:2,visible:!0},"jewelry-store-15":{width:42,height:42,x:834,y:350,pixelRatio:2,visible:!0},"laundry-15":{width:42,height:42,x:876,y:350,pixelRatio:2,visible:!0},"library-15":{width:42,height:42,x:918,y:350,pixelRatio:2,visible:!0},"lodging-15":{width:42,height:42,x:960,y:350,pixelRatio:2,visible:!0},"mobile-phone-15":{width:42,height:42,x:508,y:394,pixelRatio:2,visible:!0},"monument-15":{width:42,height:42,x:550,y:394,pixelRatio:2,visible:!0},"mountain-15":{width:42,height:42,x:592,y:394,pixelRatio:2,visible:!0},"museum-15":{width:42,height:42,x:634,y:394,pixelRatio:2,visible:!0},"music-15":{width:42,height:42,x:676,y:394,pixelRatio:2,visible:!0},"optician-15":{width:42,height:42,x:718,y:394,pixelRatio:2,visible:!0},"park-15":{width:42,height:42,x:760,y:394,pixelRatio:2,visible:!0},"parking-15":{width:42,height:42,x:802,y:394,pixelRatio:2,visible:!0},"parking-garage-15":{width:42,height:42,x:844,y:394,pixelRatio:2,visible:!0},"pharmacy-15":{width:42,height:42,x:886,y:394,pixelRatio:2,visible:!0},"picnic-site-15":{width:42,height:42,x:928,y:394,pixelRatio:2,visible:!0},"pitch-15":{width:42,height:42,x:970,y:394,pixelRatio:2,visible:!0},"place-of-worship-15":{width:42,height:42,x:510,y:260,pixelRatio:2,visible:!0},"playground-15":{width:42,height:42,x:552,y:260,pixelRatio:2,visible:!0},"police-15":{width:42,height:42,x:594,y:260,pixelRatio:2,visible:!0},"post-15":{width:42,height:42,x:636,y:260,pixelRatio:2,visible:!0},"prison-15":{width:42,height:42,x:678,y:260,pixelRatio:2,visible:!0},"ranger-station-15":{width:42,height:42,x:720,y:260,pixelRatio:2,visible:!0},"religious-buddhist-15":{width:42,height:42,x:762,y:260,pixelRatio:2,visible:!0},"religious-christian-15":{width:42,height:42,x:804,y:260,pixelRatio:2,visible:!0},"religious-jewish-15":{width:42,height:42,x:846,y:260,pixelRatio:2,visible:!0},"religious-muslim-15":{width:42,height:42,x:888,y:260,pixelRatio:2,visible:!0},"restaurant-15":{width:42,height:42,x:930,y:260,pixelRatio:2,visible:!0},"restaurant-noodle-15":{width:42,height:42,x:972,y:260,pixelRatio:2,visible:!0},"restaurant-pizza-15":{width:42,height:42,x:512,y:212,pixelRatio:2,visible:!0},"restaurant-seafood-15":{width:42,height:42,x:554,y:212,pixelRatio:2,visible:!0},"rocket-15":{width:42,height:42,x:596,y:212,pixelRatio:2,visible:!0},"school-15":{width:42,height:42,x:638,y:212,pixelRatio:2,visible:!0},"shoe-15":{width:42,height:42,x:680,y:212,pixelRatio:2,visible:!0},"shop-15":{width:42,height:42,x:722,y:212,pixelRatio:2,visible:!0},"skateboard-15":{width:42,height:42,x:764,y:212,pixelRatio:2,visible:!0},"slipway-15":{width:42,height:42,x:806,y:212,pixelRatio:2,visible:!0},"stadium-15":{width:42,height:42,x:848,y:212,pixelRatio:2,visible:!0},"suitcase-15":{width:42,height:42,x:890,y:212,pixelRatio:2,visible:!0},"swimming-15":{width:42,height:42,x:932,y:212,pixelRatio:2,visible:!0},"table-tennis-15":{width:42,height:42,x:974,y:212,pixelRatio:2,visible:!0},"tennis-15":{width:42,height:42,x:500,y:128,pixelRatio:2,visible:!0},"theatre-15":{width:42,height:42,x:542,y:128,pixelRatio:2,visible:!0},"toilet-15":{width:42,height:42,x:584,y:128,pixelRatio:2,visible:!0},"town-hall-15":{width:42,height:42,x:626,y:128,pixelRatio:2,visible:!0},"veterinary-15":{width:42,height:42,x:668,y:128,pixelRatio:2,visible:!0},"viewpoint-15":{width:42,height:42,x:710,y:128,pixelRatio:2,visible:!0},"volcano-15":{width:42,height:42,x:752,y:128,pixelRatio:2,visible:!0},"volleyball-15":{width:42,height:42,x:794,y:128,pixelRatio:2,visible:!0},"watch-15":{width:42,height:42,x:836,y:128,pixelRatio:2,visible:!0},"waterfall-15":{width:42,height:42,x:878,y:128,pixelRatio:2,visible:!0},"watermill-15":{width:42,height:42,x:920,y:128,pixelRatio:2,visible:!0},"windmill-15":{width:42,height:42,x:962,y:128,pixelRatio:2,visible:!0},"zoo-15":{width:42,height:42,x:492,y:0,pixelRatio:2,visible:!0},"au-national-highway-2":{width:40,height:40,x:534,y:0,pixelRatio:2,visible:!0},"au-national-highway-3":{width:52,height:40,x:574,y:0,pixelRatio:2,visible:!0},"au-national-route-2":{width:40,height:40,x:626,y:0,pixelRatio:2,visible:!0},"au-national-route-3":{width:52,height:40,x:666,y:0,pixelRatio:2,visible:!0},"au-national-route-4":{width:64,height:40,x:718,y:0,pixelRatio:2,visible:!0},"au-national-route-5":{width:76,height:40,x:782,y:0,pixelRatio:2,visible:!0},"au-national-route-6":{width:86,height:40,x:858,y:0,pixelRatio:2,visible:!0},"au-state-2":{width:36,height:40,x:944,y:0,pixelRatio:2,visible:!0},"au-state-3":{width:46,height:40,x:0,y:480,pixelRatio:2,visible:!0},"au-state-4":{width:58,height:40,x:46,y:480,pixelRatio:2,visible:!0},"au-state-5":{width:68,height:40,x:104,y:480,pixelRatio:2,visible:!0},"au-state-6":{width:78,height:40,x:172,y:480,pixelRatio:2,visible:!0},"br-state-2":{width:40,height:40,x:250,y:480,pixelRatio:2,visible:!0},"br-state-3":{width:56,height:40,x:290,y:480,pixelRatio:2,visible:!0},"circle-white-2":{width:40,height:40,x:346,y:480,pixelRatio:2,visible:!0},"circle-white-3":{width:52,height:40,x:386,y:480,pixelRatio:2,visible:!0},"circle-white-4":{width:64,height:40,x:438,y:480,pixelRatio:2,visible:!0},"hu-main-2":{width:40,height:40,x:502,y:480,pixelRatio:2,visible:!0},"hu-main-3":{width:52,height:40,x:542,y:480,pixelRatio:2,visible:!0},"hu-main-4":{width:64,height:40,x:594,y:480,pixelRatio:2,visible:!0},"hu-main-5":{width:76,height:40,x:658,y:480,pixelRatio:2,visible:!0},"hu-motorway-2":{width:40,height:40,x:734,y:480,pixelRatio:2,visible:!0},"hu-motorway-3":{width:52,height:40,x:774,y:480,pixelRatio:2,visible:!0},"marker-15":{width:24,height:40,x:826,y:480,pixelRatio:2,visible:!0},"nz-state-2":{width:36,height:40,x:850,y:480,pixelRatio:2,visible:!0},"nz-state-3":{width:46,height:40,x:886,y:480,pixelRatio:2,visible:!0},"ro-communal-2":{width:40,height:40,x:932,y:480,pixelRatio:2,visible:!0},"ro-communal-3":{width:52,height:40,x:972,y:480,pixelRatio:2,visible:!0},"ro-communal-4":{width:64,height:40,x:0,y:520,pixelRatio:2,visible:!0},"ro-county-3":{width:52,height:40,x:64,y:520,pixelRatio:2,visible:!0},"ro-county-4":{width:64,height:40,x:116,y:520,pixelRatio:2,visible:!0},"ro-national-2":{width:40,height:40,x:180,y:520,pixelRatio:2,visible:!0},"ro-national-3":{width:52,height:40,x:220,y:520,pixelRatio:2,visible:!0},"tw-county-township-2":{width:40,height:40,x:272,y:520,pixelRatio:2,visible:!0},"tw-county-township-3":{width:52,height:40,x:312,y:520,pixelRatio:2,visible:!0},"tw-county-township-4":{width:64,height:40,x:364,y:520,pixelRatio:2,visible:!0},"tw-county-township-5":{width:76,height:40,x:428,y:520,pixelRatio:2,visible:!0},"tw-county-township-6":{width:88,height:40,x:504,y:520,pixelRatio:2,visible:!0},"us-bia-2":{width:40,height:40,x:592,y:520,pixelRatio:2,visible:!0},"us-bia-3":{width:52,height:40,x:632,y:520,pixelRatio:2,visible:!0},"us-bia-4":{width:60,height:40,x:684,y:520,pixelRatio:2,visible:!0},"us-highway-2":{width:40,height:40,x:744,y:520,pixelRatio:2,visible:!0},"us-highway-3":{width:52,height:40,x:784,y:520,pixelRatio:2,visible:!0},"us-highway-4":{width:64,height:40,x:836,y:520,pixelRatio:2,visible:!0},"us-highway-alternate-2":{width:40,height:40,x:900,y:520,pixelRatio:2,visible:!0},"us-highway-alternate-3":{width:52,height:40,x:940,y:520,pixelRatio:2,visible:!0},"us-highway-duplex-3":{width:52,height:40,x:0,y:560,pixelRatio:2,visible:!0},"us-highway-duplex-4":{width:64,height:40,x:52,y:560,pixelRatio:2,visible:!0},"us-highway-duplex-5":{width:76,height:40,x:116,y:560,pixelRatio:2,visible:!0},"za-national-2":{width:40,height:40,x:192,y:560,pixelRatio:2,visible:!0},"za-national-3":{width:56,height:40,x:232,y:560,pixelRatio:2,visible:!0},"barcelona-metro":{width:38,height:38,x:288,y:560,pixelRatio:2,visible:!0},"boston-t":{width:38,height:38,x:326,y:560,pixelRatio:2,visible:!0},"de-s-bahn":{width:38,height:38,x:364,y:560,pixelRatio:2,visible:!0},"de-s-bahn.de-u-bahn":{width:70,height:38,x:402,y:560,pixelRatio:2,visible:!0},"delhi-metro":{width:38,height:38,x:472,y:560,pixelRatio:2,visible:!0},"kiev-metro":{width:38,height:38,x:510,y:560,pixelRatio:2,visible:!0},"kr-metro-expy-2":{width:40,height:38,x:548,y:560,pixelRatio:2,visible:!0},"kr-metro-expy-3":{width:52,height:38,x:588,y:560,pixelRatio:2,visible:!0},"kr-metro-expy-4":{width:64,height:38,x:640,y:560,pixelRatio:2,visible:!0},"madrid-metro":{width:38,height:38,x:704,y:560,pixelRatio:2,visible:!0},"new-york-subway":{width:38,height:38,x:742,y:560,pixelRatio:2,visible:!0},"oslo-metro":{width:38,height:38,x:780,y:560,pixelRatio:2,visible:!0},"paris-metro":{width:38,height:38,x:818,y:560,pixelRatio:2,visible:!0},"paris-metro.paris-rer":{width:74,height:38,x:856,y:560,pixelRatio:2,visible:!0},"paris-rer":{width:38,height:38,x:930,y:560,pixelRatio:2,visible:!0},"paris-rer.paris-transilien":{width:70,height:38,x:0,y:600,pixelRatio:2,visible:!0},"road-closure":{width:38,height:38,x:70,y:600,pixelRatio:2,visible:!0},"stockholm-metro":{width:38,height:38,x:108,y:600,pixelRatio:2,visible:!0},"taipei-metro":{width:38,height:38,x:146,y:600,pixelRatio:2,visible:!0},"vienna-u-bahn":{width:38,height:38,x:184,y:600,pixelRatio:2,visible:!0},"kr-natl-hwy-2":{width:44,height:36,x:222,y:600,pixelRatio:2,visible:!0},"airfield-11":{width:34,height:34,x:266,y:600,pixelRatio:2,visible:!0},"airport-11":{width:34,height:34,x:300,y:600,pixelRatio:2,visible:!0},"alcohol-shop-11":{width:34,height:34,x:334,y:600,pixelRatio:2,visible:!0},"american-football-11":{width:34,height:34,x:368,y:600,pixelRatio:2,visible:!0},"amusement-park-11":{width:34,height:34,x:402,y:600,pixelRatio:2,visible:!0},"aquarium-11":{width:34,height:34,x:436,y:600,pixelRatio:2,visible:!0},"art-gallery-11":{width:34,height:34,x:470,y:600,pixelRatio:2,visible:!0},"attraction-11":{width:34,height:34,x:504,y:600,pixelRatio:2,visible:!0},"bakery-11":{width:34,height:34,x:538,y:600,pixelRatio:2,visible:!0},"bank-11":{width:34,height:34,x:572,y:600,pixelRatio:2,visible:!0},"bar-11":{width:34,height:34,x:606,y:600,pixelRatio:2,visible:!0},"basketball-11":{width:34,height:34,x:640,y:600,pixelRatio:2,visible:!0},"beach-11":{width:34,height:34,x:674,y:600,pixelRatio:2,visible:!0},"beer-11":{width:34,height:34,x:708,y:600,pixelRatio:2,visible:!0},"bicycle-11":{width:34,height:34,x:742,y:600,pixelRatio:2,visible:!0},"bicycle-share":{width:34,height:34,x:776,y:600,pixelRatio:2,visible:!0},"bowling-alley-11":{width:34,height:34,x:810,y:600,pixelRatio:2,visible:!0},"bridge-11":{width:34,height:34,x:844,y:600,pixelRatio:2,visible:!0},bus:{width:34,height:34,x:878,y:600,pixelRatio:2,visible:!0},"cafe-11":{width:34,height:34,x:912,y:600,pixelRatio:2,visible:!0},"campsite-11":{width:34,height:34,x:946,y:600,pixelRatio:2,visible:!0},"car-11":{width:34,height:34,x:980,y:600,pixelRatio:2,visible:!0},"car-rental-11":{width:34,height:34,x:968,y:560,pixelRatio:2,visible:!0},"car-repair-11":{width:34,height:34,x:980,y:0,pixelRatio:2,visible:!0},"casino-11":{width:34,height:34,x:0,y:638,pixelRatio:2,visible:!0},"castle-11":{width:34,height:34,x:34,y:638,pixelRatio:2,visible:!0},"cemetery-11":{width:34,height:34,x:68,y:638,pixelRatio:2,visible:!0},"charging-station-11":{width:34,height:34,x:102,y:638,pixelRatio:2,visible:!0},"chongqing-rail-transit":{width:50,height:34,x:136,y:638,pixelRatio:2,visible:!0},"cinema-11":{width:34,height:34,x:186,y:638,pixelRatio:2,visible:!0},"clothing-store-11":{width:34,height:34,x:220,y:638,pixelRatio:2,visible:!0},"college-11":{width:34,height:34,x:254,y:638,pixelRatio:2,visible:!0},"communications-tower-11":{width:34,height:34,x:288,y:638,pixelRatio:2,visible:!0},"confectionery-11":{width:34,height:34,x:322,y:638,pixelRatio:2,visible:!0},"convenience-11":{width:34,height:34,x:356,y:638,pixelRatio:2,visible:!0},"de-u-bahn":{width:34,height:34,x:390,y:638,pixelRatio:2,visible:!0},"dentist-11":{width:34,height:34,x:424,y:638,pixelRatio:2,visible:!0},"doctor-11":{width:34,height:34,x:458,y:638,pixelRatio:2,visible:!0},"dog-park-11":{width:34,height:34,x:492,y:638,pixelRatio:2,visible:!0},"drinking-water-11":{width:34,height:34,x:526,y:638,pixelRatio:2,visible:!0},"embassy-11":{width:34,height:34,x:560,y:638,pixelRatio:2,visible:!0},entrance:{width:34,height:34,x:594,y:638,pixelRatio:2,visible:!0},"farm-11":{width:34,height:34,x:628,y:638,pixelRatio:2,visible:!0},"fast-food-11":{width:34,height:34,x:662,y:638,pixelRatio:2,visible:!0},ferry:{width:34,height:34,x:696,y:638,pixelRatio:2,visible:!0},"fire-station-11":{width:34,height:34,x:730,y:638,pixelRatio:2,visible:!0},"fitness-centre-11":{width:34,height:34,x:764,y:638,pixelRatio:2,visible:!0},"fuel-11":{width:34,height:34,x:798,y:638,pixelRatio:2,visible:!0},"furniture-11":{width:34,height:34,x:832,y:638,pixelRatio:2,visible:!0},"garden-11":{width:34,height:34,x:866,y:638,pixelRatio:2,visible:!0},"globe-11":{width:34,height:34,x:900,y:638,pixelRatio:2,visible:!0},"golf-11":{width:34,height:34,x:934,y:638,pixelRatio:2,visible:!0},"grocery-11":{width:34,height:34,x:968,y:638,pixelRatio:2,visible:!0},"harbor-11":{width:34,height:34,x:0,y:672,pixelRatio:2,visible:!0},"hardware-11":{width:34,height:34,x:34,y:672,pixelRatio:2,visible:!0},"heliport-11":{width:34,height:34,x:68,y:672,pixelRatio:2,visible:!0},"hong-kong-mtr":{width:38,height:34,x:102,y:672,pixelRatio:2,visible:!0},"horse-riding-11":{width:34,height:34,x:140,y:672,pixelRatio:2,visible:!0},"hospital-11":{width:34,height:34,x:174,y:672,pixelRatio:2,visible:!0},"ice-cream-11":{width:34,height:34,x:208,y:672,pixelRatio:2,visible:!0},"information-11":{width:34,height:34,x:242,y:672,pixelRatio:2,visible:!0},"jewelry-store-11":{width:34,height:34,x:276,y:672,pixelRatio:2,visible:!0},"laundry-11":{width:34,height:34,x:310,y:672,pixelRatio:2,visible:!0},"library-11":{width:34,height:34,x:344,y:672,pixelRatio:2,visible:!0},"lodging-11":{width:34,height:34,x:378,y:672,pixelRatio:2,visible:!0},"marker-11":{width:24,height:34,x:412,y:672,pixelRatio:2,visible:!0},"mexico-city-metro":{width:34,height:34,x:436,y:672,pixelRatio:2,visible:!0},"milan-metro":{width:34,height:34,x:470,y:672,pixelRatio:2,visible:!0},"mobile-phone-11":{width:34,height:34,x:504,y:672,pixelRatio:2,visible:!0},"monument-11":{width:34,height:34,x:538,y:672,pixelRatio:2,visible:!0},"moscow-metro":{width:34,height:34,x:572,y:672,pixelRatio:2,visible:!0},"mountain-11":{width:34,height:34,x:606,y:672,pixelRatio:2,visible:!0},"museum-11":{width:34,height:34,x:640,y:672,pixelRatio:2,visible:!0},"music-11":{width:34,height:34,x:674,y:672,pixelRatio:2,visible:!0},"optician-11":{width:34,height:34,x:708,y:672,pixelRatio:2,visible:!0},"osaka-subway":{width:40,height:34,x:742,y:672,pixelRatio:2,visible:!0},"paris-transilien":{width:34,height:34,x:782,y:672,pixelRatio:2,visible:!0},"park-11":{width:34,height:34,x:816,y:672,pixelRatio:2,visible:!0},"parking-11":{width:34,height:34,x:850,y:672,pixelRatio:2,visible:!0},"parking-garage-11":{width:34,height:34,x:884,y:672,pixelRatio:2,visible:!0},"pharmacy-11":{width:34,height:34,x:918,y:672,pixelRatio:2,visible:!0},"philadelphia-septa":{width:38,height:34,x:952,y:672,pixelRatio:2,visible:!0},"picnic-site-11":{width:34,height:34,x:990,y:672,pixelRatio:2,visible:!0},"pitch-11":{width:34,height:34,x:0,y:706,pixelRatio:2,visible:!0},"place-of-worship-11":{width:34,height:34,x:34,y:706,pixelRatio:2,visible:!0},"playground-11":{width:34,height:34,x:68,y:706,pixelRatio:2,visible:!0},"police-11":{width:34,height:34,x:102,y:706,pixelRatio:2,visible:!0},"post-11":{width:34,height:34,x:136,y:706,pixelRatio:2,visible:!0},"prison-11":{width:34,height:34,x:170,y:706,pixelRatio:2,visible:!0},rail:{width:34,height:34,x:204,y:706,pixelRatio:2,visible:!0},"rail-light":{width:34,height:34,x:238,y:706,pixelRatio:2,visible:!0},"rail-metro":{width:34,height:34,x:272,y:706,pixelRatio:2,visible:!0},"ranger-station-11":{width:34,height:34,x:306,y:706,pixelRatio:2,visible:!0},"religious-buddhist-11":{width:34,height:34,x:340,y:706,pixelRatio:2,visible:!0},"religious-christian-11":{width:34,height:34,x:374,y:706,pixelRatio:2,visible:!0},"religious-jewish-11":{width:34,height:34,x:408,y:706,pixelRatio:2,visible:!0},"religious-muslim-11":{width:34,height:34,x:442,y:706,pixelRatio:2,visible:!0},"restaurant-11":{width:34,height:34,x:476,y:706,pixelRatio:2,visible:!0},"restaurant-noodle-11":{width:34,height:34,x:510,y:706,pixelRatio:2,visible:!0},"restaurant-pizza-11":{width:34,height:34,x:544,y:706,pixelRatio:2,visible:!0},"restaurant-seafood-11":{width:34,height:34,x:578,y:706,pixelRatio:2,visible:!0},"rocket-11":{width:34,height:34,x:612,y:706,pixelRatio:2,visible:!0},"san-francisco-bart":{width:34,height:34,x:646,y:706,pixelRatio:2,visible:!0},"school-11":{width:34,height:34,x:680,y:706,pixelRatio:2,visible:!0},"shoe-11":{width:34,height:34,x:714,y:706,pixelRatio:2,visible:!0},"shop-11":{width:34,height:34,x:748,y:706,pixelRatio:2,visible:!0},"singapore-mrt":{width:34,height:34,x:782,y:706,pixelRatio:2,visible:!0},"skateboard-11":{width:34,height:34,x:816,y:706,pixelRatio:2,visible:!0},"slipway-11":{width:34,height:34,x:850,y:706,pixelRatio:2,visible:!0},"stadium-11":{width:34,height:34,x:884,y:706,pixelRatio:2,visible:!0},"suitcase-11":{width:34,height:34,x:918,y:706,pixelRatio:2,visible:!0},"swimming-11":{width:34,height:34,x:952,y:706,pixelRatio:2,visible:!0},"table-tennis-11":{width:34,height:34,x:986,y:706,pixelRatio:2,visible:!0},"tennis-11":{width:34,height:34,x:0,y:740,pixelRatio:2,visible:!0},"theatre-11":{width:34,height:34,x:34,y:740,pixelRatio:2,visible:!0},"toilet-11":{width:34,height:34,x:68,y:740,pixelRatio:2,visible:!0},"tokyo-metro":{width:34,height:34,x:102,y:740,pixelRatio:2,visible:!0},"town-hall-11":{width:34,height:34,x:136,y:740,pixelRatio:2,visible:!0},"traffic-signal":{width:16,height:34,x:1002,y:638,pixelRatio:2,visible:!0},"veterinary-11":{width:34,height:34,x:170,y:740,pixelRatio:2,visible:!0},"viewpoint-11":{width:34,height:34,x:204,y:740,pixelRatio:2,visible:!0},"volcano-11":{width:34,height:34,x:238,y:740,pixelRatio:2,visible:!0},"volleyball-11":{width:34,height:34,x:272,y:740,pixelRatio:2,visible:!0},"washington-metro":{width:34,height:34,x:306,y:740,pixelRatio:2,visible:!0},"watch-11":{width:34,height:34,x:340,y:740,pixelRatio:2,visible:!0},"waterfall-11":{width:34,height:34,x:374,y:740,pixelRatio:2,visible:!0},"watermill-11":{width:34,height:34,x:408,y:740,pixelRatio:2,visible:!0},"windmill-11":{width:34,height:34,x:442,y:740,pixelRatio:2,visible:!0},"zoo-11":{width:34,height:34,x:476,y:740,pixelRatio:2,visible:!0},"ch-motorway-2":{width:44,height:32,x:510,y:740,pixelRatio:2,visible:!0},"ch-motorway-3":{width:56,height:32,x:554,y:740,pixelRatio:2,visible:!0},"de-motorway-2":{width:44,height:32,x:610,y:740,pixelRatio:2,visible:!0},"de-motorway-3":{width:56,height:32,x:654,y:740,pixelRatio:2,visible:!0},"gb-national-rail.london-dlr":{width:72,height:32,x:710,y:740,pixelRatio:2,visible:!0},"gb-national-rail.london-dlr.london-overground.london-tfl-rail.london-underground":{width:186,height:32,x:782,y:740,pixelRatio:2,visible:!0},"gb-national-rail.london-dlr.london-overground.london-underground":{width:148,height:32,x:0,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-dlr.london-underground":{width:110,height:32,x:148,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-overground":{width:72,height:32,x:258,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-overground.london-tfl-rail.london-underground":{width:148,height:32,x:330,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-overground.london-underground":{width:110,height:32,x:478,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-tfl-rail":{width:72,height:32,x:588,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-tfl-rail.london-overground":{width:110,height:32,x:660,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-tfl-rail.london-underground":{width:110,height:32,x:770,y:774,pixelRatio:2,visible:!0},"gb-national-rail.london-underground":{width:72,height:32,x:880,y:774,pixelRatio:2,visible:!0},"gr-motorway-2":{width:44,height:32,x:952,y:774,pixelRatio:2,visible:!0},"gr-motorway-3":{width:56,height:32,x:968,y:740,pixelRatio:2,visible:!0},"gr-motorway-4":{width:68,height:32,x:0,y:806,pixelRatio:2,visible:!0},"hr-motorway-3":{width:56,height:32,x:68,y:806,pixelRatio:2,visible:!0},"hr-motorway-4":{width:68,height:32,x:124,y:806,pixelRatio:2,visible:!0},"kr-metropolitan-2":{width:40,height:32,x:192,y:806,pixelRatio:2,visible:!0},"kr-metropolitan-3":{width:52,height:32,x:232,y:806,pixelRatio:2,visible:!0},"kr-metropolitan-4":{width:64,height:32,x:284,y:806,pixelRatio:2,visible:!0},"kr-metropolitan-5":{width:76,height:32,x:348,y:806,pixelRatio:2,visible:!0},"kr-metropolitan-6":{width:88,height:32,x:424,y:806,pixelRatio:2,visible:!0},"london-dlr":{width:40,height:32,x:512,y:806,pixelRatio:2,visible:!0},"london-dlr.london-tfl-rail":{width:78,height:32,x:552,y:806,pixelRatio:2,visible:!0},"london-dlr.london-tfl-rail.london-underground":{width:116,height:32,x:630,y:806,pixelRatio:2,visible:!0},"london-dlr.london-underground":{width:78,height:32,x:746,y:806,pixelRatio:2,visible:!0},"london-overground":{width:40,height:32,x:824,y:806,pixelRatio:2,visible:!0},"london-overground.london-tfl-rail":{width:78,height:32,x:864,y:806,pixelRatio:2,visible:!0},"london-overground.london-tfl-rail.london-underground":{width:116,height:32,x:0,y:838,pixelRatio:2,visible:!0},"london-overground.london-underground":{width:78,height:32,x:942,y:806,pixelRatio:2,visible:!0},"london-tfl-rail":{width:40,height:32,x:116,y:838,pixelRatio:2,visible:!0},"london-tfl-rail.london-underground":{width:78,height:32,x:156,y:838,pixelRatio:2,visible:!0},"london-underground":{width:40,height:32,x:234,y:838,pixelRatio:2,visible:!0},"si-motorway-2":{width:44,height:32,x:274,y:838,pixelRatio:2,visible:!0},wetland:{width:32,height:32,x:318,y:838,pixelRatio:2,visible:!0},"level-crossing":{width:30,height:30,x:350,y:838,pixelRatio:2,visible:!0},"default-2":{width:40,height:28,x:380,y:838,pixelRatio:2,visible:!0},"default-3":{width:52,height:28,x:420,y:838,pixelRatio:2,visible:!0},"default-4":{width:64,height:28,x:472,y:838,pixelRatio:2,visible:!0},"default-5":{width:76,height:28,x:536,y:838,pixelRatio:2,visible:!0},"default-6":{width:88,height:28,x:612,y:838,pixelRatio:2,visible:!0},"gb-national-rail":{width:34,height:28,x:700,y:838,pixelRatio:2,visible:!0},"motorway-exit-1":{width:40,height:28,x:734,y:838,pixelRatio:2,visible:!0},"motorway-exit-2":{width:40,height:28,x:774,y:838,pixelRatio:2,visible:!0},"motorway-exit-3":{width:52,height:28,x:814,y:838,pixelRatio:2,visible:!0},"motorway-exit-4":{width:64,height:28,x:866,y:838,pixelRatio:2,visible:!0},"motorway-exit-5":{width:76,height:28,x:930,y:838,pixelRatio:2,visible:!0},"motorway-exit-6":{width:88,height:28,x:0,y:870,pixelRatio:2,visible:!0},"motorway-exit-7":{width:100,height:28,x:88,y:870,pixelRatio:2,visible:!0},"motorway-exit-8":{width:112,height:28,x:188,y:870,pixelRatio:2,visible:!0},"motorway-exit-9":{width:124,height:28,x:300,y:870,pixelRatio:2,visible:!0},"rectangle-blue-2":{width:40,height:28,x:424,y:870,pixelRatio:2,visible:!0},"rectangle-blue-3":{width:52,height:28,x:464,y:870,pixelRatio:2,visible:!0},"rectangle-blue-4":{width:64,height:28,x:516,y:870,pixelRatio:2,visible:!0},"rectangle-green-2":{width:40,height:28,x:580,y:870,pixelRatio:2,visible:!0},"rectangle-green-3":{width:52,height:28,x:620,y:870,pixelRatio:2,visible:!0},"rectangle-green-4":{width:64,height:28,x:672,y:870,pixelRatio:2,visible:!0},"rectangle-green-5":{width:76,height:28,x:736,y:870,pixelRatio:2,visible:!0},"rectangle-green-6":{width:88,height:28,x:812,y:870,pixelRatio:2,visible:!0},"rectangle-red-2":{width:40,height:28,x:900,y:870,pixelRatio:2,visible:!0},"rectangle-red-3":{width:52,height:28,x:940,y:870,pixelRatio:2,visible:!0},"rectangle-red-4":{width:64,height:28,x:0,y:898,pixelRatio:2,visible:!0},"rectangle-white-2":{width:40,height:28,x:64,y:898,pixelRatio:2,visible:!0},"rectangle-white-3":{width:52,height:28,x:104,y:898,pixelRatio:2,visible:!0},"rectangle-white-4":{width:64,height:28,x:156,y:898,pixelRatio:2,visible:!0},"rectangle-white-5":{width:76,height:28,x:220,y:898,pixelRatio:2,visible:!0},"rectangle-white-6":{width:88,height:28,x:296,y:898,pixelRatio:2,visible:!0},"rectangle-yellow-2":{width:40,height:28,x:384,y:898,pixelRatio:2,visible:!0},"rectangle-yellow-3":{width:52,height:28,x:424,y:898,pixelRatio:2,visible:!0},"rectangle-yellow-4":{width:64,height:28,x:476,y:898,pixelRatio:2,visible:!0},"rectangle-yellow-5":{width:76,height:28,x:540,y:898,pixelRatio:2,visible:!0},"rectangle-yellow-6":{width:88,height:28,x:616,y:898,pixelRatio:2,visible:!0},"border-dot-13":{width:26,height:26,x:992,y:870,pixelRatio:2,visible:!0},"dot-10":{width:22,height:22,x:704,y:898,pixelRatio:2,visible:!0},"dot-11":{width:22,height:22,x:726,y:898,pixelRatio:2,visible:!0},"dot-9":{width:22,height:22,x:748,y:898,pixelRatio:2,visible:!0},cliff:{width:16,height:14,x:770,y:898,pixelRatio:2,visible:!0},"oneway-large":{width:28,height:12,x:786,y:898,pixelRatio:2,visible:!0},"oneway-white-large":{width:28,height:12,x:814,y:898,pixelRatio:2,visible:!0},"oneway-small":{width:22,height:10,x:842,y:898,pixelRatio:2,visible:!0},"oneway-white-small":{width:22,height:10,x:864,y:898,pixelRatio:2,visible:!0}},VU:{"Latin-1 Supplement":function(A){return 128<=A&&A<=255},Arabic:function(A){return 1536<=A&&A<=1791},"Arabic Supplement":function(A){return 1872<=A&&A<=1919},"Arabic Extended-A":function(A){return 2208<=A&&A<=2303},"Hangul Jamo":function(A){return 4352<=A&&A<=4607},"Unified Canadian Aboriginal Syllabics":function(A){return 5120<=A&&A<=5759},Khmer:function(A){return 6016<=A&&A<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(A){return 6320<=A&&A<=6399},"General Punctuation":function(A){return 8192<=A&&A<=8303},"Letterlike Symbols":function(A){return 8448<=A&&A<=8527},"Number Forms":function(A){return 8528<=A&&A<=8591},"Miscellaneous Technical":function(A){return 8960<=A&&A<=9215},"Control Pictures":function(A){return 9216<=A&&A<=9279},"Optical Character Recognition":function(A){return 9280<=A&&A<=9311},"Enclosed Alphanumerics":function(A){return 9312<=A&&A<=9471},"Geometric Shapes":function(A){return 9632<=A&&A<=9727},"Miscellaneous Symbols":function(A){return 9728<=A&&A<=9983},"Miscellaneous Symbols and Arrows":function(A){return 11008<=A&&A<=11263},"CJK Radicals Supplement":function(A){return 11904<=A&&A<=12031},"Kangxi Radicals":function(A){return 12032<=A&&A<=12255},"Ideographic Description Characters":function(A){return 12272<=A&&A<=12287},"CJK Symbols and Punctuation":function(A){return 12288<=A&&A<=12351},Hiragana:function(A){return 12352<=A&&A<=12447},Katakana:function(A){return 12448<=A&&A<=12543},Bopomofo:function(A){return 12544<=A&&A<=12591},"Hangul Compatibility Jamo":function(A){return 12592<=A&&A<=12687},Kanbun:function(A){return 12688<=A&&A<=12703},"Bopomofo Extended":function(A){return 12704<=A&&A<=12735},"CJK Strokes":function(A){return 12736<=A&&A<=12783},"Katakana Phonetic Extensions":function(A){return 12784<=A&&A<=12799},"Enclosed CJK Letters and Months":function(A){return 12800<=A&&A<=13055},"CJK Compatibility":function(A){return 13056<=A&&A<=13311},"CJK Unified Ideographs Extension A":function(A){return 13312<=A&&A<=19903},"Yijing Hexagram Symbols":function(A){return 19904<=A&&A<=19967},"CJK Unified Ideographs":function(A){return 19968<=A&&A<=40959},"Yi Syllables":function(A){return 40960<=A&&A<=42127},"Yi Radicals":function(A){return 42128<=A&&A<=42191},"Hangul Jamo Extended-A":function(A){return 43360<=A&&A<=43391},"Hangul Syllables":function(A){return 44032<=A&&A<=55215},"Hangul Jamo Extended-B":function(A){return 55216<=A&&A<=55295},"Private Use Area":function(A){return 57344<=A&&A<=63743},"CJK Compatibility Ideographs":function(A){return 63744<=A&&A<=64255},"Arabic Presentation Forms-A":function(A){return 64336<=A&&A<=65023},"Vertical Forms":function(A){return 65040<=A&&A<=65055},"CJK Compatibility Forms":function(A){return 65072<=A&&A<=65103},"Small Form Variants":function(A){return 65104<=A&&A<=65135},"Arabic Presentation Forms-B":function(A){return 65136<=A&&A<=65279},"Halfwidth and Fullwidth Forms":function(A){return 65280<=A&&A<=65519}},layers:[],styles:{},Mr:!0,Rr:function(A,i){var e,C=this;if(!A)return!1;e=A,this.styles.zr=[];for(var o=this,g=0,I=e.length;g<I;g+=1)!function(A){var t,B,g=e[A];g.zIndex=A,"line"===g.type&&(g.paint["line-width"]=void 0===g.paint["line-width"]?1:g.paint["line-width"]),g.paint["line-width"]&&(i=g.paint["line-width"],Q=0,g.paint["line-gap-width"]&&(Q=g.paint["line-gap-width"]),t=i,B=Q,o.styles.zr.push(i=function(g,i){var I=0;return B&&(I=C.HU(i,B,g)),g=C.HU(i,t,g),I?2*g+I:g}),g.paint["line-width"]=i,g.paint["line-width"].Cr=o.styles.zr.length-1,delete g.paint["line-gap-width"]);var i,I,Q=g["source-layer"];Q?(o.styles[Q]||(o.styles[Q]=[]),(i=g.filter)&&(g.filters=[],(I=function(A){if("all"!==A[0])"in"===A[0]||"!in"===A[0]?g.filters.push([A[0],A[1],A.slice(2)]):g.filters.push(A);else for(var i=1;i<A.length;i+=1)I(A[i])})(i)),o.styles[Q].push(g)):o.styles[g.id]=g}(g);this.backgroundColor=this.HU({},this.styles.land.paint["background-color"],12)},Ar:function(A,i,g,I){return I-=g,g=A-g,0==I?0:1===i?g/I:(Math.pow(i,g)-1)/(Math.pow(i,I)-1)},Sr:function(A,i,g){var I=i.base||1,t=i.stops;if(g<=t[0][0])return this.HU(A,t[0][1],g);if(g>=t[t.length-1][0])return this.HU(A,t[t.length-1][1],g);for(var B=1,Q=t.length;B<Q;B+=1)if(g>t[B-1][0]&&g<=t[B][0]){var C=this.HU(A,t[B-1][1],g),e=this.HU(A,t[B][1],g);if(C instanceof Array){for(var o=new Array(C.length),E=0;E<C.length;E+=1){var h=e[E]-C[E];o[E]=C[E]+this.Ar(g,I,t[B-1][0])*h}return o}return"number"!=typeof C?C:(h=e-C,C+this.Ar(g,I,t[B-1][0],t[B][0])*h)}},Lr:function(A,i){if(A){var g=void 0;if("string"==typeof A)g=A;else if(A.stops)for(var I=0,t=A.stops.length;I<t;I+=1){if(A.stops[I][0]>i){g=A.stops[I][1];break}g=A.stops[t-1][1]}else if("interpolate"===A[0]){for(var B=A.slice(3),Q=[],C=0;C<B.length;C+=2)Q.push([B[C],B[C+1]]);for(I=0,t=Q.length;I<t;I+=1){if(Q[I][0]>i){g=Q[I][1];break}g=Q[t-1][1]}}return g}},Tr:function(A,i){if(A){var g=void 0;if(A.stops)for(var I=0,t=A.stops.length;I<t;I+=1){if(A.stops[I][0]>i){g=A.stops[I][1];break}g=A.stops[t-1][1]}else g=A;return g}},Ir:function(A,i){var g;if(void 0===A)return 0;if("function"==typeof A)return A(i);if("number"!=typeof A){if(A.stops)g=this.Sr(A.base||1,A.stops,i);else if("interpolate"===A[0]){for(var I=A.slice(3),t=[],B=0;B<I.length;B+=2)t.push([I[B],I[B+1]]);g=this.Sr(1,t,i)}}else g=A;return g},Dr:function(A,i,g,I){var t;if(void 0===i)return i;i instanceof Array?t=i:i.stops&&(t=this.Sr(A,i,g));var B=new Array(t.length);return t.forEach(function(A,i){B[i]=A*I}),B},Pr:function(A,i,g){for(var I,t,B,Q,C,e,o,E,h,a,l,n,r,s="butt",w="butt",c="solid",y="solid",x=0,d=0,p=0;p<A.length;p+=1)"line"===A[p].type&&(void 0!==(B=A[p]).minzoom&&B.minzoom>i||void 0!==B.maxzoom&&B.maxzoom<i||(I=B.paint,t=B.layout,void 0===(B=I["line-opacity"])&&(B=1),(B=this.HU(g,B,i))&&(this.WU(A[p].id,"-low")?(Q=B,A[p].id,r=I["line-color"],C=this.HU(g,r,i),s=this.HU(g,t["line-cap"]||s,i),e=this.HU(g,I["line-width"],i),o=I["line-width"].Cr,this.Dr(g,I["line-dasharray"],i,e)&&(c="dashed"),d=Math.max(d,A[p].zIndex)):this.WU(A[p].id,"-case")||this.WU(A[p].id,"-tracks")?(E=!0,A[p].id,h=B,r=I["line-color"],a=this.HU(g,r,i),l=this.HU(g,I["line-width"],i),n=I["line-width"].Cr,w=this.HU(g,t["line-cap"]||w,i),this.Dr(g,I["line-dasharray"],i,l)&&(y="dashed"),x=Math.max(x,A[p].zIndex)):this.WU(A[p].id,"-bg")?(E=!0,A[p].id,h=B,r=I["line-color"],a=this.HU(g,r,i),w=this.HU(g,t["line-cap"]||w,i),l=this.HU(g,I["line-width"],i),n=I["line-width"].Cr,this.Dr(g,I["line-dasharray"],i,l)&&(y="dashed"),x=Math.max(x,A[p].zIndex)):(Q=B,A[p].id,r=I["line-color"],C=this.HU(g,r,i),s=this.HU(g,t["line-cap"]||s,i),e=this.HU(g,I["line-width"],i),o=I["line-width"].Cr,this.Dr(g,I["line-dasharray"],i,e)&&(c="dashed"),d=Math.max(d,A[p].zIndex)))));if(e)return{facezIndex:d,borderzIndex:x,faceStrokeStyle:c,faceOpacity:Q,faceDashArray:void 0,faceWidth:e,faceColor:C,faceLineCap:s,borderLineCap:w,isOutline:E,borderOpacity:h,borderStrokeStyle:y,borderDashArray:void 0,borderColor:a,borderWidth:l,faceWidthFunIndex:o,borderWidthFunIndex:n}},QU:function(A){return A instanceof Array&&-1<this.KU(["geometry-type","to-number","case","step","is-supported-script","concat","get","literal","match","interpolate","to-string","string","coalesce","has","+","==","!=",">","<",">=","<=","in","!in"],A[0])||"object"==typeof A&&A.stops},KU:function(A,i){if(!A||!A.length)return-1;if(A.indexOf)return A.indexOf(i);for(var g=0;g<A.length;g+=1)if(A[g]===i)return g;return-1},WU:function(A,i){return A.endsWith?A.endsWith(i):!(A.length<i.length)&&A.substr(A.length-i.length)===i},Vr:function(A,i,g){for(var I=0,t=0;t<A.length;t+=1){var B,Q,C,e,o,E,h=A[t];"line"===A[t].type?h.minzoom&&h.minzoom>i||(I=Math.max(I,h.zIndex),C=(o=h.paint)["line-color"],B=this.HU(g,C,i),Q=this.HU(g,o["line-width"],i),C=void 0===o["line-opacity"]?1:o["line-opacity"],e=this.HU(g,C,i)):"fill"===A[t].type&&(h.minzoom&&h.minzoom>i||(I=Math.max(I,h.zIndex),h=(o=h.paint)["fill-color"],E=this.HU(g,h,i)))}return{zIndex:I,fillColor:E,fillOpacity:1,strokeWeight:Q,strokeColor:B,strokeOpacity:e}},Xr:function(A,i,g){var I=A[0],t=I.paint,B=I.layout;if("symbol"===I.type){var Q=this.HU(g,t["text-color"],i),C=this.HU(g,t["text-halo-color"],i),e=this.HU(g,t["text-halo-width"],i),o=void 0===t["icon-opacity"]?1:t["icon-opacity"],E=this.HU(g,o,i),h=void 0===t["text-opacity"]?1:t["text-opacity"],a=this.HU(g,h,i),l=void 0,n=void 0;0===e&&(C=""),B["icon-image"]&&(l=this.HU(g,B["icon-image"],i),(s=this.kr[l])&&E&&(s.height,n=[-s.width/2,-s.height/2,s.width,s.height,s.x,s.y,s.width,s.height]));var r=this.HU(g,B["icon-rotation-alignment"],i),A=B["text-max-width"],o=this.HU(g,B["text-anchor"]||"center",i);(t=this.HU(g,B["text-font"],i)||"Microsoft YaHei")instanceof Array&&(t=t.join(" "));var h=B["text-offset"]?this.HU(g,B["text-offset"],i):[0,0],e=this.HU(g,B["text-size"],i),s="";return a&&B["text-field"]&&(s=this.HU(g,B["text-field"]||"{name}",i)),{zIndex:I.zIndex,Jr:r,Kr:Q||"black",Qr:C,th:(I.minzoom||1)+.5,ih:(I.maxzoom||20)+.5,eh:E,nh:l,qU:n,oh:A,textAnchor:o,ah:t,sh:h,rh:e,name:s}}},lh:function(A,i,g){var I=[],t=this.Pr(A,i,g);return t&&(t.type="line",I.push(t)),(g=this.uh(A,i,g)).length&&I.push.apply(I,g),I},uh:function(A,i,g){for(var I=[],t=0;t<A.length;t+=1){var B=this.Xr([A[t]],i,g);B&&I.push(B)}return I},YU:function(A,i,g){for(var I=1,t=i.length-1;I<t;I+=2)if(this.HU(A,i[I],g))return this.HU(A,i[I+1],g);return this.HU(A,i[i.length-1],g)},JU:function(A,i,g){var I=this.HU(A,i[1],g),t=this.HU(A,i[2],g);return[I,this.HU(A,i[3],g)].join(t)},ZU:function(A,i,g){var I=i[1],t=1;"exponential"===I[0]?t=I[1]:"linear"===I[0]&&(t=1);for(var B=i.slice(3),Q=[],C=0;C<B.length;C+=2)Q.push([B[C],B[C+1]]);return t=this.Sr(A,{base:t,stops:Q},g),this.HU(A,t,g)},XU:function(A,i,g){"zoom"===i[1][0]||"get"===i[1][0]&&(g=A.properties[i[1][1]]);for(var I=[],t=2,B=i.length;t<B;t+=2)I.push([parseFloat(i[t-1])||0,this.HU(A,i[t],g)]);if(g<I[0][0])return this.HU(A,I[0][1],g);if(g>=I[I.length-1][0])return this.HU(A,I[I.length-1][1],g);for(t=1,B=I.length;t<B;t+=1)if(g<=I[t][0])return this.HU(A,I[t-1][1],g)},tV:function(A,i,g){var I=this.HU(A,i[1],g);if(I){for(var t=2,B=i.length-1;t<B;t+=2)if(i[t]instanceof Array?-1!==this.KU(i[t],I):i[t]===I)return this.HU(A,i[t+1],g);return this.HU(A,i[i.length-1],g)}},HU:function(A,i,g){if(null==i)return null;var I=typeof i;if("number"==I||"boolean"==I)return i;if("function"==I)return i(g,A);if(!this.QU(i)){if("string"!=typeof i)return i;if(-1===this.KU(i,"{"))return i;for(var t,B=[],Q=0,C=0,e=i.length;C<e;C+=1)"{"===i[C]&&(Q=C),"}"===i[C]&&(t=C,B.push(i.substring(Q,t+1)));for(var o,C=0,e=B.length;C<e;C+=1){if(void 0===(o=A.properties[B[C].substring(1,B[C].length-1)]))return"";i=i.replace(B[C],o)}return i}if("literal"===i[0])return i[1];if(i.stops)return this.Sr(A,i,g);if("get"===i[0])return this.Hr&&"name"===i[1].substr(0,4)&&(A.properties["name_zh-Hant"]||A.properties["name_zh-Hans"])||A.properties[i[1]];if("to-number"===i[0])return parseFloat(this.HU(A,i[1],g));if("to-string"===i[0])return(o=this.HU(A,i[1],g))?o+"":"";if("string"===i[0])return(o=this.HU(A,i[1],g))?o+"":"";if("match"===i[0])return this.tV(A,i,g);if("case"===i[0])return this.YU(A,i,g);if("interpolate"===i[0])return this.ZU(A,i,g);if("concat"===i[0])return this.JU(A,i,g);if("step"===i[0])return this.XU(A,i,g);if("coalesce"!==i[0])return"+"===i[0]?this.HU(A,i[1],g)+this.HU(A,i[2],g):"has"===i[0]?void 0!==A.properties[i[1]]:"is-supported-script"===i[0]?this.iV(this.HU(A,i[1],g)):"=="===i[0]?this.HU(A,i[1],g)===this.HU(A,i[2],g):"!="===i[0]?this.HU(A,i[1],g)!==this.HU(A,i[2],g):">"===i[0]?this.HU(A,i[1],g)>this.HU(A,i[2],g):"<"===i[0]?this.HU(A,i[1],g)<this.HU(A,i[2],g):">="===i[0]?this.HU(A,i[1],g)>=this.HU(A,i[2],g):"<="===i[0]?this.HU(A,i[1],g)<=this.HU(A,i[2],g):"in"===i[0]?-1<this.KU(this.HU(A,i[2],g),this.HU(A,i[1],g)):"!in"===i[0]?-1===this.KU(this.HU(A,i[2],g),this.HU(A,i[1],g)):"geometry-type"===i[0]?3===A.type?"Polygon":2===A.type?"LineString":"Point":void 0;for(C=1;C<i.length;C+=1){var E=this.HU(A,i[C],g);if(E)return E}},eV:function(A,i){return!(!i&&(1424<=A&&A<=2303||this.VU["Arabic Presentation Forms-A"](A)||this.VU["Arabic Presentation Forms-B"](A))||2304<=A&&A<=3583||3840<=A&&A<=4255||this.VU.Khmer(A))},iV:function(A){if(!A)return!1;for(var i=0,g=A.length;i<g;i+=1){var I=A[i];if(!this.eV(I.charCodeAt(0),!1))return!1}return!0},getStyle:function(C,e,A,o){var i=C.type,E=(C.properties.class,C.properties.type,this),h=this.styles[e];if(h){var g=function(){for(var A=[],i=0,g=h.length;i<g;i+=1){var I=h[i];if(I.filters){for(var t=!0,B=0;B<I.filters.length;B+=1){var Q=I.filters[B];if(!E.HU(C,Q,o)){t=!1;break}}t&&A.push(I)}else I.id===e&&A.push(I)}return A}();if(g.length)return 1!==i?2===i?this.lh(g,o,C):3===i?this.Vr(g,o,C):void 0:this.Xr(g,o,C)}},fh:function(A,i){for(var g=1<<20-i.z,I=A.extent/256,t=0;t<A.style.length;t+=1){var B=A.style[t];if("line"!==B.type){var Q="";B.hh&&(Q=A.properties[B.hh]);for(var C=this.Mr,e=C?1.8*B.rh:B.rh,o=A.lines[0],E=1;E<A.lines.length;E+=1)o.length<A.lines[E].length&&(o=A.lines[E]);for(var h=[],a=0;a<o.length;a+=1){var l=[i.x*g*256+o[a][0]/I*g,256*i.y*g+o[a][1]/I*g];h.push(l)}var n=B.textAnchor;this._r.font=B.rh+"px "+B.ah;var r=this._r.measureText(Q).width,s=0,w=0,c=B.nh&&"viewport"===B.Jr;if(B.nh){var s=(-A.properties.dh||0)-100,y=polyfill.kS._S(h,polyfill.kS.distanceOfLine(h)/2)||[],x=y[2];"viewport"!==B.Jr&&1<h.length&&(w=360-(new polyfill.Pixel(h[x+1][0]-h[x][0],h[x+1][1]-h[x][1]).direction()||0)),h=[y[0],y[1]]}else{if(this.vh(o))continue;if(90<(d=new polyfill.Pixel(o[1][0]-o[0][0],o[1][1]-o[0][1]).direction()||0)&&d<270&&(h.reverse(),o.reverse()),s=-A.properties.dh-1e6,polyfill.kS.distanceOfLine(h)/g<1.5*r)continue}var p,d={margin:this.mh,foreign:!0,zIndex:B.zIndex,yh:w,rank:s,font:B.ah,Kr:B.Kr,Qr:B.Qr,rh:e,id:A.id,xh:h,name:Q,textAlign:"center",textBaseline:"center"===n?"middle":"top",bh:[],gh:new Array,wh:c,_h:!c,kh:!B.nh,th:B.th,Mh:!0,Rh:new Array,zh:!1,zoom:i.z};B.nh?(w=0,s=B.nh.replace("{maki}",A.properties.maki).replace("{shield}",A.properties.shield).replace("{reflen}",A.properties.reflen).replace("{network}",A.properties.network),(c=this.kr[s])&&B.eh&&(w=c.height,p=[-c.width/2,-c.height/2,c.width,c.height,c.x,c.y,c.width,c.height],d.gh.push(p)),Q&&(c=s=void 0,c="center"===n?(s=0,-e/2):s=t*(e+2)+w/2,d.Rh.push([Q,B.ah,e,B.Kr,B.Qr,0,0,!1,[0,s,C?1.8*r:r,e]]),d.gh.push(p=[-r/2,c,r,e])),(w||Q)&&(Q?d.id="mapbox_guideboard_"+polyfill.Util.stamp(d):(d.id="mapbox_singleway_"+polyfill.Util.stamp(d),d.zh=!0),i.labels.push(d))):Q&&(d.id="mapbox_roadname_"+polyfill.Util.stamp(d),i.labels.push(d))}}},Sh:function(A,i){var g=1<<20-i.z,I=A.extent/256,t=A.Ch.xh[0][0],B=A.properties[A.style.hh];if(B){var Q=this.Mr?2*A.style.rh:A.style.rh,g=[i.x*g*256+t[0]/I*g,256*i.y*g+t[1]/I*g],C=A.style.textAnchor,e={foreign:!0,margin:this.mh,zIndex:A.style.zIndex,rank:-A.properties.dh||0,id:A.id,xh:g,name:B,textAlign:"center",textBaseline:"center"===C?"middle":"top",bh:[],gh:new Array,yh:0,pos:[t[0]/I,t[1]/I],wh:!0,th:A.style.th,Mh:!0,Rh:new Array},o=0;A.style.nh&&(a=A.style.nh.replace("{maki}",A.properties.maki).replace("{shield}",A.properties.shield).replace("{reflen}",A.properties.reflen).replace("{network}",A.properties.network),(a=this.kr[a])&&A.style.eh&&(o=a.height,w=[-a.width/2,-a.height/2,a.width,a.height,a.x,a.y,a.width,a.height],e.gh=[w]));var E,a=B.indexOf("("),h=0<a?[B.substr(0,a),B.substr(a)]:20<B.length&&1<(E=B.split(" ")).length?(a=Math.floor(E.length/2),[E.slice(0,a).join(" "),E.slice(a).join(" ")]):[B];this._r.font=Q+"px "+A.style.ah;for(var l=0;l<h.length;l+=1){var n=h[l],r=this._r.measureText(n).width,s=void 0;e.Rh.push([n,A.style.ah,Q,A.style.Kr,A.style.Qr,0,0,!1,[0,s="center"===C?(-.5*h.length+l)*(Q+2):l*(Q+2)+o/2,r,Q]]);var w=[-r/2,s,r,Q];e.gh.push(w)}return i.labels.push(e),e}},Lh:function(A){var i,g=[],I=[];for(i in A.layers)if(A.layers.hasOwnProperty(i)){for(var t=A.layers[i],B=[],Q=0;Q<t.Ah.length;Q+=1)3==+(C=t.Ah[Q]).type?g.push(C):2==+C.type&&B.push(C);for(Q=0;Q<B.length;Q+=1){var C,e=(C=B[Q]).style;e.isOutline&&I.push([C,{zIndex:e.borderzIndex,Th:e.borderWidthFunIndex,strokeStyle:e.borderStrokeStyle,strokeOpacity:e.borderOpacity,strokeDasharray:e.borderDashArray,lineCap:e.borderLineCap,strokeWeight:e.borderWidth,strokeColor:e.borderColor}]),I.push([C,{zIndex:e.facezIndex,Th:e.faceWidthFunIndex,strokeStyle:e.faceStrokeStyle,strokeOpacity:e.faceOpacity,strokeDasharray:e.faceDashArray,lineCap:e.faceLineCap,strokeWeight:e.faceWidth,strokeColor:e.faceColor}])}}I.sort(function(A,i){return A[1].zIndex>i[1].zIndex?1:-1}),A.polygons=g,A.Dh=I,delete A.layers},Ph:function(A){A.type,A.lines},jh:function(A,i,g,I){this.mh=3;var t=i.vt;t.labels=[];var B,Q=[];for(B in t.layers)if(t.layers.hasOwnProperty(B)){var C=t.layers[B],e=C.Ah;Q.push(B);for(var o=0,E=e.length;o<E;o++){var h=e[o];h.Fh=C.name,h.style=this.getStyle(h,C.name,!0,t.z-1),h.style,this.Ph(h),h.style&&(1==+h.type||2==+h.type&&h.style.length&&(this.fh(h,t),"line"===h.style[0].type&&(h.style=h.style[0])))}}this.Lh(t),this.Eh||(this.Eh=!0),g.features=t.labels,t.labels=null,Q.length>this.layers.length&&(this.layers=Q),I(null,{vt:t})}},MapboxStyle=(Z5.prototype.getMapboxStyle=function(){return mbStyle},Z5);function Z5(A){var i=null,g="";A&&((A=A.KG)&&A.styles&&(i=JSON.parse(A.styles).layers),A&&A.vectorMapForeign&&(g=A.vectorMapForeign)),mbStyle.Rr(i,g)}var MapboxSourceWorker=(dg.prototype.YE=function(A){var i=polyfill.Util.getOptimalZoom(this.WW);A(this.sQ,{ZL:this.WW,optimalZoom:i,cb:function(){}}),this.sQ={}},dg.prototype.bw=function(A,t,B,Q,i,g,C){var e=this,o=new XMLHttpRequest;return o.onreadystatechange=function(){var A,i,g,I;4===o.readyState&&200===o.status&&(g=new polyfill.pw(new Uint8Array(o.response)),(I=new polyfill.tW(g)).nG("mapbox"),A=t.z,i=t.x,g=t.y,I.data={},I=e.Ow(I,{x:t.x,y:t.y,z:t.z,projectionId:B,tileSize:Q}),e.wQ(I),I.zo=new polyfill.ca(A,i,g),e.FQ(I),delete I.road,C(null,polyfill.Ln({zo:t},I)))},o.open("GET",A,!0),o.responseType="arraybuffer",o.send(),{cancel:function(){o.abort()}}},dg.prototype.wQ=function(A){A.stencil={};var i=new polyfill.fQ;A.stencil.Oc=i,A.stencil.Dc=new polyfill.K_,A=A.stencil.Dc.Nx(A.MQ),i.add({},A)},dg.prototype.Ow=function(g,A){var I=A.x,t=A.y,o=A.z,B=A.tileSize,E=A.projectionId;g.z=o,g.x=I,g.y=t,A=polyfill.ProjectionManager.getProjection(E).getResolution(o),A=polyfill.$Q(I,t,o,A,B),g.Ro=A,g.MQ=[A[0],A[1],A[2],A[1],A[2],A[3],A[0],A[3]],g.zS=polyfill.lcs.getLocalByCoord([g.Ro[0],g.Ro[1]]),g.localCoord=g.zS;for(var Q=Object.keys(g.layers),i=0;i<Q.length;i++)!function(A){var e=g.layers[Q[A]],i=e.Cw,A=e.extent;e.Ah=[],e.scale=B/A,e.ox=B*I,e.oy=B*t,polyfill.forEach(i,function(A,i){if((A=e.Gw(i)).Dw(),e.Ah.push(A),A.lines&&A.lines.length&&(2===A.type||3===A.type||1===A.type)){A.Rw=[];for(var g=0,I=A.lines.length;g<I;g++){for(var t=[],B=0,Q=A.lines[g].length;B<Q;B++){var C=[e.ox+e.scale*A.lines[g][B][0],e.oy+e.scale*A.lines[g][B][1]],C=[(C=polyfill.V[E].Xs(C[0],C[1],o))[0],C[1]];t.push(C)}A.Rw.push(t)}}})}(i);return this.uW(g,o),this.xw(g),this.zw(g),g},dg.prototype.uW=function(A,i){var g,I=[],t=[],B=[],Q=(this.kQ,null);for(g in this.parent&&this.parent.QG&&(Q=this.parent.QG),this.$h=new MapboxStyle({KG:Q}).getMapboxStyle(),A.bgColor=this.$h.backgroundColor,A.layers)if(A.layers.hasOwnProperty(g))for(var C=A.layers[g],e=0;e<C.Ah.length;e+=1){var o,E=C.Ah[e],h=this.$h.getStyle(E,C.name,!0,i);h&&(E.style=h,3===E.type?I.push(E):2===E.type?t.push(E):1!==E.type||(o=h.name)&&((E={name:o,position:E.Rw[0],id:E.id,minzoom:h.th,maxzoom:h.ih}).style=h,B.push(E)))}t.sort(function(A,i){return A.style&&i.style&&A.style.zIndex>i.style.zIndex?1:-1}),I.sort(function(A,i){return A.style&&i.style&&A.style.zIndex>i.style.zIndex?1:-1}),A.polygons=I,A.Dh=t,A.data.poilabel=((Q={})[A.z+","+A.x+","+A.y]=B,Q),delete A.layers},dg.prototype.startsWith=function(A,i){return A.startsWith?A.startsWith(i):A.substr(0,i.length)===i},dg.prototype.argbHex2Rgba=function(A){for(var i=[],g=0,I=A.length;g<I;g+=2)i.push(parseInt(A.substr(g,2),16)/255);return i.push(i.shift()),i},dg.prototype.uQ=function(A,i,g){return g<0&&(g+=1),1<g&&--g,g<1/6?A+6*(i-A)*g:g<.5?i:g<2/3?A+(i-A)*(2/3-g)*6:A},dg.prototype.GQ=function(A,i,g,I){var t,B,Q;return 0===i?t=B=Q=g:(t=this.uQ(i=2*g-(g=g<.5?g*(1+i):g+i-g*i),g,A+1/3),B=this.uQ(i,g,A),Q=this.uQ(i,g,A-1/3)),[t,B,Q,I]},dg.prototype.color2RgbaArray=function(A,i){if(void 0===i&&(i=1),!A)return null;var g=A.toString();if(this.yQ[g])return this.yQ[g];if(A instanceof Array)return A;if(this.startsWith(A,"hsla")){var I=A.substr(5).split(","),t=parseInt(I[0],10)/360,B=parseInt(I[1],10)/100,Q=parseInt(I[2],10)/100,C=parseFloat(I[3]),e=this.GQ(t,B,Q,C);return this.yQ[g]=e}return this.startsWith(A,"hsl")?(I=A.substr(4).split(","),t=parseInt(I[0],10)/360,B=parseInt(I[1],10)/100,Q=parseInt(I[2],10)/100,e=this.GQ(t,B,Q,i),this.yQ[g]=e):this.startsWith(A,"#")?7===A.length?(e=this.argbHex2Rgba("ff"+A.substr(1)),this.yQ[g]=e):9===A.length?(e=this.argbHex2Rgba(A.substr(1)),this.yQ[g]=e):void 0:this.startsWith(A,"rgba")?(I=A.substr(5).split(","),[parseInt(I[0],10)/255,parseInt(I[1],10)/255,parseInt(I[2],10)/255,C=parseFloat(I[3])]):this.startsWith(A,"rgb")?(I=A.substr(4).split(","),[parseInt(I[0],10)/255,parseInt(I[1],10)/255,parseInt(I[2],10)/255,C=1]):void 0},dg.prototype.zw=function(A){if(!A||!A.Dc){var i=new polyfill.fQ;A.Oc=i,A.Dc=new polyfill.K_;var g={fillColor:this.color2RgbaArray(A.bgColor),zIndex:0},I=A.Dc.Nx(A.MQ);i.add(g,I);for(var t=0,B=A.polygons;t<B.length;t++){var Q=B[t],C=Q.style;if(C&&C.fillColor){C.fillColor=this.color2RgbaArray(C.fillColor);var e=Q.Rw;if(1<e.length){for(var o=[],E=0;E<e.length;E++)polyfill.kS.isClockwise(e[E])?o.push([E]):o.length&&o[o.length-1].push(E);for(var h=0;h<o.length;h++){var a=o[h];if(1<a.length){for(var l=[],n=[],r=0;r<a.length;r++){var s=e[a[r]];0<r&&l.push(n.length/2);for(var w=0;w<s.length;w++){var c=s[w];n.push(c[0],c[1])}}var y=A.Dc.Nx(n,l);i.add(C,y)}else{for(n=[],s=e[a[0]],w=0;w<s.length;w++){var x=s[w];n.push(x[0],x[1])}y=A.Dc.Nx(n),i.add(C,y)}}}else{for(var d=e.length,n=[],p=0;p<d;p++){var D=e[p];if(0<D.length)for(w=0;w<D.length;w++)h=D[w],n.push(h[0],h[1])}Q=A.Dc.Nx(n),i.add(C,Q)}}}delete A.polygons}},dg.prototype.xw=function(A){if(!A||!A.$c){var i=[],g=this.kQ;A.$c=new polyfill.J_;var I=new polyfill.fQ;A.Uc=I;for(var t=0,B=A.Dh;t<B.length;t++){var Q=B[t],C=Q.Rw,e=C.length,o=0,E=0;Q.style&&Q.style[0]&&Q.style[0].borderColor&&(Q.style[0].borderColor=this.color2RgbaArray(Q.style[0].borderColor)),Q.style&&Q.style[0]&&Q.style[0].faceColor&&(Q.style[0].faceColor=this.color2RgbaArray(Q.style[0].faceColor));for(var a=(h=Q.style||[])[0],l=h[1],n=0;n<e;n++){var r=C[n];if(0<r.length){for(var s=[],w=0;w<r.length;w++){var c=r[w];s.push(c[0],c[1])}var y=A.$c.hb(s,{X_:0,lineJoin:"miter",lineCap:"round"});o+=y.Iw,E+=y.distance}}if(0<o&&(I.add(Q.style,o),Q.distance=E),a&&a.borderColor&&(Q.style[0].borderColor=this.color2RgbaArray(a.borderColor)),a&&a.faceColor&&(Q.style[0].faceColor=this.color2RgbaArray(a.faceColor)),l&&(h=l.name||"")){Q=l.Kr,a=l.Qr,Q&&!g[Q]&&(g[Q]=polyfill.Util.color2RgbaArray(Q)),a&&!g[a]&&(g[a]=polyfill.Util.color2RgbaArray(a)),l.Kr=g[Q],l.Qr=g[a];for(var h,x=(h={style:l,path:[],name:h,distance:E}).path,d=0;d<e;d++)for(var p=C[d],w=0;w<p.length;w++)c=p[w],x.push(c[0],c[1]);i.push(h)}}A.road=i,delete A.Dh}},dg.prototype.FQ=function(A){var i,g={};for(i in A)A.hasOwnProperty(i)&&"fillBucket"!==i&&"fillSegements"!==i&&"lineBucket"!==i&&"lineSegements"!==i&&(g[i]=A[i]);this.sQ[A.zo.key]={tile:g,params:{scale:this.parent.params.scale,tag:"all"}}},dg),_a$1;function dg(A){this.parent=A,this.id="mapbox",this.sQ={},this.yQ={},this.kQ={}}var mapBoxSprite="https://webapi.amap.com/style_icon/sprite_v8@2x.png",DefaultIconInfo=(_a$1={TW:{img:"https://vdata.amap.com/style_icon/2.0/icon-normal-big.png",width:512,height:1024,startX:0,startY:0,status:"loaded",type:"icon",ext:{hv:0}},RW:{img:"https://vdata.amap.com/style_icon/2.0/icon-biz-big.png",width:512,height:1024,startX:0,startY:1024,status:"loaded",type:"icon",ext:{hv:1}}},_a$1[mapBoxSprite]={img:mapBoxSprite,width:1024,height:926,startX:0,startY:2048,status:"loaded",type:"icon",ext:{hv:2}},_a$1),ImageManagerWorker=(b7=polyfill.Event,polyfill.Ei(c7,b7),c7.prototype.loadImage=function(A,i){var g=i.name,I=i.type,t=i.cb,B=g||A;(g=this.Fs[B])&&g.status===polyfill.uc.LOADED?t(g,i):g&&g.status===polyfill.uc.LOADING?(this.Mc[B]||(this.Mc[B]=[]),this.Mc[B].push({cb:t,opts:i})):("icon"===I&&(DefaultIconInfo[A]?i.hv=DefaultIconInfo[A].ext.hv:i.hv=this.Uw,this.Uw++),this.Rc(A,i))},c7.prototype.loadImages=function(A,i){var t=this,g=i.cb,B=i.type;if(0!==Object.keys(A).filter(function(A){return!t.Fs[A]}).length){var Q=[],C=[];if(A.length){for(var I=0,e=A;I<e.length;I++)!function(I){var A=new Promise(function(g,A){t.loadImage(I,{cb:function(A,i){C.push(t.Fs[I]),g()},type:B})});Q.push(A)}(e[I]);Promise.all(Q).then(function(){g(C)}).catch(function(){g(C)})}else g(C)}else g()},c7.prototype.Vw=function(A,i){var t=this,B=i.cb,Q=A.filter(function(A){return!t.Fs[A]});if(0!==Q.length){var g=[],C=[];if(A.length){for(var I=0,e=A;I<e.length;I++)!function(I){var A=new Promise(function(g,A){t.loadImage(I,{cb:function(A,i){C.push(t.Fs[I]),g()},type:"icon"})});g.push(A)}(e[I]);Promise.all(g).then(function(){var A=[];if(0<Q.length){for(var i=0,g=Q;i<g.length;i++){var I=g[i];A.push({url:I,data:t.getImage(I)})}t.emit("iconImageLoaded",{data:A})}B(C)}).catch(function(){B(C)})}else B(C)}else B([])},c7.prototype.getImage=function(A){return this.Fs[A=void 0===A?"":A]},c7.prototype.destory=function(){var A;this.Fs=((A={})[DefaultIconInfo.TW.img]=DefaultIconInfo.TW,A[DefaultIconInfo.RW.img]=DefaultIconInfo.RW,A)},c7.prototype.Rc=function(i,g){var I=this,t=g.name,A=g.ext,B=void 0===A?{}:A,Q=void 0===(A=g.type)?"other":A,C=g.cb,e=g.imageBitmap,o=this.Fs;o[t||i]={status:polyfill.uc.LOADING,startX:0,startY:1024*(g.hv||0),type:Q,height:0,width:0},polyfill.Yw.send(i,{Me:"arraybuffer",qw:function(A){e?(console.time("createImageBitmap"),createImageBitmap(new Blob([new Uint8Array(A)])).then(function(A){console.timeEnd("createImageBitmap"),A=new polyfill.WQ(i,A,{imageBitmap:!0}),I.qQ(t||i,A,C,g,Q,B)})):(A=new polyfill.WQ(i,A),I.qQ(t||i,A,C,g,Q,B))},Aw:function(A){console.log(A),o[A=t||i].status=polyfill.uc.ERROR,C(o[A],g)}})},c7.prototype.qQ=function(A,i,g,I,t,B){var Q=this.Fs;if("success"!==i.status)return console.error("createObjectURL fail"),Q[A].status=polyfill.uc.ERROR,void g(Q[A],I);if("icon"===t?(B.hv=I.hv,Q[A]=DefaultIconInfo[A]||{ext:B,type:t,startX:0,startY:1024*(I.hv||0),height:1024,width:512,status:polyfill.uc.LOADED},Q[A].data=i):Q[A]={ext:B,type:t,startX:0,startY:0,height:0,width:0,data:i,status:polyfill.uc.LOADED},g(Q[A],I),this.Mc[A]){for(var C=0,e=this.Mc[A];C<e.length;C++){var o=e[C];o.cb(Q[A],o.opts)}delete this.Mc[A]}},c7.prototype.Sc=function(A){var i,g=(A=void 0===A?{}:A).img,A=g&&g.context?(i=g.width||0,g.height||0):(i=A.width||0,A.height||0);return[i,A]},c7),b7;function c7(){var A,i=b7.call(this)||this;return i.Fs=((A={})[DefaultIconInfo.TW.img]=DefaultIconInfo.TW,A[DefaultIconInfo.RW.img]=DefaultIconInfo.RW,A),i.Cc=16,i.Uw=3,i.Hw={},i.Mc={},i}var Counter=(Ii=polyfill.Event,polyfill.Ei(Ji,Ii),Ji.prototype.TQ=function(){this.zQ+=1,this.zQ===this.OQ&&this.emit("count")},Ji.prototype.clear=function(){this.zQ=0},Ji),Ii,_a$2;function Ji(A){var i=Ii.call(this)||this;return i.OQ=A,i.zQ=0,i}var LabelFormatMap$1=(_a$2={},_a$2[polyfill.NebulaLabelFormat.id]=polyfill.NebulaLabelFormat,_a$2[polyfill.MapboxLabelFormat.id]=polyfill.MapboxLabelFormat,_a$2.nebula=polyfill.NebulaLabelFormat,_a$2),LabelWorker=(Mi=polyfill.Event,polyfill.Ei(Ni,Mi),Ni.prototype.iW=function(B,Q){var E=this;void 0===Q&&(Q={}),this.MW.ZL=Q.ZL||polyfill.zoomRange[1];var A,h=[],a=(Q.cb,this.parent.langForeign),l=this;for(A in B)!function(A){var C,i,g,I,e,t,o;B.hasOwnProperty(A)&&(I=(i=B[A]).tile,A=(g=i.params).scale,i=g.tag,h.push(i),g={vn:l.parent.vn},A=(g=new LabelFormatMap$1[Q.id](g)).Ns(I,{ZL:l.MW.ZL,zoom:I.zo.z,scale:A,lang:a,VQ:l.parent.QZ}),C=[[I,g,A,i]],A=Object.keys(g.Fs),i=Object.keys(g.Es),g=[I],I=Date.now(),e=[],t=Q.optimalZoom,(o=new Counter(2)).on("count",function(){E.parent.jQ.XQ(new LoadDynamicsTask(E.parent.vn,t,E.R_,E.z_,e,Q,function(A){E.emit("dynamicTextVerticeLoadedByTile",{data:A.data,id:Q.id})}),void 0,!0),E.parent.yY.setNeedUpdate(!0)},null,!0),l.R_.vW(i,{tiles:g,optimalZoom:t,tags:h,stamp:I,cb:function(A){for(var i=0,g=C;i<g.length;i++){var t=(I=g[i])[0],B=I[1],Q=I[2],I=I[3];e.push({tile:t,gW:B,SW:Q,tag:I})}o.TQ()}}),l.wW(A)?o.TQ():l.z_.Vw(A,{type:"icon",cb:function(){o.TQ()}}))}(A)},Ni.prototype.hW=function(A,i,g){var I=this;this.parent.jQ.XQ(new LoadDynamicsTask(this.parent.vn,this.MW.ZL,this.R_,this.z_,A,g,function(A){I.emit("dynamicTextVerticeLoadedByTile",{data:A.data,id:g.id})}),void 0,!0),this.parent.yY.setNeedUpdate(!0)},Ni.prototype.wW=function(A){for(var i=this.hD,g=0,I=0,t=A=void 0===A?[]:A;I<t.length;I++){var B=t[I];-1!==i.indexOf(B)&&g++}return g===A.length},Ni),Mi;function Ni(A){var i=Mi.call(this)||this;return i.parent=A,i.MW={},i.hD=["https://vdata.amap.com/style_icon/2.0/icon-normal-big.png","https://vdata.amap.com/style_icon/2.0/icon-biz-big.png"],i.z_=A.z_,i.R_=A.R_,i}var LoadDynamicsTask=(J8.prototype.play=function(A){for(var i=A,g=Date.now();0<i&&this.offset!==this.data.length;){var I,B=[],Q=this.data[this.offset],C=Q.tile,e=Q.SW,o=(Q.gW,Q.tag),E=Object.keys(e).length,h={},a=0;if(0!==E){for(var l in e)e.hasOwnProperty(l)&&(I=e[l],I=new polyfill.eG({R_:this.R_,z_:this.z_}).Ns(I,{ZL:this.ZL,zoom:C.zo.z,from:"inner",center:C.localCoord.center}),h[l]=new polyfill.La(C.zo,I),++a===E&&(I=this.hQ(C,this.ZL),B.push({data:h,XE:I,tag:o})));this.offset++,this.cb({data:B}),i=A-(Date.now()-g)}else B.push({data:C.zo})}return this.offset,this.data.length,this.result},Object.defineProperty(J8.prototype,"status",{get:function(){return this.offset>=this.data.length?polyfill.vY.finish:polyfill.vY.pause},eb:!1,nb:!0}),J8.prototype.hQ=function(A,i){if(A)for(var g=this.SQ(A)||[],I=0,t=g=new LabelFormatMap$1[A.type]({vn:this.vn}).DQ(g,{zoom:i});I<t.length;I++){var B=t[I],Q=B.CO;B.EG||(B.EG={});for(var C=0,e=Q;C<e.length;C++){var o=e[C],E=this.R_.mz(o);B.EG[o]=E}}return g},J8.prototype.SQ=function(A){return A.data&&A.data.roadName||A.road},J8);function J8(A,i,g,I,t,B,Q){this.vn=A,this.ZL=i,this.R_=g,this.z_=I,this.data=t,this.params=B,this.cb=Q,this.type="LoadDynamicsTask",this.offset=0,this.result=[]}var InnerLabelsSourceWorker=(uj.prototype.loadData=function(t,B){var Q=this,A=t.id===polyfill.n0.nebulaLabel?polyfill.n0.nebula:t.id;(A=this.parent.dQ(A))&&A.YE?A.YE(function(A,i){i.GW;var g=i.cb,I=i.ZL,i=i.optimalZoom;polyfill.isEmpty(A)?B&&B({}):Q.parent.yw.iW(A,{ZL:I,optimalZoom:i,id:t.id,cb:function(A){B(A),g&&g()}})},t):B&&B({})},uj),StaticSourceID,Ij,EnumTextureIndex,Jj,ImageStatus,Kj;function uj(A){this.parent=A,this.Mf=A.R_,this.ac=A.z_}Ij=StaticSourceID=StaticSourceID||{},Ij.nebula="nebula",Ij.nebulaLabel="nebulaLabel",Jj=EnumTextureIndex=EnumTextureIndex||{},Jj[Jj.dynamic=0]="dynamic",Jj[Jj.icon=1]="icon",Kj=ImageStatus=ImageStatus||{},Kj.BLOB="blob",Kj.TOLOAD="toload",Kj.LOADING="loading",Kj.LOADED="loaded",Kj.UNLOADED="unloaded",Kj.ERROR="error",Kj.RELOADING="reloading",Kj.UNCOMBINED="uncombined",Kj.COMBINING="combining",Kj.COMBINED="combined";var noop=function(A){},XHR={send:function(A,i){void 0===i&&(i={});var g=new XMLHttpRequest,t=void 0===(I=i.qw)?noop:I,Q=void 0===(B=i.Aw)?noop:B,I=i.Me,B=i.method,i=i.content;return g.onreadystatechange=function(){if(4===g.readyState&&200===g.status){var A=g.response;try{t(A)}catch(A){Q(A)}}else 404===g.status&&(g.abort(),Q(Error("404")))},g.onerror=function(A){g.abort(),Q(A)},g.open(B||"GET",A,!0),g.responseType=I||"json",g.send(i||void 0),g}};function parserFunc(A){var Y={TS:function(){this.PS=0}};Y.TS.prototype.create=function(A){this.OS&&this.PS===A||(this.OS=[]),this.PS=A,this.FS=0,this.BS=0},Y.TS.prototype.flush=function(){var A=this.FS-this.BS;if(0!==A){for(;A--;)this.ES.jS(this.OS[this.BS++]);this.FS>=this.PS&&(this.FS=0),this.BS=this.FS}},Y.TS.prototype.NS=function(){this.flush(),this.ES=null},Y.TS.prototype.US=function(A){this.NS(),this.ES=A},Y.TS.prototype.init=function(A){A||(this.BS=0,this.FS=0)},Y.TS.prototype.WS=function(A,i){var g=this.FS-A-1;for(g<0&&(g+=this.PS);i--;)g>=this.PS&&(g=0),this.OS[this.FS++]=this.OS[g++],this.FS>=this.PS&&this.flush()},Y.TS.prototype.GS=function(A){this.OS[this.FS++]=A,this.FS>=this.PS&&this.flush()},Y.TS.prototype.HS=function(A){return(A=this.FS-A-1)<0&&(A+=this.PS),this.OS[A]},Y.VS=function(){},Y.VS.prototype.US=function(A){this.ES=A},Y.VS.prototype.NS=function(){this.ES=null},Y.VS.prototype.init=function(){var A=5;for(this.ZS=0,this.YS=-1;A--;)this.ZS=this.ZS<<8|this.ES.JS()},Y.VS.prototype.XS=function(A){for(var i,g=0,I=A;I--;)this.YS>>>=1,i=this.ZS-this.YS>>>31,this.ZS-=this.YS&i-1,g=g<<1|1-i,0==(4278190080&this.YS)&&(this.ZS=this.ZS<<8|this.ES.JS(),this.YS<<=8);return g},Y.VS.prototype.qS=function(A,i){var g=A[i],I=(this.YS>>>11)*g;return(2147483648^this.ZS)<(2147483648^I)?(this.YS=I,A[i]+=2048-g>>>5,0==(4278190080&this.YS)&&(this.ZS=this.ZS<<8|this.ES.JS(),this.YS<<=8),0):(this.YS-=I,this.ZS-=I,A[i]-=g>>>5,0==(4278190080&this.YS)&&(this.ZS=this.ZS<<8|this.ES.JS(),this.YS<<=8),1)},Y.QS=function(A,i){for(;i--;)A[i]=1024},Y.KS=function(A){this.tR=[],this.iR=A},Y.KS.prototype.init=function(){Y.QS(this.tR,1<<this.iR)},Y.KS.prototype.decode=function(A){for(var i=1,g=this.iR;g--;)i=i<<1|A.qS(this.tR,i);return i-(1<<this.iR)},Y.KS.prototype.eR=function(A){for(var i,g=1,I=0,t=0;t<this.iR;++t)g=g<<1|(i=A.qS(this.tR,g)),I|=i<<t;return I},Y.nR=function(A,i,g,I){for(var t,B=1,Q=0,C=0;C<I;++C)B=B<<1|(t=g.qS(A,i+B)),Q|=t<<C;return Q},Y.oR=function(){this.rR=[],this.aR=[],this.sR=[],this.hR=new Y.KS(8),this.lR=0},Y.oR.prototype.create=function(A){for(;this.lR<A;++this.lR)this.aR[this.lR]=new Y.KS(3),this.sR[this.lR]=new Y.KS(3)},Y.oR.prototype.init=function(){var A=this.lR;for(Y.QS(this.rR,2);A--;)this.aR[A].init(),this.sR[A].init();this.hR.init()},Y.oR.prototype.decode=function(A,i){return 0===A.qS(this.rR,0)?this.aR[i].decode(A):0===A.qS(this.rR,1)?8+this.sR[i].decode(A):16+this.hR.decode(A)},Y.fR=function(){this.uR=[]},Y.fR.prototype.init=function(){Y.QS(this.uR,768)},Y.fR.prototype.cR=function(A){for(var i=1;(i=i<<1|A.qS(this.uR,i))<256;);return 255&i},Y.fR.prototype.dR=function(A,i){var g,I,t=1;do{if(g=i>>7&1,i<<=1,t=t<<1|(I=A.qS(this.uR,(1+g<<8)+t)),g!==I){for(;t<256;)t=t<<1|A.qS(this.uR,t);break}}while(t<256);return 255&t},Y.pR=function(){},Y.pR.prototype.create=function(A,i){var g;if(!this.vR||this.mR!==i||this.yR!==A)for(this.yR=A,this.xR=(1<<A)-1,this.mR=i,this.vR=[],g=1<<this.mR+this.yR;g--;)this.vR[g]=new Y.fR},Y.pR.prototype.init=function(){for(var A=1<<this.mR+this.yR;A--;)this.vR[A].init()},Y.pR.prototype.bR=function(A,i){return this.vR[((A&this.xR)<<this.mR)+((255&i)>>>8-this.mR)]},Y.gR=function(){this.wR=new Y.TS,this._R=new Y.VS,this.kR=[],this.MR=[],this.SR=[],this.RR=[],this.zR=[],this.CR=[],this.AR=[],this.IR=[],this.$R=new Y.KS(4),this.LR=new Y.oR,this.DR=new Y.oR,this.TR=new Y.pR,this.PR=-1,this.OR=-1,this.AR[0]=new Y.KS(6),this.AR[1]=new Y.KS(6),this.AR[2]=new Y.KS(6),this.AR[3]=new Y.KS(6)},Y.gR.prototype.FR=function(A){return!(A<0||(this.PR!==A&&(this.PR=A,this.OR=Math.max(this.PR,1),this.wR.create(Math.max(this.OR,4096))),0))},Y.gR.prototype.BR=function(A,i,g){var I=1<<g;return!(8<A||4<i||4<g||(this.TR.create(i,A),this.LR.create(I),this.DR.create(I),this.jR=I-1,0))},Y.gR.prototype.init=function(){var A=4;for(this.wR.init(!1),Y.QS(this.kR,192),Y.QS(this.CR,192),Y.QS(this.MR,12),Y.QS(this.SR,12),Y.QS(this.RR,12),Y.QS(this.zR,12),Y.QS(this.IR,114),this.TR.init();A--;)this.AR[A].init();this.LR.init(),this.DR.init(),this.$R.init(),this._R.init()},Y.gR.prototype.decode=function(A,i,g){var I,t,B,Q,C=0,e=0,o=0,E=0,h=0,a=0,l=0;for(this._R.US(A),this.wR.US(i),this.init();g<0||a<g;)if(Q=a&this.jR,0===this._R.qS(this.kR,(C<<4)+Q))B=this.TR.bR(a++,l),l=7<=C?B.dR(this._R,this.wR.HS(e)):B.cR(this._R),this.wR.GS(l),C=C<4?0:C-(C<10?3:6);else{if(1===this._R.qS(this.MR,C))(I=0)===this._R.qS(this.SR,C)?0===this._R.qS(this.CR,(C<<4)+Q)&&(C=C<7?9:11,I=1):(0===this._R.qS(this.RR,C)?t=o:(0===this._R.qS(this.zR,C)?t=E:(t=h,h=E),E=o),o=e,e=t),0===I&&(I=2+this.DR.decode(this._R,Q),C=C<7?8:11);else if(h=E,E=o,o=e,I=2+this.LR.decode(this._R,Q),C=C<7?7:10,4<=(B=this.AR[I<=5?I-2:3].decode(this._R))){if(e=(2|1&B)<<(Q=(B>>1)-1),B<14)e+=Y.nR(this.IR,e-B-1,this._R,Q);else if(e+=this._R.XS(Q-4)<<4,(e+=this.$R.eR(this._R))<0){if(-1===e)break;return!1}}else e=B;if(a<=e||e>=this.OR)return!1;this.wR.WS(e,I),a+=I,l=this.wR.HS(0)}return this.wR.flush(),this.wR.NS(),this._R.NS(),!0},Y.gR.prototype.ER=function(A){var i;return!(A.size<5)&&(i=A.JS(),!!this.BR(i%9,(i=~~(i/9))%5,~~(i/5))&&(i=A.JS(),i|=A.JS()<<8,i|=A.JS()<<16,i+=16777216*A.JS(),this.FR(i)))},Y.NR=function(A,i){var g,I=new Y.gR;if(!I.ER(A))throw new Error("Incorrect stream properties");if(g=A.JS(),g|=A.JS()<<8,g|=A.JS()<<16,g+=16777216*A.JS(),A.JS(),A.JS(),A.JS(),A.JS(),!I.decode(A,i,g))throw new Error("Error in data stream");return!0};var mA=1e-9;function qA(A,i,g){return function(A){for(var B,Q,g=0,I="",t=0,g=0;g<A.length;)(B=A[g])>>>7==0?("0"!==(Q=String.fromCharCode(A[g])).charCodeAt(0).toString(16)&&(I+=Q),g+=1):252==(252&B)?(t=(3&A[g])<<30,t|=(63&A[g+1])<<24,t|=(63&A[g+2])<<18,t|=(63&A[g+3])<<12,t|=(63&A[g+4])<<6,t|=63&A[g+5],I+=String.fromCharCode(t),g+=6):248==(248&B)?(t=(7&A[g])<<24,t|=(63&A[g+1])<<18,t|=(63&A[g+2])<<12,t|=(63&A[g+3])<<6,t|=63&A[g+4],I+=String.fromCharCode(t),g+=5):240==(240&B)?(t=(15&A[g])<<18,t|=(63&A[g+1])<<12,t|=(63&A[g+2])<<6,t|=63&A[g+3],I+=String.fromCharCode(t),g+=4):224==(224&B)?(t=(31&A[g])<<12,t|=(63&A[g+1])<<6,t|=63&A[g+2],I+=String.fromCharCode(t),g+=3):192==(192&B)?(t=(63&A[g])<<6,t|=63&A[g+1],I+=String.fromCharCode(t),g+=2):("0"!==(Q=String.fromCharCode(A[g])).charCodeAt(0).toString(16)&&(I+=Q),g+=1);return I.trim()}(A.subarray(i,g))}var I=new RegExp("^[+\\-]?[0-1]*[.]?[0-1]*$","gi");function ZA(A,i){A=A.toString(),i=i.toString(),A=new Array(32-A.length+1).join("0")+A,i=new Array(32-i.length+1).join("0")+i;var g=I;return g.lastIndex=0,(A=(i+A).toString().match(g))?(g=-1===A[g=0].indexOf(".")?parseInt(A,2):g).toString(36).toUpperCase():"error"}A.getUnifyJson=function(A){var i=[];if(!(A instanceof ArrayBuffer)){var g={status:3,building:{},floor:{},id:""};return i.push(g),i}var I=new DataView(A),t=0,B=I.getInt16(t+=4,!1);t+=2;try{for(;0<B;){t+=4;var Q=I.getUint8(t);t+=1;for(var C=new ArrayBuffer(Q),e=new Uint8Array(C),o=0;o<Q;o++)e[o]=I.getUint8(t),t+=1;var E=qA(e,0,Q);t+=2;var h=I.getInt8(t);t+=1,0!==h&&((g={}).status=h,g.building={},g.floor={},g.id=E,i.push(g));var a=I.getInt32(t,!1);t+=4;var l=I.getInt32(t,!0);t+=4;var n=a-l;if(0!==l){for(var r=2078870821,s=8*Math.ceil(l/8),w=l%8,c=new ArrayBuffer(s),y=new Int32Array(c),x=0;8<=l;){var d=I.getInt32(t,!0),p=I.getInt32(t+4,!0),D=d^r,f=292664^p;y[x]=D,y[x+1]=f,x+=2,t+=8,l-=8}0!==l&&(d=I.getInt32(t,!0),p=I.getInt32(t+4,!0),D=d^r,f=292664^p,y[x]=D,y[x+1]=f,t+=l);for(var R=new Uint8Array(c),v=R.length,u=v-8+w,G=new Uint8Array(u),o=0;o<u;o++)G[o]=R[o];for(o=0;o<w;o++)G[u-w+o]=R[v-1-o];var S={data:G,offset:0,JS:function(){return this.data[this.offset++]}},b={data:[],offset:0,jS:function(A){this.data[this.offset++]=A}};Y.NR(S,b);for(var F=b.data,u=F.length,k=new ArrayBuffer(u),M=new Int8Array(k),o=0;o<u;o++)M[o]=F[o];(g=function(A){var i={},g={},I=new Uint8Array(A),t=new DataView(A),B=0;B+=4;var Q=t.getInt32(B+=4,!0);B+=4,B+=4,B+=4+(C=t.getInt32(B,!0));var E=ZA(e=t.getUint32(B+=4,!0).toString(2),o=t.getUint32(B+4,!0).toString(2)),h=qA(I,B+=8,B+64),a=qA(I,B+=64,B+64),l=t.getInt8(B+=64),n=qA(I,B+=1,B+8),r=t.getInt16(B+=8,!0),s=t.getInt16(B+2,!0),w=t.getFloat32(B+=4,!0),c=t.getFloat32(B+4,!0);A=t.getFloat32(B+=8,!0);var C=t.getFloat32(B+4,!0),e=t.getFloat32(B+=8,!0),o=t.getFloat32(B+4,!0),y=t.getInt32(B+=8,!0),x=t.getInt32(B+=4,!0),d=t.getInt32(B+=4,!0);B+=4;for(var p=[],D=0;D<y;D++)p.push(t.getInt32(B,!0)),B+=4;for(var f=[],D=0;D<d;D++)f.push(t.getInt32(B,!0)),B+=4;for(var R=[],D=0;D<y;D++){var v=qA(I,B,B+48);R.push(v),B+=48}for(var u=[],D=0;D<y;D++){var G=qA(I,B,B+8);u.push(G),B+=8}for(var S=[],D=0;D<x;D++){var b=t.getInt32(B,!0)*mA+c,F=t.getInt32(B+4,!0)*mA+w;S.push([b,F]),B+=8}e={type:"Feature",geometry:{type:"Polygon",coordinates:[S]},properties:{pid:E,name_cn:h,name_en:a,default_floor:l,buildingtype:n,building_poi_style:[r,s],centerPoint:[c,w],left_bottom_Point:[A,C],width:e,height:o,numberofFloor:y,numberofGeoPoints:x,park_floor_count:d,floor_indexs:p,park_floors:f,floor_names:R,floor_nonas:u}};for(var k=0;k<Q;k++){var M=qA(I,B,B+8);B+=8;var Y=t.getInt8(B);B+=1,g[Y]={floor:{},shops:[],pubs:[],cons:[]};var N=t.getInt16(B,!0),J=t.getInt16(B+2,!0);B+=4;var U=t.getInt16(B,!0),L=t.getInt16(B+2,!0);B+=4;var H=t.getInt16(B,!0),K=t.getInt16(B+2,!0);B+=4;var m=t.getInt32(B,!0);B+=4;var q=t.getInt32(B,!0);B+=4;var Z=t.getInt32(B,!0);B+=4;var W=t.getInt32(B,!0);B+=4;for(var j=[],X=0;X<W;X++){var z=t.getInt32(B,!0);B+=4;for(var T=[],O=0;O<z;O++)b=t.getInt32(B,!0)*mA+c,F=t.getInt32(B+4,!0)*mA+w,T.push([b,F]),B+=8;j.push(T)}var V="Polygon",P=j[0];1<W&&(V="MultiPolygon",P=j),g[Y].floor={type:"Feature",geometry:{type:V,coordinates:[P]},properties:{namecode:M,index:Y,floor_region_type:[N,J],unhighlighted_floor_line_style:[U,L],highlighted_floor_line_style:[H,K],numberofShopCount:m,numberofPubCount:q,numberofConCount:Z,floor_area_count:W}};for(var _=[],$=0;$<m;$++){var AA=qA(I,B,B+128);B+=128;var iA,gA,IA=ZA(iA=t.getUint32(B,!0).toString(2),gA=t.getUint32(B+4,!0).toString(2)),tA=qA(I,B+=8,B+24),BA=qA(I,B+=24,B+12);B+=12;var QA=t.getInt32(B,!0);B+=4;var CA=t.getFloat32(B,!0);B+=4;var eA=t.getInt8(B);B+=1;var oA=t.getInt16(B,!0),EA=t.getInt16(B+2,!0);B+=4;var hA=t.getInt16(B,!0),aA=t.getInt16(B+2,!0);B+=4,iA=t.getInt32(B,!0)*mA+c,gA=t.getInt32(B+4,!0)*mA+w,B+=8;var lA=t.getInt32(B,!0);B+=4;for(var nA=[],X=0;X<lA;X++)b=t.getInt32(B,!0)*mA+c,F=t.getInt32(B+4,!0)*mA+w,nA.push([b,F]),B+=8;_.push(gA={type:"Feature",geometry:{type:"Polygon",coordinates:[nA]},properties:{name:AA,pid:IA,cpid:tA,logo:BA,area:QA,rank:CA,height:eA,poitype:[oA,EA],regiontype:[hA,aA],font_anthor_point:[iA,gA],shop_point_number:lA}})}g[Y].shops=_;for(var rA=[],sA=0;sA<q;sA++){var wA=qA(I,B,B+24);B+=24;var cA,yA,xA=ZA(cA=t.getUint32(B,!0).toString(2),yA=t.getUint32(B+4,!0).toString(2)),dA=qA(I,B+=8,B+48);B+=48;var pA=t.getFloat32(B,!0);B+=4,cA=t.getInt16(B,!0),yA=t.getInt16(B+2,!0),B+=4,b=t.getInt32(B,!0)*mA+c,F=t.getInt32(B+4,!0)*mA+w,B+=8,rA.push(yA={type:"Feature",geometry:{type:"Point",coordinates:[b,F]},properties:{cpid:wA,pid:xA,name:dA,rank:pA,poitype:[cA,yA]}})}g[Y].pubs=rA;for(var DA=[],fA=0;fA<Z;fA++){var RA=qA(I,B,B+24);B+=24;var vA,uA,GA=ZA(vA=t.getUint32(B,!0).toString(2),uA=t.getUint32(B+4,!0).toString(2)),SA=qA(I,B+=8,B+48);B+=48;var bA=t.getFloat32(B,!0);B+=4,vA=t.getInt16(B,!0),uA=t.getInt16(B+2,!0),B+=4,b=t.getInt32(B,!0)*mA+c,F=t.getInt32(B+4,!0)*mA+w,B+=8,DA.push(uA={type:"Feature",geometry:{type:"Point",coordinates:[b,F]},properties:{cpid:RA,pid:GA,name:SA,rank:bA,poitype:[vA,uA]}})}g[Y].cons=DA}o=t.getInt32(B+=4,!0);var FA=t.getInt32(B+=4+o,!0);B+=4;for(var kA=[],D=0;D<FA;D++)b=t.getInt32(B,!0)*mA+c,F=t.getInt32(B+4,!0)*mA+w,kA.push([b,F]),B+=8;e.properties.outside_outline=kA;var MA,YA={};for(MA in g)if(g.hasOwnProperty(MA)){for(YA.floor=g[MA].floor,O=0;O<g[MA].shops.length;O++){var NA=t.getInt16(B,!0);B+=2;var JA=t.getInt16(B,!0);B+=2,g[MA].shops[O].properties.zoom_min=NA,g[MA].shops[O].properties.zoom_max=JA}for(YA.shops=g[MA].shops,O=0;O<g[MA].pubs.length;O++){var UA=t.getInt16(B,!0);B+=2;var LA=t.getInt16(B,!0);B+=2,g[MA].pubs[O].properties.zoom_min=UA,g[MA].pubs[O].properties.zoom_max=LA}for(YA.pubs=g[MA].pubs,O=0;O<g[MA].cons.length;O++){var HA=t.getInt16(B,!0);B+=2;var KA=t.getInt16(B,!0);B+=2,g[MA].cons[O].properties.zoom_min=HA,g[MA].cons[O].properties.zoom_max=KA}YA.cons=g[MA].cons,i.floor=YA}return o=t.getInt32(B+=4,!0),o=t.getInt8(B+=4+o),B+=1,e.properties.UR=o,i.building=e,i}(k)).status=h,g.id=E,i.push(g)}t+=n,--B}}catch(A){}return i}}var obj={WR:parserFunc};parserFunc(obj);var IndoorMapBinDataParser=obj,OverlayWorker=(Un.prototype.setPathWebgl=function(A,i){try{for(var g=new polyfill.K_,I=new polyfill.J_,t=new polyfill.oE,B=new polyfill.oE,Q=A.data,C=this.EW(Q[0][0][0]),e=0,o=Q;e<o.length;e++){for(var E=o[e],h=C.center,a=[],l=[],n=E[0],r=[],s=[],w=[],c=0,y=n;c<y.length;c++){var x=y[c],d=polyfill.ProjectionManager.getProjection("EPSG:3857").project(x[0],x[1]);a.push(d[0]-h[0],d[1]-h[1]),l.push(x)}for(var p=1,D=E.length;p<D;p++){for(var f=E[p],R=[],v=[],u=0,G=f;u<G.length;u++)x=G[u],polyfill.Bs(x)?(R.push(x.pos[0]-h[0],x.pos[1]-h[1]),v.push(x.toJSON())):(d=polyfill.ProjectionManager.getProjection("EPSG:3857").project(x[0],x[1]),R.push(d[0]-h[0],d[1]-h[1]),v.push(x));r.push(R),s.push(v)}for(var S=[],p=0,D=a.length;p<D;p+=2)S.push(polyfill.xd(a[p],a[p+1]));polyfill.equals(S[0],S[S.length-1])||S.push(polyfill.Ex(S[0]));for(var b=a.length,p=0;p<r.length;p++)w.push(b/2),b+=r[p].length,polyfill.Util.Ig(a,r[p]);var F=g.Nx(a,w);t.add(F);for(var k=I.Nx(S,{lineJoin:"miter"}).Iw,p=0;p<r.length;p++){for(var R=r[p],M=[],Y=0,D=R.length;Y<D;Y+=2)M.push(polyfill.xd(R[Y],R[Y+1]));M.push(polyfill.xd(R[0],R[1])),k+=I.Nx(M,{lineJoin:"miter"}).Iw}B.add(k)}i(null,{$c:I,Dc:g,Sx:C,Oc:t,Uc:B})}catch(A){i(A.message)}},Un.prototype.AW=function(A,i){try{var g={},I=IndoorMapBinDataParser.getUnifyJson(A);if(!I)return!1;for(var t,B,Q,C,e,o,E,h=0;h<I.length;h++)0===I[h].status&&(B=(t=I[h]).floor,Q=t.building,C=t.status,e=t.id,o=B.floor.properties.index,g[e]||(g[e]={}),g[e].building=Q,g[e].data||(g[e].data={}),E={floor:B,status:C,id:e,building:Q},g[e].data[o]=E);i(null,g)}catch(A){i(A.message,null)}},Un.prototype.EW=function(A){if(A)return A=polyfill.Bs(A)?polyfill.ProjectionManager.getProjection("EPSG:3857").project(A.KL,A.kT):polyfill.ProjectionManager.getProjection("EPSG:3857").project(A[0],A[1]),polyfill.lcs.getLocalByCoord(A)},Un),wasm;function Un(A){this.parent=A}var heap=new Array(32).fill(void 0);function getObject(A){return heap[A]}heap.push(void 0,null,!0,!1);var heap_next=heap.length;function dropObject(A){A<36||(heap[A]=heap_next,heap_next=A)}function takeObject(A){var i=getObject(A);return dropObject(A),i}var cachedTextDecoder=self.TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{};cachedTextDecoder.decode&&cachedTextDecoder.decode();var cachegetUint8Memory0=null;function getUint8Memory0(){return cachegetUint8Memory0=null===cachegetUint8Memory0||cachegetUint8Memory0.buffer!==wasm.memory.buffer?new Uint8Array(wasm.memory.buffer):cachegetUint8Memory0}function getStringFromWasm0(A,i){return cachedTextDecoder.decode(getUint8Memory0().subarray(A,A+i))}var WASM_VECTOR_LEN=0,cachedTextEncoder=self.TextEncoder?new TextEncoder:{},encodeString="function"==typeof cachedTextEncoder.encodeInto?function(A,i){return cachedTextEncoder.encodeInto(A,i)}:function(A,i){var g=cachedTextEncoder.encode(A);return i.set(g),{read:A.length,jW:g.length}};function passStringToWasm0(A,i,g){if(void 0===g){var I=cachedTextEncoder.encode(A),t=i(I.length);return getUint8Memory0().subarray(t,t+I.length).set(I),WASM_VECTOR_LEN=I.length,t}for(var B=A.length,Q=i(B),C=getUint8Memory0(),e=0;e<B;e++){var o=A.charCodeAt(e);if(127<o)break;C[Q+e]=o}return e!==B&&(Q=g(Q,B,B=e+3*(A=0!==e?A.slice(e):A).length),g=getUint8Memory0().subarray(Q+e,Q+B),e+=encodeString(A,g).jW),WASM_VECTOR_LEN=e,Q}var cachegetInt32Memory0=null;function getInt32Memory0(){return cachegetInt32Memory0=null===cachegetInt32Memory0||cachegetInt32Memory0.buffer!==wasm.memory.buffer?new Int32Array(wasm.memory.buffer):cachegetInt32Memory0}function addHeapObject(A){heap_next===heap.length&&heap.push(heap.length+1);var i=heap_next;return heap_next=heap[i],heap[i]=A,i}var RSAPublicKeyPair=(up.XW=function(A){var i=Object.create(up.prototype);return i.UW=A,i},up.prototype.VW=function(){var A=this.UW;this.UW=0,wasm.__wbg_rsapublickeypair_free(A)},up.prototype.init=function(){wasm.rsapublickeypair_init(this.UW)},up.prototype.encode=function(A){try{var i=passStringToWasm0(A,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),g=WASM_VECTOR_LEN;return wasm.rsapublickeypair_encode(8,this.UW,i,g),getStringFromWasm0(I=getInt32Memory0()[2],t=getInt32Memory0()[3])}finally{var I=getInt32Memory0()[2],t=getInt32Memory0()[3];wasm.__wbindgen_free(I,t)}},up);function up(){var A=wasm.rsapublickeypair_new();return up.XW(A)}function loadSync(A,i){var g=new WebAssembly.Module(A);return{module:A,instance:new WebAssembly.Instance(g,i)}}function initSync(A){var i={wbg:{}};return i.wbg.__wbg_new_59cb74e423758ede=function(){return addHeapObject(new Error)},i.wbg.__wbg_stack_558ba5917b466edd=function(A,i){var g=passStringToWasm0(getObject(i).stack,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),i=WASM_VECTOR_LEN;getInt32Memory0()[A/4+1]=i,getInt32Memory0()[A/4+0]=g},i.wbg.__wbg_error_4bb6c2a97407129a=function(A,i){try{console.error(getStringFromWasm0(A,i))}finally{wasm.__wbindgen_free(A,i)}},i.wbg.__wbindgen_object_drop_ref=function(A){takeObject(A)},i.wbg.__wbindgen_throw=function(A,i){throw new Error(getStringFromWasm0(A,i))},i=loadSync(A,i).instance,wasm=i.exports}var data="AGFzbQEAAAABaBBgAn9/AGACf38Bf2ADf39/AX9gA39/fwBgAX8AYAF/AX9gBH9/f38AYAAAYAV/f39/fwF/YAF/AX5gBX9/f39/AGAAAX9gBH9/f38Bf2AGf39/f39/AGAHf39/f39/fwF/YAJ+fwF/AqABBQN3YmcaX193YmdfbmV3XzU5Y2I3NGU0MjM3NThlZGUACwN3YmccX193Ymdfc3RhY2tfNTU4YmE1OTE3YjQ2NmVkZAAAA3diZxxfX3diZ19lcnJvcl80YmI2YzJhOTc0MDcxMjlhAAADd2JnGl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmAAQDd2JnEF9fd2JpbmRnZW5fdGhyb3cAAAPSAdABAAUECgIAAggEAQEHAgMBAwAIAAQABQYEAAABBQ4DAAMPAwEAAQMACAELAAMGCgAGAwYBAwYBAAMAAAEBAwEBAAUGAAAFBwQBBgoDBAQBCAMDAwEBAwMBAQEBBQAAAQAFAwcAAAEGAAAFAwAAAgwAAwMNAwcAAAAEBAACCwwFBAAFAQABAAADAAAAAAMHAwAFAAAAAAIEBAUEBAMABAQEBQAAAQEBAwYFDAAAAAIBBAEBAwIDAQUFAwAHAQECAQcHAAEAAQEHAAkBBQEFCQkEAAQFAXABS0sFAwEAEQYJAX8BQYCAwAALB7IBCAZtZW1vcnkCABtfX3diZ19yc2FwdWJsaWNrZXlwYWlyX2ZyZWUAngEUcnNhcHVibGlja2V5cGFpcl9uZXcAgAEVcnNhcHVibGlja2V5cGFpcl9pbml0AIMBF3JzYXB1YmxpY2tleXBhaXJfZW5jb2RlADERX193YmluZGdlbl9tYWxsb2MAggESX193YmluZGdlbl9yZWFsbG9jAJkBD19fd2JpbmRnZW5fZnJlZQCwAQmEAQEAQQELStMBaKAB0wHMAdMBN9MBywHLAcsB0wGKAZgB0wFNzwHQAdMB0wFGzQHOAcIB0wGpAdMBtwEpYleGAaMBhgGGAdQB0wGxARNbiAHRAagBmgFppwF8xgGaASgzmwHSAWylAcwBWMABuQFMDr8BtAGyAVLTAdEBES1ewQHIAVzJAQqhtQLQAf05Af0BfyMAQeABayICJAAgAkE4aiABQYABQQBBEEHsk8AAEHYgAkFAayACKAI4IAIoAjwQJiACQTBqIAFBgAFBEEEgQfyTwAAQdiACQdAAaiACKAIwIAIoAjQQJiACQShqIAFBgAFBIEEwQYyUwAAQdiACQeAAaiACKAIoIAIoAiwQJiACQSBqIAFBgAFBMEHAAEGclMAAEHYgAkHwAGogAigCICACKAIkECYgAkEYaiABQYABQcAAQdAAQayUwAAQdiACQYABaiACKAIYIAIoAhwQJiACQRBqIAFBgAFB0ABB4ABBvJTAABB2IAJBkAFqIAIoAhAgAigCFBAmIAJBCGogAUGAAUHgAEHwAEHMlMAAEHYgAkGgAWogAigCCCACKAIMECYgAiABQYABQfAAQYABQdyUwAAQdiACQbABaiACKAIAIAIoAgQQJiACKAJAIQogAigCRCELIAIoAkghDCACKAJMIQ0gAkHYAWoiASACQdgAaiIDKQMANwMAIAIgAikDUDcD0AEgAkHAAWogAkHQAWpBARBZIAIoAsABIQ4gAigCxAEhDyACKALIASEQIAIoAswBIREgASACQegAaiIEKQMANwMAIAIgAikDYDcD0AEgAkHAAWogAkHQAWpBAhBZIAIoAsABIRIgAigCxAEhEyACKALIASEUIAIoAswBIRUgASACQfgAaiIFKQMANwMAIAIgAikDcDcD0AEgAkHAAWogAkHQAWpBAxBZIAIoAsABIRYgAigCxAEhFyACKALIASEYIAIoAswBIRkgASACQYgBaiIGKQMANwMAIAIgAikDgAE3A9ABIAJBwAFqIAJB0AFqQQQQWSACKALAASEaIAIoAsQBIRsgAigCyAEhHCACKALMASEdIAEgAkGYAWoiBykDADcDACACIAIpA5ABNwPQASACQcABaiACQdABakEFEFkgAigCwAEhHiACKALEASEfIAIoAsgBISAgAigCzAEhISABIAJBqAFqIggpAwA3AwAgAiACKQOgATcD0AEgAkHAAWogAkHQAWpBBhBZIAIoAsABISIgAigCxAEhIyACKALIASEkIAIoAswBISUgASACQbgBaiIJKQMANwMAIAIgAikDsAE3A9ABIAJBwAFqIAJB0AFqQQcQWSACKALAASEmIAIoAsQBIScgAigCyAEhKCACKALMASEpIAEgAikDSDcDACACIAIpA0A3A9ABIAJBwAFqIAJB0AFqQQEQWiACKALAASEqIAIoAsQBISsgAigCyAEhLCACKALMASEtIAMoAgAhLiACKAJQIS8gAigCVCEwIAIoAlwhMSABIAQpAwA3AwAgAiACKQNgNwPQASACQcABaiACQdABakEBEFkgAigCwAEhMiACKALEASEzIAIoAsgBITQgAigCzAEhNSABIAUpAwA3AwAgAiACKQNwNwPQASACQcABaiACQdABakECEFkgAigCwAEhNiACKALEASE3IAIoAsgBITggAigCzAEhOSABIAYpAwA3AwAgAiACKQOAATcD0AEgAkHAAWogAkHQAWpBAxBZIAIoAsABITogAigCxAEhOyACKALIASE8IAIoAswBIT0gASAHKQMANwMAIAIgAikDkAE3A9ABIAJBwAFqIAJB0AFqQQQQWSACKALAASE+IAIoAsQBIT8gAigCyAEhQCACKALMASFBIAEgCCkDADcDACACIAIpA6ABNwPQASACQcABaiACQdABakEFEFkgAigCwAEhQiACKALEASFDIAIoAsgBIUQgAigCzAEhRSABIAkpAwA3AwAgAiACKQOwATcD0AEgAkHAAWogAkHQAWpBBhBZIAIoAsABIUYgAigCxAEhRyACKALIASFIIAIoAswBIUkgASACKQNINwMAIAIgAikDQDcD0AEgAkHAAWogAkHQAWpBAhBaIAIoAsABIUogAigCxAEhSyACKALIASFMIAIoAswBIU0gASADKQMANwMAIAIgAikDUDcD0AEgAkHAAWogAkHQAWpBARBaIAIoAsABIU4gAigCxAEhTyACKALIASFQIAIoAswBIVEgBCgCACFSIAIoAmAhUyACKAJkIVQgAigCbCFVIAEgBSkDADcDACACIAIpA3A3A9ABIAJBwAFqIAJB0AFqQQEQWSACKALAASFWIAIoAsQBIVcgAigCyAEhWCACKALMASFZIAEgBikDADcDACACIAIpA4ABNwPQASACQcABaiACQdABakECEFkgAigCwAEhWiACKALEASFbIAIoAsgBIVwgAigCzAEhXSABIAcpAwA3AwAgAiACKQOQATcD0AEgAkHAAWogAkHQAWpBAxBZIAIoAsABIV4gAigCxAEhXyACKALIASFgIAIoAswBIWEgASAIKQMANwMAIAIgAikDoAE3A9ABIAJBwAFqIAJB0AFqQQQQWSACKALAASFiIAIoAsQBIWMgAigCyAEhZCACKALMASFlIAEgCSkDADcDACACIAIpA7ABNwPQASACQcABaiACQdABakEFEFkgAigCwAEhZiACKALEASFnIAIoAsgBIWggAigCzAEhaSABIAIpA0g3AwAgAiACKQNANwPQASACQcABaiACQdABakEDEFogAigCwAEhaiACKALEASFrIAIoAsgBIWwgAigCzAEhbSABIAMpAwA3AwAgAiACKQNQNwPQASACQcABaiACQdABakECEFogAigCwAEhbiACKALEASFvIAIoAsgBIXAgAigCzAEhcSABIAQpAwA3AwAgAiACKQNgNwPQASACQcABaiACQdABakEBEFogAigCwAEhciACKALEASFzIAIoAsgBIXQgAigCzAEhdSAFKAIAIXYgAigCcCF3IAIoAnQheCACKAJ8IXkgASAGKQMANwMAIAIgAikDgAE3A9ABIAJBwAFqIAJB0AFqQQEQWSACKALAASF6IAIoAsQBIXsgAigCyAEhfCACKALMASF9IAEgBykDADcDACACIAIpA5ABNwPQASACQcABaiACQdABakECEFkgAigCwAEhfiACKALEASF/IAIoAsgBIYABIAIoAswBIYEBIAEgCCkDADcDACACIAIpA6ABNwPQASACQcABaiACQdABakEDEFkgAigCwAEhggEgAigCxAEhgwEgAigCyAEhhAEgAigCzAEhhQEgASAJKQMANwMAIAIgAikDsAE3A9ABIAJBwAFqIAJB0AFqQQQQWSACKALAASGGASACKALEASGHASACKALIASGIASACKALMASGJASABIAIpA0g3AwAgAiACKQNANwPQASACQcABaiACQdABakEEEFogAigCwAEhigEgAigCxAEhiwEgAigCyAEhjAEgAigCzAEhjQEgASADKQMANwMAIAIgAikDUDcD0AEgAkHAAWogAkHQAWpBAxBaIAIoAsABIY4BIAIoAsQBIY8BIAIoAsgBIZABIAIoAswBIZEBIAEgBCkDADcDACACIAIpA2A3A9ABIAJBwAFqIAJB0AFqQQIQWiACKALAASGSASACKALEASGTASACKALIASGUASACKALMASGVASABIAUpAwA3AwAgAiACKQNwNwPQASACQcABaiACQdABakEBEFogAigCwAEhlgEgAigCxAEhlwEgAigCyAEhmAEgAigCzAEhmQEgBigCACGaASACKAKAASGbASACKAKEASGcASACKAKMASGdASABIAcpAwA3AwAgAiACKQOQATcD0AEgAkHAAWogAkHQAWpBARBZIAIoAsABIZ4BIAIoAsQBIZ8BIAIoAsgBIaABIAIoAswBIaEBIAEgCCkDADcDACACIAIpA6ABNwPQASACQcABaiACQdABakECEFkgAigCwAEhogEgAigCxAEhowEgAigCyAEhpAEgAigCzAEhpQEgASAJKQMANwMAIAIgAikDsAE3A9ABIAJBwAFqIAJB0AFqQQMQWSACKALAASGmASACKALEASGnASACKALIASGoASACKALMASGpASABIAIpA0g3AwAgAiACKQNANwPQASACQcABaiACQdABakEFEFogAigCwAEhqgEgAigCxAEhqwEgAigCyAEhrAEgAigCzAEhrQEgASADKQMANwMAIAIgAikDUDcD0AEgAkHAAWogAkHQAWpBBBBaIAIoAsABIa4BIAIoAsQBIa8BIAIoAsgBIbABIAIoAswBIbEBIAEgBCkDADcDACACIAIpA2A3A9ABIAJBwAFqIAJB0AFqQQMQWiACKALAASGyASACKALEASGzASACKALIASG0ASACKALMASG1ASABIAUpAwA3AwAgAiACKQNwNwPQASACQcABaiACQdABakECEFogAigCwAEhtgEgAigCxAEhtwEgAigCyAEhuAEgAigCzAEhuQEgASAGKQMANwMAIAIgAikDgAE3A9ABIAJBwAFqIAJB0AFqQQEQWiACKALAASG6ASACKALEASG7ASACKALIASG8ASACKALMASG9ASAHKAIAIb4BIAIoApABIb8BIAIoApQBIcABIAIoApwBIcEBIAEgCCkDADcDACACIAIpA6ABNwPQASACQcABaiACQdABakEBEFkgAigCwAEhwgEgAigCxAEhwwEgAigCyAEhxAEgAigCzAEhxQEgASAJKQMANwMAIAIgAikDsAE3A9ABIAJBwAFqIAJB0AFqQQIQWSACKALAASHGASACKALEASHHASACKALIASHIASACKALMASHJASABIAIpA0g3AwAgAiACKQNANwPQASACQcABaiACQdABakEGEFogAigCwAEhygEgAigCxAEhywEgAigCyAEhzAEgAigCzAEhzQEgASADKQMANwMAIAIgAikDUDcD0AEgAkHAAWogAkHQAWpBBRBaIAIoAsABIc4BIAIoAsQBIc8BIAIoAsgBIdABIAIoAswBIdEBIAEgBCkDADcDACACIAIpA2A3A9ABIAJBwAFqIAJB0AFqQQQQWiACKALAASHSASACKALEASHTASACKALIASHUASACKALMASHVASABIAUpAwA3AwAgAiACKQNwNwPQASACQcABaiACQdABakEDEFogAigCwAEh1gEgAigCxAEh1wEgAigCyAEh2AEgAigCzAEh2QEgASAGKQMANwMAIAIgAikDgAE3A9ABIAJBwAFqIAJB0AFqQQIQWiACKALAASHaASACKALEASHbASACKALIASHcASACKALMASHdASABIAcpAwA3AwAgAiACKQOQATcD0AEgAkHAAWogAkHQAWpBARBaIAIoAsABId4BIAIoAsQBId8BIAIoAsgBIeABIAIoAswBIeEBIAgoAgAh4gEgAigCoAEh4wEgAigCpAEh5AEgAigCrAEh5QEgASAJKQMANwMAIAIgAikDsAE3A9ABIAJBwAFqIAJB0AFqQQEQWSACKALAASHmASACKALEASHnASACKALIASHoASACKALMASHpASABIAIpA0g3AwAgAiACKQNANwPQASACQcABaiACQdABakEHEFogAigCwAEh6gEgAigCxAEh6wEgAigCyAEh7AEgAigCzAEh7QEgASADKQMANwMAIAIgAikDUDcD0AEgAkHAAWogAkHQAWpBBhBaIAIoAsABIQMgAigCxAEh7gEgAigCyAEh7wEgAigCzAEh8AEgASAEKQMANwMAIAIgAikDYDcD0AEgAkHAAWogAkHQAWpBBRBaIAIoAsABIQQgAigCxAEh8QEgAigCyAEh8gEgAigCzAEh8wEgASAFKQMANwMAIAIgAikDcDcD0AEgAkHAAWogAkHQAWpBBBBaIAIoAsABIQUgAigCxAEh9AEgAigCyAEh9QEgAigCzAEh9gEgASAGKQMANwMAIAIgAikDgAE3A9ABIAJBwAFqIAJB0AFqQQMQWiACKALAASEGIAIoAsQBIfcBIAIoAsgBIfgBIAIoAswBIfkBIAEgBykDADcDACACIAIpA5ABNwPQASACQcABaiACQdABakECEFogAigCwAEhByACKALEASH6ASACKALIASH7ASACKALMASH8ASABIAgpAwA3AwAgAiACKQOgATcD0AEgAkHAAWogAkHQ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lJnAADYCECAAQSM2AiwgAEGAmcAANgJYIABCATcCTCAAQeybwAA2AkggACAAQShqNgIgIAAgAEHIAGo2AjggACAAQcQAajYCMCAAIABBQGs2AiggAEEQakH0m8AAEI0BAAsgACgCCCIBIAEoAgAiAUF/ajYCACABQQFGBEAgAEEIahBRCyAAQeAAaiQAC5IEAQd/IwBBMGsiAyQAAn9BACACRQ0AGiADQShqIQgCQAJAAkACQANAIAAoAggtAAAEQCAAKAIAQcylwABBBCAAKAIEKAIMEQIADQULIANBCjYCKCADQoqAgIAQNwMgIAMgAjYCHCADQQA2AhggAyACNgIUIAMgATYCECADQQhqQQogASACEBsCfwJAAkAgAygCCEEBRgRAIAMoAgwhBANAIAMgBCADKAIYakEBaiIENgIYAkAgBCADKAIkIgVJBEAgAygCFCEHDAELIAMoAhQiByAESQ0AIAVBBU8NByAEIAVrIgYgAygCEGoiCSAIRg0EIAkgCCAFEHFFDQQLIAMoAhwiBiAESSAHIAZJcg0CIAMgAyAFakEnai0AACADKAIQIARqIAYgBGsQGyADKAIEIQQgAygCAEEBRg0ACwsgAyADKAIcNgIYCyAAKAIIQQA6AAAgAgwBCyAAKAIIQQE6AAAgBkEBagshBCAAKAIEIQUgACgCACAERSACIARGciIGRQRAIAIgBE0NAyABIARqLAAAQb9/TA0DCyABIAQgBSgCDBECAA0EIAZFBEAgAiAETQ0EIAEgBGosAABBv39MDQQLIAEgBGohASACIARrIgINAAtBAAwECyAFQQRB4KnAABBVAAsgASACQQAgBEGYqsAAEAgACyABIAIgBCACQaiqwAAQCAALQQELIANBMGokAAvQAwIFfwF+IwBBQGoiAyQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAIoAgBBAWsOAgIAAQsgAigCBCIEIAJBCGooAgBqIgIgBE8NAiADQShqIAJBABC4ASADKQMoIQggAEEBNgIAIAAgCDcCBAwKCyABKAIEIgIEQCACQQF0IQIMAgtBBCECDAILIAIoAgQiBCACQQhqKAIAaiICIARJDQIgASgCBEEBdCIEIAIgBCACSxshAgsgAkEASA0CCyADQTBqIAEQhwEgAygCMCIGDQIgA0EIaiACQQEQdSADKAII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QbABEH8aIAFBwAFqJAALcAECfwJAIAAoAgAiAUEQaigCACICRQ0AIAJBADoAACABQRRqKAIAIgJFDQAgASgCECACQQEQvAELIAFBHGooAgBBAUEBELwBIAAoAgAiASABKAIEIgFBf2o2AgQgAUEBRgRAIAAoAgBBMEEIELwBCwtbAQJ/IwBBIGsiAiQAIAFBHGooAgAhAyABKAIYIAJBGGogACgCACIAQRBqKQIANwMAIAJBEGogAEEIaikCADcDACACIAApAgA3AwggAyACQQhqEAsgAkEgaiQAC2sBAn8jAEEQayIGJAACQCAAIAEgAiADIAQQFiIFDQAgBkEIaiADIAAgASAEKAIMEQYAQQAhBSAGKAIIDQAgBigCDCIFIAIoAgA2AgggAiAFNgIAIAAgASACIAMgBBAWIQULIAZBEGokACAFC20BAX8jAEEwayIDJAAgAyABNgIEIAMgADYCACADQRxqQQI2AgAgA0EsakE6NgIAIANCAjcCDCADQaSlwAA2AgggA0E6NgIkIAMgA0EgajYCGCADIAM2AiggAyADQQRqNgIgIANBCGogAhCTAQALbQEBfyMAQTBrIgMkACADIAE2AgQgAyAANgIAIANBHGpBAjYCACADQSxqQTo2AgAgA0ICNwIMIANBgKnAADYCCCADQTo2AiQgAyADQSBqNgIYIAMgA0EEajYCKCADIAM2AiAgA0EIaiACEJMBAAttAQF/IwBBMGsiAyQAIAMgATYCBCADIAA2AgAgA0EcakECNgIAIANBLGpBOjYCACADQgI3AgwgA0G0qcAANgIIIANBOjYCJCADIANBIGo2AhggAyADQQRqNgIoIAMgAzYCICADQQhqIAIQkwEAC1YBAn8jAEEgayICJAAgAUEcaigCACEDIAEoAhggAkEYaiAAQRBqKQIANwMAIAJBEGogAEEIaikCADcDACACIAApAgA3AwggAyACQQhqEAsgAkEgaiQAC1sBAn8jAEEQayICJAAgACgCACIAKAIIIQMgACgCACEAIAIgARCVASADBEADQCACIAA2AgwgAiACQQxqECsgAEEBaiEAIANBf2oiAw0ACwsgAhCUASACQRBqJAALXQEDfyAAIAEoAgAiBCACQR9xIgN0NgIAIAAgASgCDCADdCABKAIIIgVBACACa0EfcSICdnI2AgwgACAFIAN0IAEoAgQiASACdnI2AgggACABIAN0IAQgAnZyNgIEC10BAn8gACABKAIMIgMgAkEfcSIEdjYCDCAAIANBACACa0EfcSICdCABKAIIIgMgBHZyNgIIIAAgAyACdCABKAIEIgMgBHZyNgIEIAAgAyACdCABKAIAIAR2cjYCAAtZAQF/IwBBIGsiAiQAIAIgACgCADYCBCACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQRqQZyWwAAgAkEIahALIAJBIGokAAtZAQF/IwBBIGsiAiQAIAIgACgCADYCBCACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQRqQdinwAAgAkEIahALIAJBIGokAAtWAQF/IwBBIGsiAiQAIAIgADYCBCACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQRqQeSLwAAgAkEIahALIAJBIGokAAtWAQF/IwBBIGsiAiQAIAIgADYCBCACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQRqQdinwAAgAkEIahALIAJBIGokAAtrAQN/IAAoAgwhASAAQYCAxAA2AgwCQCABQYCAxABHDQBBgIDEACEBIAAoAgAiAiAAKAIERg0AIAAgAkEBajYCACAAKAIIIgMgAi0AACICQQR2ai0AACEBIAAgAyACQQ9xai0AADYCDAsgAQtSAQF/IwBBQGoiAiQAIAIgARBHIAJBEGogAhAVIAJBIGogAkEQahBIIAJBOGogAkEoaikDADcDACACIAIpAyA3AzAgACACQTBqEHAgAkFAayQAC1wBAX8jAEEgayICJAAgAkEANgIIIAJCATcDACACQRhqIAFBCGopAgA3AwAgAiABKQIANwMQIAIgAkEQahAdIABBCGogAigCCDYCACAAIAIpAwA3AgAgAkEgaiQAC0oBAX8jAEEgayICJAAgACgCACACQRhqIAFBEGopAgA3AwAgAkEQaiABQQhqKQIANwMAIAIgASkCADcDCCACQQhqEF0gAkEgaiQAC1gBAX8jAEGAGWsiAiQAIAFFBEAQwwEACyACIAEQlwEgAigCBEEANgIAIAJBCGogAUH0GBB/GiAAIAJBCGpBBHJB8BgQfxogAUH0GEEEELwBIAJBgBlqJAALTAEBfyAAQQF0QYBAcSAAQQJ0QYAYcSAAQQN0QYABcSAAQf//A3EiAUEBdkHwAHEgAEEPcXJyIAFBAnZBgAZxcnIgAUEDdkGAIHFycgtTAQF/IwBBIGsiAyQAIANBCGogAUEIaikBADcDACADIAEpAQA3AwAgA0EYaiACQQhqKQEANwMAIAMgAikBADcDECAAIAMgA0EQahBPIANBIGokAAtiAQF/IwBBMGsiACQAIABBKjYCDCAAQYSBwAA2AgggAEEkakEBNgIAIABCATcCFCAAQYikwAA2AhAgAEE7NgIsIAAgAEEoajYCICAAIABBCGo2AiggAEEQakGQgsAAEJMBAAtKAQF/IwBBIGsiAiQAIAJBCGogASABQRBqECQgAi0ACEEBRwRAEGYACyAAIAIpAAk3AAAgAEEIaiACQRFqKQAANwAAIAJBIGokAAtWAQJ/IAEoAgAhAiABQQA2AgACQCACBEAgASgCBCEDQQhBBBC1ASIBRQ0BIAEgAzYCBCABIAI2AgAgAEGchsAANgIEIAAgATYCAA8LAAtBCEEEEMcBAAtMAQF/IwBBEGsiAiQAIAIgARCJASACIAA2AgwgAiACQQxqQeiawAAQKiACIABBBGo2AgwgAiACQQxqQdihwAAQKiACEEUgAkEQaiQAC04BAX8jAEEQayIEJAACQCABKAIEIAJrIANPBEAgAEEANgIADAELIARBCGogAzYCACAEIAI2AgQgBEEBNgIAIAAgASAEEBILIARBEGokAAtUAQF/IwBBIGsiAiQAIAJBCGogARAvIAJBADYCGCACIAIpAwg3AxAgAkEQakG8g8AAIAEQtgEgAEEIaiACKAIYNgIAIAAgAikDEDcCACACQSBqJAALVgECfyABKAIAIQIgAUEANgIAAkAgAgRAIAEoAgQhA0EIQQQQtQEiAUUNASABIAM2AgQgASACNgIAIABBwKHAADYCBCAAIAE2AgAPCwALQQhBBBDHAQALTgEBfyMAQfAYayIBJAAgASAAQfAYEH8hAUH0GEEEELUBIgBFBEBB9BhBBBDHAQALIABBADYCACAAQQRqIAFB8BgQfxogAUHwGGokACAAC0kBAX8jAEEQayIDJAAgAyAAIAEgAhBqAkAgAygCAEEBRgRAIANBCGooAgAiAEUNASADKAIEIAAQxwEACyADQRBqJAAPCxC+AQALRwEBfyMAQRBrIgIkACACIAAgARBBAkAgAigCAEEBRgRAIAJBCGooAgAiAEUNASACKAIEIAAQxwEACyACQRBqJAAPCxC+AQALVAAgACABLwEOOwEOIAAgAS8BCDsBCCAAIAEoAQQ2AQQgACABLwEMQX9zOwEMIAAgAS8BCkF/czsBCiAAIAEvAQJBf3M7AQIgACABLwEAQX9zOwEAC0MBA38CQCACRQ0AA0AgAC0AACIEIAEtAAAiBUYEQCAAQQFqIQAgAUEBaiEBIAJBf2oiAg0BDAILCyAEIAVrIQMLIAMLSgACfyABQYCAxABHBEBBASAAKAIYIAEgAEEcaigCACgCEBEBAA0BGgsgAkUEQEEADwsgACgCGCACIAMgAEEcaigCACgCDBECAAsLQgEEfwJAIAEoAgAiAiABKAIETw0AIAJBAWoiAyACSQ0AIAEoAgAhBCABIAM2AgBBASEFCyAAIAQ2AgQgACAFNgIAC1wBAX8jAEEgayIDJAAgA0GAgMQANgIMIANB+IPAADYCCCADIAE2AgAgAyABIAJqNgIEIANBGGogA0EIaikDADcDACADIAMpAwA3AxAgACADQRBqEGEgA0EgaiQACy0AAkAgAQRAIAEgAhC1ASICDQFBACECDAELQQAhAQsgACABNgIEIAAgAjYCAAs7AAJAIAQgA08EQCACIARJDQEgACAEIANrNgIEIAAgASADajYCAA8LIAMgBCAFEFYACyAEIAIgBRBVAAtIAQF/IwBBIGsiAyQAIANBFGpBADYCACADQbijwAA2AhAgA0IBNwIEIAMgATYCHCADIAA2AhggAyADQRhqNgIAIAMgAhCTAQALOgEBfyMAQRBrIgAkAEHUxsAAKAIAQQNHBEAgAEEBOgALIAAgAEELajYCDCAAQQxqEA0LIABBEGokAAs8AQF/An9BACABKAIAIgIgASgCBEYNABogASACQQFqNgIAIAItAAAhAUEBCyECIAAgAToAASAAIAI6AAALOwEBfyMAQRBrIgIkACACQQhqIAEoAgAQeSACLQAIIQEgACACLQAJOgABIAAgAUEBcToAACACQRBqJAALOQECfiAAIAEpAQAiAj0BACAAIAIgAkIgiIU9AQYgACACQhCIIgMgAkIwiIU9AQQgACAC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rgELCxoBAX8gACgCCCIBIAAoAgRHBEAgACABEG8LCxoAIABCADcCBCAAQQQ2AgAgAEEMakIANwIACxYAIABBCHRBgID8B3EgAEEYdHJBEHYLHQAgASgCAEUEQAALIABBwKHAADYCBCAAIAE2AgALGwAgARCiASAAIAEoAgg2AgQgACABKAIANgIACxwAIAEoAhhBxKPAAEELIAFBHGooAgAoAgwRAgALHAAgASgCGEHPo8AAQQ4gAUEcaigCACgCDBECAAscACABKAIYQYS4wABBBSABQRxqKAIAKAIMEQIACxcAIAAgAjYCCCAAIAI2AgQgACABNgIACxcAIAAgAjYCCCAAIAM2AgQgACABNgIACxIAIABBDHQgAEHw/wNxQQR2cgsNACAAIAEgAiADEIEBCxAAIAEEQCAAIAFBARC8AQsLFgAgACABKAIINgIEIAAgASgCADYCAAsQACABBEAgACABQQQQvAELCxIAIAAoAgAgASABIAJqEDBBAAsVACABIAAoAgAiACgCACAAKAIEEAkLDAAgAARADwsQwwEACxQAIAAoAgAgASAAKAIEKAIMEQEACwgAIAAgARA6Cw4AIAAgASABIAJqEIsBCxAAIAAoAgAgASACELYBQQALEAAgACACNgIEIAAgATYCAAsQACABIAAoAgAgACgCBBAJCw0AIAAtAABBEHFBBHYLDQAgAC0AAEEgcUEFdgsKACAAIAEgAhA8Cw0AIAAgACgCCCABEG4LEQBBl6PAAEERQaijwAAQdwALDgAgACgCABoDQAwACwALCwAgADUCACABECULDQAgACgCACABIAIQEQsLACAAKAIAIAEQHwsNAEGwj8AAQRsQxQEACw4AQcuPwABBzwAQxQEACwkAIAAgARAEAAsGACABEAYLGQAgACABQfjGwAAoAgAiAEEkIAAbEQAAAAsLACAAKAIAIAEQLQsNACABQaiowABBAhAJCwYAEL4BAAsGACABEBwLDABC5K7ChZebpYgRCwQAIAELBABBAAsFAEGABAsEAEEBCwwAQvTQ1KnQ97O+ZgsMAEKNybDVpKrTlVYLAwABCwMAAQsL3D4CAEGAgMAAC8k+L1VzZXJzL3lhbmdkb25nbGFpLy5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL2Flcy1zb2Z0LTAuNS4wL3NyYy9iaXRzbGljZS5ycwAAAAAAEABhAAAAGgAAACgAAAAAABAAYQAAACEAAAAiAAAAU2xpY2UgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGggYXMgdGhlIGFycmF5L1VzZXJzL3lhbmdkb25nbGFpLy5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL2dlbmVyaWMtYXJyYXktMC4xNC40L3NyYy9saWIucnOuABAAYgAAAEoCAAAJAAAAL1VzZXJzL3lhbmdkb25nbGFpLy5jYXJnby9yZWdpc3RyeS9zcmMvZ2l0aHViLmNvbS0xZWNjNjI5OWRiOWVjODIzL2Flcy1zb2Z0LTAuNS4wL3NyYy9pbXBscy5ycwAAIAEQAF4AAAA1AAAAGQAAAHNyYy9saWIucnMAAJABEAAKAAAAZwAAABQAAACQARAACgAAAGcAAAAJAAAAYW1hcC13ZWKQARAACgAAADYAAAAaAAAASW5zdGFuY2Ugbm90IGNyZWF0ZWSQARAACgAAAEYAAAAVAAAAMDEyMzQ1Njc4OWFiY2RlZi9Vc2Vycy95YW5nZG9uZ2xhaS8uY2FyZ28vcmVnaXN0cnkvc3JjL2dpdGh1Yi5jb20tMWVjYzYyOTlkYjllYzgyMy9hZXMtc29mdC0wLjUuMC9zcmMvZXhwYW5kLnJzAAgCEABfAAAANwAAACYAAAAIAhAAXwAAADgAAAAaAAAACAIQAF8AAAA5AAAAGgAAAAgCEABfAAAAOgAAABoAAAAIAhAAXwAAADcAAAAJAAAACAIQAF8AAABAAAAAFwAAAAgCEABfAAAAQgAAADMAAAAIAhAAXwAAAEcAAAAcAAAACAIQAF8AAABHAAAACQAAAAgCEABfAAAATwAAACEAAAABAAAACAAAAAQAAAACAAAAAwAAAAQAAAAIAAAABAAAAAUAAAAvVXNlcnMveWFuZ2RvbmdsYWkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L3NyYy9saWJjb3JlL2FsbG9jL2xheW91dC5ycwAAACwDEABxAAAA5wAAAAkAAABjYWxsZWQgYFJlc3VsdDo6dW53cmFwKClgIG9uIGFuIGBFcnJgIHZhbHVlAAYAAAAAAAAAAQAAAAcAAAAIAAAAAAAAAAEAAAAJAAAACgAAAAsAAAAMAAAABAAAAAQAAAANAAAADgAAAC9Vc2Vycy95YW5nZG9uZ2xhaS8ucnVzdHVwL3Rvb2xjaGFpbnMvc3RhYmxlLXg4Nl82NC1hcHBsZS1kYXJ3aW4vbGliL3J1c3RsaWIvc3JjL3J1c3Qvc3JjL2xpYnN0ZC9zeW5jL29uY2UucnMAAAAYBBAAbQAAAAgBAAApAAAAY2FsbGVkIGBPcHRpb246OnVud3JhcCgpYCBvbiBhIGBOb25lYCB2YWx1ZQAPAAAAAAAAAAEAAAAQAAAAEQAAABIAAAATAAAAAAAAAAEAAAAQAAAAEQAAABIAAAAUAAAABAAAAAQAAAAVAAAAFgAAABcAAAAMBRAAAAAAAGEgRGlzcGxheSBpbXBsZW1lbnRhdGlvbiByZXR1cm5lZCBhbiBlcnJvciB1bmV4cGVjdGVkbHkvVXNlcnMveWFuZ2RvbmdsYWkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L3NyYy9saWJhbGxvYy9zdHJpbmcucnMASwUQAGwAAACMCAAACQAAABkAAAAAAAAAAQAAABoAAAAKClN0YWNrOgoKCgobAAAABAAAAAQAAAAcAAAAHQAAAB4AAABhc3NlcnRpb24gZmFpbGVkOiBgKGxlZnQgPT0gcmlnaHQpYAogIGxlZnQ6IGBgLAogcmlnaHQ6IGBgOiD8BRAALQAAACkGEAAMAAAANQYQAAMAAABkZXN0aW5hdGlvbiBhbmQgc291cmNlIHNsaWNlcyBoYXZlIGRpZmZlcmVudCBsZW5ndGhzUAYQADQAAAAvVXNlcnMveWFuZ2RvbmdsYWkvLnJ1c3R1cC90b29sY2hhaW5zL3N0YWJsZS14ODZfNjQtYXBwbGUtZGFyd2luL2xpYi9ydXN0bGliL3NyYy9ydXN0L3NyYy9saWJjb3JlL21hY3Jvcy9tb2QucnMAjAYQAG8AAAAoAAAACQAAAFRyaWVkIHRvIHNocmluayB0byBhIGxhcmdlciBjYXBhY2l0eS9Vc2Vycy95YW5nZG9uZ2xhaS8ucnVzdHVwL3Rv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BAAAFgAAAHRocmVhZCBuYW1lIG1heSBub3QgY29udGFpbiBpbnRlcmlvciBudWxsIGJ5dGVzAHgNEAAYAAAAcwQAABoAAABpbmNvbnNpc3RlbnQgc3RhdGUgaW4gdW5wYXJreA0QABgAAACrBAAAEgAAAHgNEAAYAAAAuQQAAA4AAABhdHRlbXB0ZWQgdG8gdXNlIGEgY29uZGl0aW9uIHZhcmlhYmxlIHdpdGggdHdvIG11dGV4ZXNzcmMvbGlic3RkL3N5bmMvY29uZHZhci5ycw4PEAAaAAAAPwIAABIAAABzcmMvbGlic3RkL3N5bmMvb25jZS5yc2Fzc2VydGlvbiBmYWlsZWQ6IHN0YXRlX2FuZF9xdWV1ZSAmIFNUQVRFX01BU0sgPT0gUlVOTklORzgPEAAXAAAApwEAABUAAABPbmNlIGluc3RhbmNlIGhhcyBwcmV2aW91c2x5IGJlZW4gcG9pc29uZWQAADgPEAAXAAAAiwEAABUAAAA4DxAAFwAAAOgBAAAJAAAAOA8QABcAAAD0AQAAHgAAAFBvaXNvbkVycm9yIHsgaW5uZXI6IC4uIH1jYW5ub3QgbW9kaWZ5IHRoZSBwYW5pYyBob29rIGZyb20gYSBwYW5pY2tpbmcgdGhyZWFkc3JjL2xpYnN0ZC9wYW5pY2tpbmcucnNBEBAAFwAAAGoAAAAJAAAAQRAQABcAAAChAQAADwAAAEEQEAAXAAAAogEAAA8AAAAxAAAAEAAAAAQAAAAyAAAAMwAAADQAAAAMAAAABAAAADUAAAAlAAAACAAAAAQAAAA2AAAANwAAACUAAAAIAAAABAAAADgAAABOdWxFcnJvciUAAAAEAAAABAAAADkAAABjYW4ndCBibG9jayB3aXRoIHdlYiBhc3NlbWJseXNyYy9saWJzdGQvc3lzL3dhc20vY29uZHZhci5ycwAFERAAHgAAABUAAAAJAAAAY2Fubm90IHJlY3Vyc2l2ZWx5IGFjcXVpcmUgbXV0ZXhzcmMvbGlic3RkL3N5cy93YXNtL211dGV4LnJzVBEQABwAAAAVAAAACQAAAHNyYy9saWJhbGxvYy9yYXdfdmVjLnJzY2FwYWNpdHkgb3ZlcmZsb3eAERAAFwAAAG4CAAAFAAAAYC4uALkREAACAAAAQm9ycm93RXJyb3JCb3Jyb3dNdXRF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vCFPZdHhTwDaIVAA4OFRMOFhU+zioVTQ6OFUIAAuVfABv1UAcAAHAC0BAQECAQIBAUgLMBUQAWUHAgYCAgEEIwEeG1sLOgkJARgEAQkBAwEFKwN3DwEgNwEBAQQIBAEDBwoCHQE6AQEBAgQIAQkBCgIaAQICOQEEAgQCAgMDAR4CAwELAjkBBAUBAgQBFAIWBgEBOgEBAgEECAEHAwoCHgE7AQEBDAEJASgBAwE5AwUDAQQHAgsCHQE6AQIBAgEDAQUCBwILAhwCOQIBAQIECAEJAQoCHQFIAQQBAgMBAQgBUQECBwwIYgECCQsGSgIbAQEBAQE3DgEFAQIFCwEkCQFmBAEGAQICAhkCBAMQBA0BAgIGAQ8BAAMAAx0DHQIeAkACAQcIAQILCQEtA3cCIgF2AwQCCQEGA9sCAgE6AQEHAQEBAQIIBgoCATARPwQwBwEBBQEoCQwCIAQCAgEDOAEBAgMBAQM6CAICmAMBDQEHBAEGAQMCxjoBBQABwyEAA40BYCAABmkCAAQBCiACUAIAAQMBBAEZAgUBlwIaEg0BJggZCy4DMAECBAICJwFDBgICAgIMAQgBLwEzAQEDAgIFAgEBKgIIAe4BAgEEAQABABAQEAACAAHiAZUFAAMBAgUEKAMEAaUCAAQAApkLsAE2DzgDMQQCAkUDJAUBCD4BDAI0CQoEAgFfAwIBAQIGAaABAwgVAjkCAQEBARYBDgcDBcMIAgMBARcBUQECBgEBAgEBAgEC6wECBAYCAQIbAlUIAgEBAmoBAQECBgEBZQMCBAEFAAkBAvUBCgIBAQQBkAQCAgQBIAooBgIECAEJBgIDLg0BAgAHAQYBAVIWAgcBAgECegYDAQECAQcBAUgCAwEBAQACAAU7BwABPwRRAQACAAEBAwQFCAgCBx4ElAMANwQyCAEOARYFAQ8ABwERAgcBAgEFAAcABAAHbQcAYIDwAExheW91dEVycnByaXZhdGUAQajHwAALAQEAbwlwcm9kdWNlcnMCCGxhbmd1YWdlAQRSdXN0AAxwcm9jZXNzZWQtYnkDBXJ1c3RjHTEuNDQuMCAoNDljYWU1NTc2IDIwMjAtMDYtMDEpBndhbHJ1cwYwLjE4LjAMd2FzbS1iaW5kZ2VuBjAuMi42NQ==",RSAWorker=(Xp.prototype.transform=function(A){if(this.instance)return this.instance.encode(A)},Xp.prototype.dE=function(A){initSync(base64ToBuffer(data)),this.instance=new RSAPublicKeyPair,this.instance.init(),A&&A(null)},Xp),env;function Xp(A,i){this.parent=A,this.dE(i)}function base64ToBuffer(A){for(var i=atob(A),g=new Uint8Array(i.length),I=0,t=i.length;I<t;I++)g[I]=i.charCodeAt(I);return g.buffer}var env=polyfill.Support.DW?{movingDraw:sharedChunk.movingDraw,db:sharedChunk.db,nebulaVersion:sharedChunk.nebulaVersion,host:sharedChunk.host}:{movingDraw:window.movingDraw},AMapWorker=(hq=polyfill.Event,polyfill.Ei(iq,hq),iq.prototype.initCryptWorker=function(A,i,g){g()},iq.prototype.setId=function(A,i,g){this._id=i,g()},iq.prototype.loadNebulaSourceTile=function(A,i,g){var I=this,t=i.url,B=i.ya,Q=i.zoom,C=i.projectionId,e=i.optimalZoom,o=i.Ca,E=i.mS,h=i.viewMode,a=i.showBuildingBlock,l=i.ZL,n=i.hH,i=i.kZ;return this.Ww.bw(t,B,Q,e,C,o,E,h,a,l,n,function(A,i){I.Zw?I.$w.push({done:g,type:"NebulaSourceTile",data:i}):g(A,i)},i)},iq.prototype.decodeNebulaSourceTile=function(A,i,g){var I=i.url,t=(i.ya,i.zoom),B=i.projectionId,Q=i.optimalZoom,C=(i.Ca,i.mS),e=i.viewMode,o=i.showBuildingBlock,E=i.ZL,i=(i.hH,i.buffer);return this.Ww.pQ(i,B,t,e,o,C,Q,E,g,I)},iq.prototype.loadNebulaSourceTileSdf=function(A,i,g){var I=this,t=i.url,B=i.ya,Q=(i.zoom,i.projectionId),C=(i.optimalZoom,i.Ca,i.mS,i.viewMode,i.showBuildingBlock,i.mH),i=i.ZL;return this.Ww.bW(t,B,Q,i,C,function(A,i){I.Zw?I.$w.push({done:g,type:"NebulaSourceTileSdf",data:i}):g(A,i)})},iq.prototype.decodeNebulaSourceTileSdf=function(A,i,g){var I=this,t=i.url,B=i.ya,Q=(i.zoom,i.projectionId),C=(i.optimalZoom,i.Ca,i.mS,i.viewMode,i.showBuildingBlock,i.mH),e=i.ZL,o=i.buffer,i=-1!==t.indexOf("/oversea"),t=new polyfill.vH;return this.Ww.HQ(o,i,Q,B,t,C,e,function(A,i){I.Zw?I.$w.push({done:g,type:"NebulaSourceTileSdf",data:i}):g(A,i)}),{cancel:t.cancel}},iq.prototype.loadDistrictSourceTile=function(A,i,g){var I=i.url,t=i.tileCoord,B=i.projectionId,Q=i.tileSize;return i.styles,this._getDistrictSourceWorker(),this.kW.bw(I,t,B,Q,g)},iq.prototype.loadMapboxVTSourceTile=function(A,i,g){var I=this,t=i.url,B=i.tileCoord,Q=i.projectionId,C=i.tileSize,i=i.styles;return this._getMapboxVTSourceWorker(),this.QJ.bw(t,B,Q,C,i,function(A,i){I.Zw?I.$w.push({done:g,type:"loadMapboxVTSourceTile",data:i}):g(A,i)})},iq.prototype.reBufferMapboxVTSource=function(A,i,g){var I=i.MX,i=i.styles;return this._getMapboxVTSourceWorker(),this.QJ.mX(I,i,g)},iq.prototype.loadMapboxSourceTile=function(A,i,g){var I=i.url,t=i.tileCoord,B=i.projectionId,Q=i.tileSize,C=i.styles,i=i.adcode;return this._getMapboxSourceWorker(),this.vQ.bw(I,t,B,Q,C,i,g)},iq.prototype.updateMapStyle=function(A,i,g){polyfill.Support.amapRunTime&&(polyfill.Support.amapRunTime["style-parse-begin"]||(polyfill.Support.amapRunTime["style-parse-begin"]=Date.now()));var I=JSON.parse(i.value);polyfill.Support.amapRunTime&&(polyfill.Support.amapRunTime["style-parse-end"]||(polyfill.Support.amapRunTime["style-parse-end"]=Date.now())),this.vn=new polyfill.StyleParser(i.TY),this.vn.jY(I),this.Ww.emit("styleReady")},iq.prototype.updateUserStyle=function(A,i,g){this.vn&&this.vn.setStyle(i.Kd),g&&g()},iq.prototype.sendHttp=function(A,i){this.R_.protocol=i.protocol,this.protocol=i.protocol},iq.prototype.updateParams=function(A,i){this.params=polyfill.assign(this.params,i),i.langForeign&&(this.langForeign=i.langForeign),i.QG&&(this.QG=i.QG)},iq.prototype.getSDFData=function(A,i,g){this.R_.loadData(i,{cb:function(A){g(null,A)}})},iq.prototype.getImages=function(A,i){var B=this,Q=i.data,C=i.cb,e=this.z_;e.loadImages(Q,{cb:function(A){for(var i=[],g=0,I=Q;g<I.length;g++){var t=I[g];i.push({url:t,data:e.getImage(t)})}B.Uh.send("imageLoaded",{data:i,cb:C})},type:"icon"})},iq.prototype.setPathWebgl=function(A,i,g){this.BW.setPathWebgl(i,g)},iq.prototype.sendIndoorRequest=function(A,i,g){var I=this;this.BW.AW(i,function(A,i){I.Zw?I.$w.push({done:g,type:"sendIndoorRequest",data:i}):g(A,i)})},iq.prototype.Qw=function(A){this.Uh.send("NebulaTileSdfLoaded",polyfill.ca)},iq.prototype.setMainThreadBusy=function(A,i){if(env.movingDraw)this.Zw=!1;else{if(this.Zw=i,!this.Zw)for(var g=0,I=this.$w;g<I.length;g++){var t=I[g];t.done?t.done(null,t.data):this.Uh.send(t.type,t.data)}this.$w=[]}},iq.prototype.loadWordsByFront=function(A){this.Uh.send("loadWordsByFront",A.Es,A.cb)},iq.prototype.innerLabelsLoadData=function(A,i,g){this.NQ.loadData(i,g)},iq.prototype.dQ=function(A){return this.lQ[A]},iq.prototype.deleteTileStaticSDF=function(A,i){this.IW.NW(i)},iq.prototype.PQ=function(A,i){this.QZ=i},iq.prototype._getNebulaSourceWorker=function(){return this.Ww||(this.Ww=new NebulaSourceWorker(this)),this.Ww},iq.prototype._getDistrictSourceWorker=function(){return this.kW||(this.kW=new DistrictSourceWorker(this)),this.kW},iq.prototype._getMapboxVTSourceWorker=function(){return this.QJ||(this.QJ=new polyfill.bX),this.QJ},iq.prototype._getMapboxSourceWorker=function(){var A;return this.vQ||(A=this.vQ=new MapboxSourceWorker(this),this.lQ[A.id]=A),this.vQ},iq.prototype.Fb=function(){var I=this;this.z_.on("iconImageLoaded",function(A){delete A.type,I.Uh.send("iconImageLoaded",A)}),this.R_.on("dynamicTextSDFInfoLoaded",function(A){delete A.type,I.Uh.send("dynamicTextSDFInfoLoaded",A.data)}),this.yw.on("dynamicTextVerticeLoaded",function(A){var i,g=A;I.Zw?(i=A.type,delete A.type,I.$w.push({type:i,data:g})):(delete A.type,I.Uh.send("dynamicTextVerticeLoaded",g))}),this.yw.on("dynamicTextVerticeLoadedByTile",function(A){var i,g=A;I.Zw?(i=A.type,delete A.type,I.$w.push({type:i,data:g})):(delete A.type,I.Uh.send("dynamicTextVerticeLoadedByTile",g))})},iq),hq;function iq(A,i,g){var I=hq.call(this)||this;return I.key=i,I.GW=g,I.lQ={},I.Zw=!1,I._id="-1",I.protocol="https",I.Yw=XHR,I.jQ=new polyfill.MY,I.QZ="",I.$w=[],I.Uh=new polyfill.Bh(A,I),I.self=A,A=I.z_=new ImageManagerWorker,I.R_=new polyfill.jb({parent:I,z_:A}),I.IW=new polyfill.xW(I,XHR),I.Ww=new NebulaSourceWorker(I),I.NQ=new InnerLabelsSourceWorker(I),I.lQ[I.Ww.id]=I.Ww,I.yw=new LabelWorker(I),I.BW=new OverlayWorker(I),polyfill.Support.wasm&&(I.PW=new RSAWorker(I)),I.Fb(),I.yY=new polyfill.wY({render:function(){I.jQ.exec(10)},check:function(){return I.jQ.xY()}}),I}return polyfill.Support.DW&&(self.Wh=new AMapWorker(self,sharedChunk.key,env),self.StyleParser=polyfill.StyleParser),AMapWorker}),define(["./shared"],function(Y){var u={"AMap.MouseTool":["AMap.RangingTool"],"AMap.Adaptor":["AMap.CallAMap"]},f=new Y.tS;function c(t){try{var i=localStorage.getItem("_AMap_"+t);if(!i)return;var n=JSON.parse(i);return n.version===Y.Module.eS.iS?(window._jsload_(t,n.script,!0),n.css&&window._cssload_(t,n.css,!0),f.add([t],void 0),f.finish(t),1):void window.localStorage.removeItem("_AMap_"+t)}catch(t){return}}function n(t){for(var i=[],n=0,s=t;n<s.length;n++){var e=s[n],r=e;if(!f.has(e)){if(r=u[r])for(var h=0,o=r;h<o.length;h++){var a=o[h];!t[a]&&i.indexOf(a)<0&&(c(a)||i.push(a))}i.indexOf(e)<0&&(c(e)||i.push(e))}}return i}function e(t,i){var n=document.createElement("script");n.type="text/javascript",document.body?(n.onload=function(){document.body.removeChild(n),i()},n.src=t,document.body.appendChild(n)):(n.onload=function(){document.head.removeChild(n),i()},n.src=t,document.head.appendChild(n))}var i,s=((i=document.getElementById("AMap_Dynamic_style"))||((i=document.createElement("style")).type="text/css",i.id="AMap_Dynamic_style",(ci=document.head||document.getElementsByTagName("head")[0]).childNodes.length<2?ci.appendChild(i):ci.insertBefore(i,ci.childNodes[1])),function(t){i.appendChild(document.createTextNode(t))});window._cssload_=function(t,i,n){try{!n&&window.localStorage&&i&&""!==i&&window.localStorage.setItem("_AMap_"+t,JSON.stringify({css:i,version:Y.Module.eS.iS}))}catch(t){}s(i)},window._jsload_=function(t,i,n){try{var s;!n&&i&&""!==i&&(s=window.localStorage["_AMap_"+t]||"{}",(s=JSON.parse(s)).version!==Y.Module.eS.iS||s.script?window.localStorage.setItem("_AMap_"+t,JSON.stringify({version:Y.Module.eS.iS,script:i})):window.localStorage.setItem("_AMap_"+t,JSON.stringify({version:Y.Module.eS.iS,script:i,css:s.css})))}catch(t){}Y.Module.nS(t,i)},window.cZ=Y.Module;var r="function"==typeof Float32Array;function h(t,i){return 1-3*i+3*t}function o(t,i){return 3*i-6*t}function a(t,i,n){return((h(i,n)*t+o(i,n))*t+3*i)*t}function l(t,i,n){return 3*h(i,n)*t*t+2*o(i,n)*t+3*i}var L=(t.prototype.t=function(t){for(var i=0,n=1;10!==n&&this.i[n]<=t;++n)i+=.1;var s=i+(t-this.i[--n])/(this.i[n+1]-this.i[n])*.1,e=l(s,this.o,this.s);return.001<=e?function(t,i,n,s){for(var e=0;e<4;++e){var r=l(i,n,s);if(0===r)return i;i-=(a(i,n,s)-t)/r}return i}(t,s,this.o,this.s):0===e?s:function(t,i,n,s,e){for(var r,h,o=0;0<(r=a(h=i+(n-i)/2,s,e)-t)?n=h:i=h,1e-7<Math.abs(r)&&++o<10;);return h}(t,i,i+.1,this.o,this.s)},t.prototype.h=function(t){return 0===t?0:1===t?1:a(this.t(t),this.l,this.u)},t.prototype.p=function(t){return t},t);function t(t,i,n,s){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");this.o=t,this.l=i,this.s=n,this.u=s,this.i=new(r?Float32Array:Array)(11);for(var e=0;e<11;++e)this.i[e]=a(.1*e,t,n)}var d,v,w={getViewport:function(t){return t?[t.clientWidth,t.clientHeight]:[0,0]},getStyle:function(t,i){var n,s=t.style[i];return"auto"===(s=(s=(s=s&&"auto"!==s||!document.defaultView?s:(n=document.defaultView.getComputedStyle(t,null))?n[i]:null)&&"auto"!==s||"height"!==i?s:t.clientHeight+"px")&&"auto"!==s||"width"!==i?s:t.clientWidth+"px")?null:s},getViewportOffset:function(t){var i,n=0,s=0,e=t,r=document.body,h=document.documentElement;do{if(n+=e.offsetTop||0,s+=e.offsetLeft||0,n+=parseInt(w.getStyle(e,"borderTopWidth"),10)||0,s+=parseInt(w.getStyle(e,"borderLeftWidth"),10)||0,i=w.getStyle(e,"position"),e.offsetParent===r&&"absolute"===i)break;if("fixed"===i){n+=r.scrollTop||h.scrollTop||0,s+=r.scrollLeft||h.scrollLeft||0;break}}while(e=e.offsetParent);for(e=t;e!==r&&(n-=e.scrollTop||0,s-=e.scrollLeft||0,!w.m()&&Y.Support.webkit&&(s+=e.scrollWidth-e.clientWidth),e=e.parentNode););return[s,n]},m:function(){return d||(v="ltr"===w.getStyle(document.body,"direction"),d=!0),v},create:function(t,i,n,s){return t=document.createElement(t),n&&(t.className=n),i&&(s&&"before"===s?(s=i.firstChild,i.insertBefore(t,s)):i.appendChild(t)),t},toggleClass:function(t,i,n){n?this.addClass(t,i):this.removeClass(t,i)},hasClass:function(t,i){if(t&&i)return 0<t.className.length&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(t.className)},addClass:function(t,i){t&&i&&(t.classList&&t.classList.add?t.classList.add(i):this.hasClass(t,i)||(t.className+=(t.className?" ":"")+i))},setClass:function(t,i){t&&(t.className=i||"")},removeClass:function(t,n){t&&n&&(t.classList&&t.classList.remove?t.classList.remove(n):t.className=t.className.replace(/(\S+)\s*/g,function(t,i){return i===n?"":t}).replace(/(^\s+|\s+$)/,""))},watchSize:function(n,s,e){var i=document.createElement("iframe");i.style.cssText="width: 100%;height: 100%;position: absolute;pointEvents:none; opacity:0; margin: 0;padding: 0;border: none;",i.onload=function(){i&&(i.contentWindow.onresize=t)},n.appendChild(i),i.src="about:blank";var r=0,h=0;function t(){e.k=n.getBoundingClientRect(),e.M=[n.clientLeft,n.clientTop];var t=n.offsetWidth,i=n.offsetHeight;t===r&&i===h||(s(t,i),r=t,h=i)}return t(),e.resize=t,window.onscroll=t,function(){var t;e.resize&&(e.resize=null),window.onscroll&&(window.onscroll=null),i.contentWindow&&(i.contentWindow.onresize=null,i.contentWindow.document.write(""),i.parentNode.removeChild(i),null!==(t=i.contentWindow)&&void 0!==t&&t.close())}},watchSize2:function(n,s,e){var r=document.createElement("_");r.className="expand";var h=r.appendChild(document.createElement("_"));h.className="shrink";var o=r.appendChild(document.createElement("_"));o.className="expandChild";var a,u,t=h.appendChild(document.createElement("_"));return t.className="shrinkChild",h.style.cssText=r.style.cssText="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",t.style.cssText=o.style.cssText="display:block;height:100%;transition:0s;width:100%",t.style.width=t.style.height="200%",n.appendChild(r),f(),function(){c(),n.removeChild(r)};function f(){c(),e.k=n.getBoundingClientRect(),e.M=[n.clientLeft,n.clientTop];var t=n.offsetWidth,i=n.offsetHeight;t===a&&i===u||(a=t,u=i,o.style.width=2*t+"px",o.style.height=2*i+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,h.scrollLeft=h.scrollWidth,h.scrollTop=h.scrollHeight,s(t,i)),h.addEventListener("scroll",f),r.addEventListener("scroll",f)}function c(){h.removeEventListener("scroll",f),r.removeEventListener("scroll",f)}},mousePos:function(t,i,n){return t&&(n.k=t.getBoundingClientRect(),n.M=[t.clientLeft,t.clientTop]),t=n.k,[(i=i.touches&&i.changedTouches?0<i.touches.length?i.touches[0]:i.changedTouches[i.changedTouches.length-1]:i).clientX-t.left-n.M[0],i.clientY-t.top-n.M[1]]},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},closest:function(t,i){return t?this.hasClass(t,i)?t:(t=t.parentElement)?w.closest(t,i):null:null},fillText:function(t,i){if(t)return void 0!==t.textContent?t.textContent=i:void 0!==t.innerText?t.innerText=i:t.innerHTML=i,t},_L:function(t){for(var i=document.documentElement.style,n=0;n<t.length;n+=1)if(t[n]in i)return t[n];return!1},rotate:function(t,i,n){var s,e=w.kL;n=n||{x:t.clientWidth/2,y:t.clientHeight/2},e?(s="",t.style[e]=s+=" rotate("+i+"deg)",t.style[w.ML[e]+"-origin"]=n.x+"px "+n.y+"px"):(e=Math.cos(i*Math.PI/180),i=Math.sin(i*Math.PI/180),t.style.filter="progid:DXImageTransform.Microsoft.Matrix()",0<t.filters.length&&((t=t.filters.item(0)).Dx=-n.x*e+n.y*i+n.x,t.Dy=-n.x*i-n.y*e+n.y,t.M11=t.M22=e,t.M12=-(t.M21=i)))},setCss:function(t,i){t=t instanceof Array?t:[t];for(var n=0;n<t.length;n+=1)for(var s in i)i.hasOwnProperty(s)&&(t[n].style[s]=i[s]);return this},setOpacity:function(t,i){t.style&&("opacity"in t.style?t.style.opacity=""+i:"filter"in t.style&&(i=Math.round(100*i),t.style.filter="",100!==i&&(t.style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+i+")")))},ML:{},kL:v=d=!1};w.kL=w._L(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]),w.ML={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};var p=(m.prototype.isEnabled=function(){return"disabled"!==this.R},m.prototype.isActive=function(){return"active"===this.R},m.prototype.enable=function(){this.isEnabled()||(this.R="enabled")},m.prototype.disable=function(){this.isEnabled()&&(this.R,this.R="disabled")},m.prototype.L=function(t){this.A&&(this.A=!1),t.ctrlKey||0!==t.button||(document.addEventListener("mousemove",this.T),document.addEventListener("mouseup",this.I),this.D(t))},m.prototype.P=function(t){if(1<t.touches.length)return this.j.removeEventListener("touchmove",this.T),void(this.R="enabled");this.A&&(this.A=!1),"enabled"===this.R&&(this.j.addEventListener("touchmove",this.T,{capture:!0,passive:!0}),document.addEventListener("touchend",this.oS),this.D(t))},m.prototype.D=function(t){this.$=this.U=this.B=w.mousePos(this.j,t,this._map),this.YF=this._map.getView().getStatus().centerCoord,this.XF=this._map.containerToCoord(this.$),this.W=[[Date.now(),this.$]],this.R="active"},m.prototype.Z=function(t){var i;"touchmove"===t.type&&1<t.touches.length||(this.W.length<2&&"active"===this.R&&this.G("dragstart",t),"touchmove"===t.type&&this.G("touchmove",t),this.G("dragging",t),this.isEnabled()&&("active"===this.R&&(this.R="pending"),"disabled"!==this.R&&this._map.getStatus().dragEnable&&(i=w.mousePos(this.j,t,this._map),this.q=t,this.B=Y.set(Y.create(),i[0],i[1]),this.Y(),this.W.push([Date.now(),this.B]),this.W.length<2||(t=this._map.getView(),i=this._map.containerToCoord(i),i=[this.XF[0]-i[0]+this.YF[0],this.XF[1]-i[1]+this.YF[1]],t.setOptions({center:this._map.getProjection().unproject(i[0],i[1])})))))},m.prototype.tt=function(t){if(0===t.button){if(this.it())return this.S(),void this.C();switch(this.R){case"active":this.R="enabled",this.S(),this.C();break;case"pending":this.R="enabled",this.S(),this.C(),this.et(t),this.G("dragend",t);break;default:this.R="enabled",this.S(),this.G("dragend",t)}}},m.prototype.N=function(t){if(0<t.touches.length)return this.$=this.U=this.B=w.mousePos(this.j,t,this._map),this.YF=this._map.getView().getStatus().centerCoord,void(this.XF=this._map.containerToCoord(this.$));if(this.it())return this.S(),this.C(),this.R="enabled",void this.G("dragend",t);switch(this.R){case"active":this.R="enabled",this.S(),this.C();break;case"pending":this.R="enabled",this.S(),this.C(),this.G("dragend",t),this.et(t);break;default:this.G("dragend",t),this.S()}},m.prototype.it=function(){var t=this._map.getLimitBounds();if(t=t&&t.toJSON()){var i=this._map.getBounds().toJSON(),n=[],s=this._map.getCenter().toJSON(),e=[s[0],s[1]];return(i[0]<t[0]||i[1]<t[1]||i[2]>t[2]||i[3]>t[3])&&(n[0]=i[0]-t[0],n[1]=i[1]-t[1],n[2]=i[2]-t[2],n[3]=i[3]-t[3],n[0]<0&&0<n[2]?e[0]=(t[0]+t[2])/2:n[0]<0?e[0]=s[0]-n[0]:0<n[2]&&(e[0]=s[0]-n[2]),n[1]<0&&0<n[3]?e[1]=(t[1]+t[3])/2:n[1]<0?e[1]=s[1]-n[1]:0<n[3]&&(e[1]=s[1]-n[3]),this._map.panTo(e,100),!0)}},m.prototype.S=function(){this.j.removeEventListener("touchmove",this.T),document.removeEventListener("touchend",this.oS),document.removeEventListener("mousemove",this.T),document.removeEventListener("mouseup",this.I)},m.prototype.C=function(){delete this.q,delete this.$,delete this.U,delete this.B},m.prototype.Y=function(){for(var t=this.W,i=Date.now();0<t.length&&60<i-t[0][0];)t.shift()},m.prototype.et=function(t){var i,n,s,e,r,h,o,a,u,f,c,l,d,v;function p(){this.isEnabled()&&this.A||(r=-1);var t=Date.now()-o;a<t&&(r=-1),t=[l[0]*t+d[0]*t*t/2,l[1]*t+d[1]*t*t/2],h=[h[0]+(t[0]-v[0]),h[1]+(t[1]-v[1])],v=t,r<=0?this.A=!1:(s.setOptions({center:Y.ProjectionManager.getProjection(e.projectionId).unproject(h[0],h[1])}),Y.Util.requestAnimFrame(p.bind(this)),r--)}this._map.getStatus().jogEnable&&(this.A=!0,this.Y(),(f=this.W).length<2||(c=f[f.length-1],i=f[0],n=[c[1][0]-i[1][0],c[1][1]-i[1][1]],0==(u=(c[0]-i[0])/1e3)||Y.equals(c[1],i[1])?this.G("moveend",t):(t=[n[0]/(.3/u),n[1]/(.3/u)],u=Math.sqrt(t[0]*t[0]+t[1]*t[1])/750,s=this._map.getView(),t=(e=s.getStatus()).rotation,u=r=parseInt((1e3*u+400)/17+"",10),new L(.1,0,1,.1),Y.V[e.projectionId].nt(-n[0]/7,n[1]/7,e.zoom),h=Y.ProjectionManager.getProjection(e.projectionId).project(e.center[0],e.center[1]),o=Date.now(),a=17*u,u=f[f.length-Math.min(f.length,3)],f=[c[1][0]-u[1][0],c[1][1]-u[1][1]],0!==t&&(f=this.J(t,f)),f=Y.V[e.projectionId].nt(f[0],-f[1],e.zoom),c=Math.min(u[0]-c[0],-15),l=[f[0]/c,f[1]/c],d=[-l[0]/a,-l[1]/a],v=[0,0],Y.Util.requestAnimFrame(p.bind(this)))))},m.prototype.J=function(t,i){var n=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=Math.atan2(i[1],i[0]),s=t/180*Math.PI-s;return i[0]=n*Math.cos(s),i[1]=-n*Math.sin(s),i},m.prototype.G=function(t,i){this._map.getBindHandler().fireEvent(t,i)},m);function m(t,i){this.st="mouse",this._map=i,this.W=[],this.j=t,this.R="disabled",this.T=this.Z.bind(this),this.I=this.tt.bind(this),this.oS=this.N.bind(this)}var y=(b.prototype.isEnabled=function(){return"disabled"!==this.R},b.prototype.isActive=function(){return"active"===this.R},b.prototype.enable=function(){this.isEnabled()||(this.rt=!0,this.R="enabled")},b.prototype.ht=function(){return!!this.lt},b.prototype.disable=function(){if(this.isEnabled())switch(this.R){case"enabled":case"active":this.R="disabled",this.S(),this.C();break;case"pending":this.R="disabled",this.S();break;default:this.R="disabled"}},b.prototype.ut=function(t){t.preventDefault(),"enabled"===this.R&&this._map.getStatus().doubleClickZoom&&(t.ctrlKey||0!==t.button||this.D(t))},b.prototype.P=function(t,i){var n=this;if(this.$=w.mousePos(this.j,t,this._map),2===t.touches.length)return this.rt=!1,void(this.ct=0);this.rt=!0,this.ct++,this.ft=i,this.lt=!1,setTimeout(function(){1===n.ct&&(n.ct=0)},300),this.pt=[t.changedTouches[0].clientX,t.changedTouches[0].clientY],this.j.addEventListener("touchmove",this.dt),2<=this.ct&&this.j.addEventListener("touchend",this.N.bind(this))},b.prototype.vt=function(t){var i=this;this.rt&&(this.yt++,setTimeout(function(){i.yt=0},300),2===this.yt&&!this.lt&&this._map.getStatus().doubleClickZoom&&(t.preventDefault(),this.yt=0,this.ct=0,this.D(t)),2===this.ct&&(this.ct=0))},b.prototype.D=function(i){var n=this;this.lt=!0,this.R="active",this.G("zoomstart");var s,e,r=400,h=0,o=this._map.getView().getStatus().zoom,a=new L(.4,0,.15,1);o>=this.xt[1]||(e=0,s=function(){h+=16;var t=o+a.h(h/r);t>=n.xt[1]||(n.bt(i,t),o+1<=t&&(Y.Util.cancelAnimFrame(e),n.lt=!1,n.R="enabled",n.tt(),n.N()),(n.lt||h<400)&&(e=Y.Util.requestAnimFrame(s)))},e=Y.Util.requestAnimFrame(s))},b.prototype.gt=function(t){var i,n,s=w.mousePos(this.j,t,this._map);s[0]-this.$[0]==0&&s[1]-this.$[1]==0||(this.yt=-1,this.ct<2?this.ct=0:this.rt&&(this.lt=!0,this.wt=!0,this.ft.disable(),i=t.changedTouches.length,n=this._map.getView(),s=this._map.getView().getStatus().zoom-(t.changedTouches[i-1].clientY-this.pt[1])/100,n.setOptions({zoom:s}),this.pt=[t.changedTouches[i-1].clientX,t.changedTouches[i-1].clientY]))},b.prototype.N=function(){this.wt&&2<=this.ct&&(this.ft.enable(),this.tt(),this.lt=!1,this.wt=!1)},b.prototype.bt=function(t,i){var n,s,e=this._map.getView(),r=e.getStatus(),h=r.center,o=r.zoom,a=r.rotation,u=r.projectionId;this._map.getStatus().zoomEnable&&(n=w.mousePos(this.j,t,this._map),s=[this.j.clientWidth/2,this.j.clientHeight/2],r=this._t(s,n),t=Math.atan((n[1]-s[1])/(n[0]-s[0])),t=-a/180*Math.PI+t,r=[-Math.cos(t)*r,Math.sin(t)*r],n[0]-s[0]<0&&(r[0]=-r[0],r[1]=-r[1]),s=Y.V[u].nt(r[0],r[1],o),r=Y.V[u].nt(r[0],r[1],i),o=Math.pow(2,i-o),e.setOptions({kt:{pos:n,Mt:i,Rt:r,zt:s,scale:o,center:Y.set(Y.create(),h[0],h[1])}}),this.G("zooming"))},b.prototype.tt=function(t){t&&0!==t.button||(this.S(),this.C(),this.G("zoomend"))},b.prototype.S=function(){this.j.removeEventListener("dblclick",this.St),this.j.removeEventListener("touchmove",this.dt)},b.prototype.C=function(){delete this.$,delete this.U,delete this.U},b.prototype._t=function(t,i){var n=i[0]-t[0],t=i[1]-t[1];return Math.sqrt(n*n+t*t)},b.prototype.G=function(t,i){this._map.getBindHandler().fireEvent(t,i)},b);function b(t,i){this.lt=!1,this.wt=!1,this.rt=!0,this.xt=Y.zoomRange,this.yt=0,this.ct=0,this.pt=[0,0],this._map=i,this.j=t,this.R="disabled",this.St=this.ut.bind(this),this.dt=this.gt.bind(this)}var g=(k.prototype.isEnabled=function(){return"disabled"!==this.R},k.prototype.isActive=function(){return"active"===this.R},k.prototype.enable=function(){this.isEnabled()||(this.R="enabled")},k.prototype.disable=function(){if(this.isEnabled())switch(w.removeClass(this.j,"mapboxgl-touch-drag-pan"),this.R){case"active":this.R="disabled",this.S(),this.G("zoomstart");break;case"pending":this.R="disabled",this.S();break;default:this.R="disabled"}},k.prototype.ht=function(){return!!this.lt},k.prototype.P=function(t){2===t.touches.length&&(t.stopPropagation(),this.G("zoomstart"),this.$=[{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},{clientX:t.touches[1].clientX,clientY:t.touches[1].clientY,pageX:t.touches[1].pageX,pageY:t.touches[1].pageY}],this.B=this.$,t=this._map.getView(),this.zY=t.getStatus(),this.j.addEventListener("touchmove",this.T),this.j.addEventListener("touchend",this.At))},k.prototype.Z=function(t){var i,n,s,e,r,h,o,a,u,f,c,l,d,v,p,m,y,b,g,k,M;t.touches.length<2||(this.G("touchmove"),this._map.getStatus().touchZoom&&this.isEnabled()&&(this.lt=!0,i=-this.CF(t),s=(m=(n=this._map.getView()).getStatus()).rotation,e=m.center,r=m.zoom,k=m.projectionId,b=void 0===(v=m.Tt)?k:v,h=m.pitch,o=(y=this._map.getStatus()).rotateEnable,a=y.zoomEnable,u=y.pitchEnable,f=y.touchZoomCenter,c=this.MW.CY,d=l=!1,p=this.It(this.B[0],this.B[1]),g=this.It(t.touches[0],t.touches[1]),M=this.Dt(this.$[0],this.$[1]),k=this.Dt(t.touches[0],t.touches[1]),v=r+(g-p)/180,m=[((m=Y.Pt(w.mousePos(this.j,this.$[0],this._map),w.mousePos(this.j,this.$[1],this._map)))[0]+m[2])/2,(m[1]+m[3])/2],y=[this.j.clientWidth/2,this.j.clientHeight/2],g=this.jt(y,m),p=Math.atan((m[1]-y[1])/(m[0]-y[0])),p=s*Math.PI/180+p,g=[-Math.cos(p)*g,Math.sin(p)*g],m[0]-y[0]<0&&(g[0]=-g[0],g[1]=-g[1]),m=Y.V[b].nt(g[0],g[1],r),y=Y.V[b].nt(g[0],g[1],v),b=Math.pow(2,v-r),g=this.zY.rotation+(k-M),10<Math.abs(k-M)&&(this.MW.CY=!0),.1<Math.abs(i)&&(l=c=!(d=!0)),.01<Math.abs(v-r)&&(l=!0),k=w.mousePos(this.j,this.$[0],this._map),M=w.mousePos(this.j,this.$[1],this._map),1===f?n.setOptions({pitch:u&&d?h+i:h,zoom:a&&l?v:r,rotation:o&&c?g:s}):n.setOptions({pitch:u&&d?h+i:h,kt:a&&l&&{Mt:v,Rt:y,zt:m,pos:[(k[0]+M[0])/2,(k[1]+M[1])/2],scale:b,center:Y.set(Y.create(),e[0],e[1])},rotation:o&&c?g:s}),this.B=[{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY},{clientX:t.touches[1].clientX,clientY:t.touches[1].clientY,pageX:t.touches[1].pageX,pageY:t.touches[1].pageY}]))},k.prototype.CF=function(t){var i=this.B,n=this.$,s=[w.mousePos(this.j,i[0],this._map),w.mousePos(this.j,i[1],this._map)],e=(w.mousePos(this.j,n[0],this._map),w.mousePos(this.j,n[1],this._map),[w.mousePos(this.j,t.touches[0],this._map),w.mousePos(this.j,t.touches[1],this._map)]),i=Math.sqrt(Math.pow(s[0][0]-s[1][0],2)+Math.pow(s[0][1]-s[1][1],2)),n=Math.sqrt(Math.pow(e[0][0]-e[1][0],2)+Math.pow(e[0][1]-e[1][1],2));return 2<Math.abs(n-i)?0:(t=e[0][0]-s[0][0],n=e[0][1]-s[0][1],i=e[1][0]-s[1][0],s=e[1][1]-s[1][1],Math.abs(n)<Math.abs(t)||Math.abs(s)<Math.abs(i)?0:-(n+s)/2/4)},k.prototype.Et=function(t){this.MW.CY=!1,this.G("zoomend"),this.S()},k.prototype.It=function(t,i){var n=i.clientX-t.clientX,t=i.clientY-t.clientY;return Math.sqrt(n*n+t*t)},k.prototype.jt=function(t,i){var n=i[0]-t[0],t=i[1]-t[1];return Math.sqrt(n*n+t*t)},k.prototype.Dt=function(t,i){var n=t.pageX-i.pageX,i=t.pageY-i.pageY;return Math.atan2(i,n)/Math.PI*180},k.prototype.S=function(){this.j.removeEventListener("touchstart",this.Nt),this.j.removeEventListener("touchmove",this.T),this.j.removeEventListener("touchend",this.At)},k.prototype.G=function(t,i){this._map.getBindHandler().fireEvent(t,i)},k);function k(t,i){this.MW={CY:!1},this._map=i,this.j=t,this.R="disabled",this.T=this.Z.bind(this),this.At=this.Et.bind(this)}var M=4.000244140625,x=(A.prototype.isEnabled=function(){return"disabled"!==this.R},A.prototype.isActive=function(){return"active"===this.R},A.prototype.enable=function(){this.isEnabled()||(this.R="enabled")},A.prototype.disable=function(){this.isEnabled()&&(this.R="disabled",this.C(),this.G("zoomend"))},A.prototype.Ut=function(t){t.preventDefault();var i,n,s,e=this._map.getStatus();this.G("zoomstart"),this.isEnabled()&&(i=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaMode===WheelEvent.DOM_DELTA_PAGE?400*t.deltaY:t.deltaY,s=(n=Date.now())-(this.Bt||0),this.Bt=n,0!==i&&i%M==0?this.Wt="wheel":0!==i&&Math.abs(i)<4?this.Wt="trackpad":400<s?(this.Wt=null,this.Gt=i):this.Wt||(this.Wt=Math.abs(s*i)<200?"trackpad":"wheel",this.Zt&&(i+=this.Gt)),t.shiftKey&&i&&(i/=4),e&&e.zoomSpeed&&(i*=e.zoomSpeed),this.Wt&&(this.$t-=i,this.isActive()||this.D(t)))},A.prototype.D=function(t){var i,n,s,e,r,h,o,a,u;this.$t&&(n=(e=(i=this._map.getView()).getStatus()).rotation,u=e.zoom,s=e.center,a=e.projectionId,r="wheel"===this.Wt&&Math.abs(this.$t)>M?1/450:.01,h=2/(1+Math.exp(-Math.abs(this.$t*r))),this.$t<0&&0!==h&&(h=1/h),o=this.Yt(u),e=Math.min(this._map.getZooms()[1],Math.max(2,this.Vt(o*h))),r=w.mousePos(this.j,t,this._map),o=[this.j.clientWidth/2,this.j.clientHeight/2],h=this._t(o,r),t=Math.atan((r[1]-o[1])/(r[0]-o[0])),t=-n/180*Math.PI+t,h=[-Math.cos(t)*h,Math.sin(t)*h],r[0]-o[0]<0&&(h[0]=-h[0],h[1]=-h[1]),o=Y.V[a].nt(h[0],h[1],u),a=Y.V[a].nt(h[0],h[1],e),u=Math.pow(2,e-u),this._map.XT(h),i.setOptions({kt:{pos:r,Mt:e,Rt:a,zt:o,scale:u,center:Y.set(Y.create(),s[0],s[1])}}),this.$t=0)},A.prototype.Yt=function(t){return Math.pow(2,t)},A.prototype.Vt=function(t){return Math.log(t)/Math.LN2},A.prototype._t=function(t,i){var n=i[0]-t[0],t=i[1]-t[1];return Math.sqrt(n*n+t*t)},A.prototype.C=function(){delete this.q,delete this.$,delete this.U,delete this.B},A.prototype.G=function(t,i){this._map.getBindHandler().fireEvent(t,i)},A);function A(t,i){this._map=i,this.j=t,this.R="disabled",this.Wt="wheel",this.$t=0}var z=(C.prototype.isEnabled=function(){return"disabled"!==this.R},C.prototype.isActive=function(){return"active"===this.R},C.prototype.enable=function(){this.isEnabled()||(this.R="enabled")},C.prototype.disable=function(){if(this.isEnabled()){switch(this.R){case"active":this.S(),this.C();break;case"pending":this.S()}this.R="disabled"}},C.prototype.L=function(t){this.A&&clearInterval(this.A),(2===t.button||t.ctrlKey&&0===t.button)&&(this.j.addEventListener("mousemove",this.T,{passive:!0}),this.j.addEventListener("mouseup",this.I),this.j.addEventListener("mouseleave",this.I),this.D(t))},C.prototype.D=function(t){this.$=this.U=this.B=w.mousePos(this.j,t,this._map),this.W=[[Date.now(),this.$]],this.R="active"},C.prototype.Z=function(t){var i,n,s;this.W.length<2&&"active"===this.R&&this.G("dragstart",t),this.G("dragging",t),this.isEnabled()&&(n=w.mousePos(this.j,t,this._map),this.q=t,this.B=Y.set(Y.create(),n[0],n[1]),this.Y(),this.W.push([Date.now(),this.B]),this.W.length<2||("active"===this.R&&(this.R="pending"),"disabled"!==this.R&&(t=(s=(i=this._map.getView()).getStatus()).rotation,n=s.pitch,s=[this.B[0]-this.W[this.W.length-2][1][0],this.B[1]-this.W[this.W.length-2][1][1]],(!this._map.getStatus().pitchEnable||Math.abs(s[0])>Math.abs(s[1]))&&(s[1]=0),(!this._map.getStatus().rotateEnable||Math.abs(s[0])<Math.abs(s[1]))&&(s[0]=0),15<Math.abs(this.B[0]-this.$[0])&&(this.B[1]>this.j.clientHeight/2?t-=s[0]/10:t+=s[0]/10),n-=s[1]/this._map.getZooms()[1]*2,i.setOptions({rotation:t,pitch:n}))))},C.prototype.tt=function(t){switch(this.R){case"active":this.R="enabled",this.C();break;case"pending":this.R="enabled",this.G("dragend",t);break;default:this.G("dragend",t)}this.S()},C.prototype.S=function(){this.j.removeEventListener("mousemove",this.T),this.j.removeEventListener("mouseup",this.I),this.j.removeEventListener("mouseleave",this.I)},C.prototype.C=function(){delete this.q,delete this.$,delete this.U,delete this.B},C.prototype.Y=function(){for(var t=this.W,i=Date.now();0<t.length&&160<i-t[0][0];)t.shift()},C.prototype.G=function(t,i){this._map.getBindHandler().fireEvent(t,i)},C);function C(t,i){this._map=i,this.W=[],this.j=t,this.R="disabled",this.T=this.Z.bind(this),this.I=this.tt.bind(this)}var S=(T.prototype.Xt=function(){this._container.addEventListener("mouseenter",this.DL.bind(this)),this._container.addEventListener("mouseover",this.OL.bind(this)),this._container.addEventListener("mouseleave",this.PL.bind(this)),this._container.addEventListener("mouseup",this.tt.bind(this)),this._container.addEventListener("mouseout",this.BL.bind(this)),this._container.addEventListener("mousemove",this.jL.bind(this)),this._container.addEventListener("mousedown",this.Jt.bind(this)),this._container.addEventListener("touchend",this.N.bind(this)),this._container.addEventListener("touchstart",this.Kt.bind(this),!1),this._container.addEventListener("touchmove",this.gt.bind(this),!1),this._container.addEventListener("wheel",this.Qt.bind(this),{passive:!1}),this._container.addEventListener("contextmenu",this.EL.bind(this)),this._container.addEventListener("keydown",this.ii.bind(this))},T.prototype.fireEvent=function(t,i){if(i){i.Adt=t;var n=this._map.getStatus();if("scrollWheel"===t){if(!n.scrollWheel)return void this.oi.disable();this.oi.enable()}var s,e=w.mousePos(this._container,i,this._map),r=e[0],h=e[1],o=this._map.getView().containerTolnglat(r,h),a=o[0],u=o[1];if("mousemove"===t&&this.ri&&this.ri.P$)s=this.ri;else if("dragstart"===t||"dragging"===t||"dragend"===t)switch(t){case"dragstart":s=!n.pickWhenMoving&&this._map.TL()?this.ri:this.si(i),this.ri=s;break;case"dragging":s=this.ri;break;case"dragend":s=this.ri,this.ri=void 0}else s=!n.pickWhenMoving&&this._map.TL()?this.ri:this.si(i);e=this.hi(s,t),u={lnglat:o=new Y.LngLat(a,u),target:s,pixel:h=new Y.Pixel(r,h),originEvent:i,pos:a=this._map.getProjection().project(a,u),vectorIndex:0},s&&(u.vectorIndex=s&&s.iE&&i.lnglat&&s.iE(i.lnglat)||0),-1!==["mouseover","mousemove","mouseout","mouseenter","mouseleave"].indexOf(t)?this.ui(t,u):s&&this.ci(s,t,u),a={lnglat:o,target:s,pixel:h,originEvent:i,pos:a},(u=u.target)&&"poi"!==u.type&&!e||(a.target=this._map),s&&"poi"===s.type||s&&e?this._map.emit(t,a):"dblclick"===t&&s?this.fi.disable():"dragstart"!==t&&"dragging"!==t&&"dragend"!==t||!s||!s.getDraggable()&&"AMap.InfoWindow"!==s.type&&"AMap.ContextMenu"!==s.type?s||(n.dragEnable||"dragging"!==t&&"dragstart"!==t&&"dragend"!==t)&&this._map.emit(t,a):"dragend"===t?this.ft.enable():this.ft.disable()}},T.prototype.hi=function(t,i){return!(!t||"poi"===t.type||"dragstart"===i||"dragging"===i||"dragend"===i||!this._map.getStatus().allBubble&&!Boolean(t.getOptions().bubble))},T.prototype.ti=function(t){this.fi.enable(),this.fireEvent("dblclick",t),this.fi.ut(t)},T.prototype.Jt=function(t){this._map.cancelMapAnimate(),this.Ht="mousedown",this.fireEvent("mousedown",t),this.ft.enable(),this.ft.L(t),this.ei.L(t),this.$=w.mousePos(this._container,t,this._map)},T.prototype.OL=function(t){this.fireEvent("mouseover",t)},T.prototype.DL=function(t){this.fireEvent("mouseenter",t)},T.prototype.PL=function(t){this.fireEvent("mouseleave",t)},T.prototype.BL=function(t){this.fireEvent("mouseout",t)},T.prototype.tt=function(t){var i=this;"mousedown"!==this.Ht||t.ctrlKey||(setTimeout(function(){i.nB=0},300),this.Ht="false",2===t.button?this.fireEvent("rightclick",t):(this.nB++,2<=this.nB?(this.fi.enable(),this.fireEvent("dblclick",t),this.fi.ut(t),this.nB=0):this.fireEvent("click",t))),this.fireEvent("mouseup",t)},T.prototype.FL=function(t){"move"!==this.Ht&&this.fireEvent("click",t)},T.prototype.jL=function(t){var i;"mousedown"===this.Ht&&(i=w.mousePos(this._container,t,this._map),(1<Math.abs(this.$[0]-i[0])||1<Math.abs(this.$[1]-i[1]))&&(this.Ht="move")),this.fireEvent("mousemove",t)},T.prototype.Kt=function(t){var i=this;"infoWindow"!==t.cH&&t.cancelable&&t.preventDefault(),this.oB="touchstart",this.$=w.mousePos(this._container,t,this._map),this._map.cancelMapAnimate(),this.fireEvent("touchstart",t),this.rB=(new Date).getTime(),this.ft.enable(),this.ft.P(t),this.fi.P(t,this.ft),this.ni.P(t),clearTimeout(this.aB),1===t.touches.length&&(this.aB=setTimeout(function(){i.fireEvent("rightclick",t)},800))},T.prototype.gt=function(t){this.$&&(t=w.mousePos(this._container,t,this._map),(1<Math.abs(t[0]-this.$[0])||1<Math.abs(t[1]-this.$[1]))&&"touchstart"===this.oB&&(this.oB="touchmove"))},T.prototype.N=function(t){var i=this,n=(new Date).getTime();this.fireEvent("touchend",t),clearTimeout(this.aB),"touchstart"===this.oB&&n-this.rB<800&&(this.oB="false",this.fireEvent("click",t),setTimeout(function(){i.dH=0},300),this.dH++,2<=this.dH&&(this.fireEvent("dblclick",t),this.dH=0)),this.fi.vt(t)},T.prototype.Qt=function(t){this._map.cancelMapAnimate(),this.fireEvent("mousewheel",t),this._map.getStatus().scrollWheel&&(t.preventDefault(),this.ft.disable(),this.oi.Ut(t))},T.prototype.EL=function(t){t.ctrlKey,t.preventDefault()},T.prototype.si=function(t){var i,s=(n=this._map).DF(),e=n.pi,r=n.di,n=n.vm,h=s.concat([e,r,n]),e=(s=w.mousePos(this._container,t,this._map))[0],r=s[1],s=(n=this._map.getView().containerTolnglat(e,r))[0],n=n[1];t.lnglat=new Y.LngLat(s,n),t.pixel=new Y.Pixel(e,r);for(var o=h.length-1;0<=o;o--){var a=h[o];if(a=a&&a.vi(t)){if(!a.getOptions){i=a;break}if(!0!==a.getOptions().noSelect){i=a;break}}}return i},T.prototype.ui=function(t,i){var e=void 0===(s=(n=this.mi).yi)?null:s,s=void 0===(r=n.xi)?null:r,r=n.vectorIndex,n=i.target;"mousemove"!==t&&"mouseleave"!==t||("mousemove"===t?e?n?e.hS!==n.hS||(void 0===r?-1:r)!==i.vectorIndex?(this.ci(e,"mouseout",s),this.ci(n,"mouseover",i)):this.ci(n,"mousemove",i):this.ci(e,"mouseout",s):n&&this.ci(n,"mouseover",i):"mouseleave"===t&&e&&this.ci(e,"mouseout",s),this.mi.yi=n,this.mi.vectorIndex=i.vectorIndex,this.mi.xi=i)},T.prototype.ci=function(t,i,n){"poi"===t.type?this._map.getStatus().isHotspot&&this.bi(t,i,n):t.emit(i,n)},T.prototype.bi=function(t,i,n){var s,e,r,h="hotspot";switch(i){case"click":this._map.setCursor("pointer"),s=h+i;break;case"mouseover":this._map.setCursor("pointer"),s=h+"over";break;case"mouseout":this._map.setCursor(""),s=h+"out"}s&&(e=(r=this._map.getProjection().unproject(t.lnglat[0],t.lnglat[1]))[0],r=r[1],n={type:s,id:t.id,name:t.name,lnglat:new Y.LngLat(e,r),originEvent:n.originEvent},this._map.emit(s,n))},T.prototype.ii=function(t){var i,n;this._map.getStatus().keyboardEnable&&(i=this._map.getZoom(),n=this._map.getRotation(),"="===t.key?this._map.setZoom(i+1,!0):"-"===t.key&&this._map.setZoom(i-1,!0),t.ctrlKey?"ArrowLeft"===t.key?this._map.setRotation(n-90,!0):"ArrowRight"===t.key&&this._map.setRotation(n+90,!0):"ArrowUp"===t.key?this._map.panBy(0,300):"ArrowDown"===t.key?this._map.panBy(0,-300):"ArrowLeft"===t.key?this._map.panBy(300,0):"ArrowRight"===t.key&&this._map.panBy(-300,0))},T);function T(t){this.Ht="false",this.oB="false",this.nB=0,this.dH=0,this.aB=0,this.rB=0,this.mi={yi:null,xi:null},this._map=t,this._container=this._map.getMapsContainer(),this.ft=new p(this._container,t),this.ft.enable(),this.oi=new x(this._container,t),this.oi.enable(),this.fi=new y(this._container,t),this.fi.enable(),this.ni=new g(this._container,t),this.ni.enable(),this.ei=new z(this._container,t),this.ei.enable()}var I,D=new Y.rW({}),O=(I=Y.Event,Y.Ei(E,I),E.prototype.lo=function(){return this.Oo},E.prototype.destroy=function(){},E.prototype.Fo=function(t){!t||t===this.Oo||this.pS||this.Oo||(this.pS=!0,this.Oo=!0,this.emit("complete"))},E.prototype.VE=function(t,i,n){for(var s=this.lZ(),e=[],r=0;r<t.length;r++){var h=t[r],h=Y.ProjectionManager.getProjection("EPSG:3857").unproject(h[0],h[1]);e.push(h)}var o=s.boundsP16;i&&"china"===i?o=[o[0]]:i&&"oversea"===i&&(o=s.nebulaOutSea);for(var a=0;a<o.length;a++){var u=o[a];if(D.isRingInRingByOutsea(e,u[0]))return!0}return!1},E.prototype.rG=function(t,i){for(var n=this.lZ(),s=[],e=0;e<t.length;e++){var r=t[e],r=Y.ProjectionManager.getProjection("EPSG:3857").unproject(r[0],r[1]);s.push(r)}for(var h=n.boundsP16,o=0;o<h.length;o++){var a=h[o];if(D.isRingInRingByMapbox(s,a[0]))return!0}return!1},E.prototype.aU=function(t,i){for(var n=this.lZ(),s=[],e=0;e<t.length;e++){var r=t[e],r=Y.ProjectionManager.getProjection("EPSG:3857").unproject(r[0],r[1]);s.push(r)}for(var h=n.boundsP16,o=0;o<h.length;o++){var a=h[o];if(D.isRingInRingByMapboxB(s,a[0]))return!0}return!1},E.prototype.sU=function(t){for(var i=this.lZ().boundsP16,n=i.length,s=t.projectionId,e=[],r=0;r<n;r++){var h=i[r],h=Y.V[s].Xs(h[0],h[1],16);e.push(h[0]),e.push(h[1])}return e},E.prototype.UH=function(t){},E.prototype.Eo=function(){this.map.setNeedUpdate(!0)},E.prototype.lZ=function(){var t=this.map.getOutseaDataType();return Y.vZ(t)},Y.dZ([Y.pZ("Source")],E));function E(t,i,n,s){var e=I.call(this)||this;return e.map=n,e.layer=s,e.Oo=!1,e.pS=!1,e._id=t.id,e.Wt=t.type,e.Be=t.tileUrl,t.url&&(e.$o=t.url),e}var R=(Object.defineProperty(P.prototype,"size",{get:function(){return Y.keys(this.VL).length},eb:!1,nb:!0}),P.prototype.clear=function(){this.VL={}},P.prototype.set=function(t,i){this.VL[t]=i},P.prototype.get=function(t){return this.VL[t]},P.prototype.delete=function(t){delete this.VL[t]},P.prototype.has=function(t){return void 0!==this.VL[t]},P);function P(){this.VL={}}var j="newer",B="older",F=(W.prototype.Uo=function(t){var i=this.Bo;(this.Bo=t)<i&&this.MN()},W.prototype.keys=function(){return new N(this.Wo)},W.prototype.values=function(){return new U(this.Wo)},W.prototype.entries=function(){return this},W.prototype.forEach=function(t,i){"object"!=typeof i&&(i=this);for(var n=this.Wo;n;)t.call(i,n.value,n.key,this),n=n[j]},W.prototype.toJSON=function(){for(var t=new Array(this.size),i=0,n=this.Wo;n;)t[i++]={key:n.key,value:n.value},n=n[j];return t},W.prototype.toString=function(){for(var t="",i=this.Wo;i;)t+=String(i.key)+":"+i.value,(i=i[j])&&(t+=" < ");return t},W.prototype.Go=function(t){t!==this.Zo&&(t[j]&&(t===this.Wo&&(this.Wo=t[j]),t[j][B]=t[B]),t[B]&&(t[B][j]=t[j]),t[j]=void 0,t[B]=this.Zo,this.Zo&&(this.Zo[j]=t),this.Zo=t)},W.prototype.assign=function(t){var i,n=this.Bo||Number.MAX_VALUE;this.qo.clear();for(var s=t,e=s.next();!e.done;e=s.next()){var r=new G(e.value[0],e.value[1]);if(this.qo.set(r.key,r),i?(i[j]=r)[B]=i:this.Wo=r,i=r,0==n--)throw new Error("overflow")}this.Zo=i,this.size=this.qo.size},W.prototype.get=function(t,i){if(t=this.qo.get(t))return i&&this.Go(t),t.value},W.prototype.set=function(t,i){var n=this.qo.get(t);return n?(n.value=i,this.Go(n)):(this.qo.set(t,n=new G(t,i)),this.Zo?(this.Zo[j]=n)[B]=this.Zo:this.Wo=n,this.Zo=n,++this.size,this.size>this.Bo&&this.MN()),this},W.prototype.shift=function(){var t=this.Wo;if(t)return this.Wo[j]?(this.Wo=this.Wo[j],this.Wo[B]=void 0):(this.Wo=void 0,this.Zo=void 0),t[j]=t[B]=void 0,t.value.destroy(),this.qo.delete(t.key),--this.size,[t.key,t.value]},W.prototype.find=function(t){return(t=this.qo.get(t))?t.value:void 0},W.prototype.has=function(t){return this.qo.has(t)},W.prototype.delete=function(t){if(t=this.qo.get(t))return this.qo.delete(t.key),t[j]&&t[B]?(t[B][j]=t[j],t[j][B]=t[B]):t[j]?(t[j][B]=void 0,this.Wo=t[j]):t[B]?(t[B][j]=void 0,this.Zo=t[B]):this.Wo=this.Zo=void 0,this.size--,t.value},W.prototype.clear=function(){this.Wo=this.Zo=void 0,this.size=0,this.qo.clear()},W.prototype.AN=function(t){return"loaded"!==t.value.status||(t=t.value.stamp)&&this.wN&&t===this.wN},W.prototype.QF=function(t){this.wN=t},W.prototype.MN=function(){if(this.Wo&&this.Zo)for(var t=this.Wo,i=this.Zo.key;t&&i&&t.key!==i;){if(this.AN(t))this.Go(t);else if(this.shift(),this.size<=this.Bo)return;t=this.Wo}},W);function W(t,i){this.entries=i,"number"!=typeof(this.Bo=t)&&(i=t,t=0),this.size=0,this.Bo=t,this.Wo=this.Zo=void 0,this.qo=new("undefined"!=typeof Map?Map:R),i&&(this.assign(i),t<1&&(this.Bo=this.size))}var G=function(t,i){this.key=t,this.value=i,this[j]=void 0,this[B]=void 0},N=(_.prototype.next=function(){var t=this.Yo;return t?(this.Yo=t[j],{done:!1,value:t.key}):{done:!0,value:void 0}},_);function _(t){this.Vo=t}var U=(Z.prototype.next=function(){var t=this.Yo;return t?(this.Yo=t[j],{done:!1,value:t.value}):{done:!0,value:void 0}},Z);function Z(t){this.Vo=t}var X,H=(X=F,Y.Ei(J,X),J.prototype.shift=function(){var t=this.Wo;if(t)return this.Wo[j]?(this.Wo=this.Wo[j],this.Wo[B]=void 0):(this.Wo=void 0,this.Zo=void 0),t[j]=t[B]=void 0,this.qo.delete(t.key),this.emit("delete",{key:t.key}),--this.size,[t.key,t.value]},J.prototype.on=function(t,i,n,s){void 0===n&&(n=this),void 0===s&&(s=!1);for(var e=0,r=Array.isArray(t)?t:[t];e<r.length;e++){var h=r[e];this._on(h,i,n,s)}return this},J.prototype.off=function(t,i,n){void 0===n&&(n=this);var s=this.vI;if(t in s)for(var e=0;e<s[t].length;e+=1)if(s[t][e].fn===i&&s[t][e].context===n)return s[t].splice(e,1),this;return this},J.prototype.hasEvents=function(t,i,n){void 0===n&&(n=this);var s=this.vI;if(t&&i&&t in s)for(var e=0;e<s[t].length;e+=1)if(s[t][e].fn===i&&s[t][e].context===n)return!0;return!1},J.prototype.clearEvents=function(t){return t?this.vI[t]&&delete this.vI[t]:this.vI={},this},J.prototype.emit=function(t,i){if(void 0===i&&(i={}),!(t in this.vI))return this;for(var n=Y.Ln(Y.Ln({},i),{type:t}),s=this.vI[t],e=0,r=s.length;e<r;e+=1){var h=s[e];h.fn&&(h.fn.call(h.context,n),h.once&&(this.vI[t].splice(e,1),--e,--r))}return this},J.prototype._on=function(t,i,n,s){if(void 0===s&&(s=!1),this.hasEvents(t,i,n=void 0===n?this:n))return this;var e=this.vI;return e[t]=e[t]||[],e[t].push({fn:i,context:n||this,once:s}),this},J);function J(){var t=null!==X&&X.apply(this,arguments)||this;return t.vI={},t}var V,q=(V=Y.Event,Y.Ei(Q,V),Q.prototype.QF=function(t){this.Ho.QF(t)},Q.prototype.Xo=function(t){this.Ho.Uo(t)},Q.prototype.Jo=function(t){var i=this.ia(t.zo);this.keys[i]=1,this.Ho.set(i,t)},Q.prototype.Qo=function(t){var i=this.ia(t.zo);this.Ho.set(i,t)},Q.prototype.getTile=function(t,i){return void 0===i&&(i=!0),this.Ko(t)?this.Ho.get(this.ia(t),i):null},Q.prototype.xf=function(t,i){return void 0===i&&(i=!1),this.Ho.has(t)?this.Ho.get(t,i):null},Q.prototype.ea=function(t){var i=this.ia(t.zo);return!!this.Ko(t.zo)&&(this.Ho.delete(i),delete this.keys[i],!0)},Q.prototype.Ko=function(t){return t=this.ia(t),!!this.Ho.has(t)},Q.prototype.destroy=function(){this.Ho.clear()},Q.prototype.forEach=function(t){this.Ho.forEach(t)},Q.prototype.ia=function(t){if(t.key)return t.key;var i=t.z+","+t.x+","+t.y;return t.key=i},Y.dZ([Y.pZ("TileCache")],Q));function Q(t){void 0===t&&(t=500);var i=V.call(this)||this;return i.keys={},i.na=t,i.Ho=new H(i.na),i}var K,$=(K=q,Y.Ei(tt,K),tt.prototype.MD=function(t,i){void 0===i&&(i=Y.zB.ALL);var n="";return t?i!==t&&(n="all"===t?"":i===Y.zB.ALL?t?t===Y.zB.LITE?Y.zB.LEFT:Y.zB.LITE:Y.zB.ALL:i):n=i,n},tt.prototype.ea=function(t){return t.rN(),K.prototype.ea.call(this,t)},tt);function tt(t){return t=K.call(this,t=void 0===t?500:t)||this,Y.Event.extend("delete",t.Ho,t),t}var it,nt=(it=q,Y.Ei(st,it),st);function st(t){return t=it.call(this,t=void 0===t?500:t)||this,Y.Event.extend("delete",t.Ho,t),t}var et=(rt.prototype.Uo=function(t){this.Bo=t},rt.prototype._B=function(t,i,n,s){void 0===s&&(s=this.Bo);for(var e=n||"china",r=0;r<t.length;r+=s){var h=t.slice(r,r+s),o=this.qN++,h={wD:this.target(h,o,i,e),ZN:h,id:o};this.KN.push(h),this.YN[o]=h}},rt.prototype.qH=function(t){for(var i=[],n=[],s=0,e=this.KN;s<e.length;s++)for(var r=e[s],h=0;h<r.ZN.length;h++){var o=r.ZN[h];if(this.QN(t,o)){Array.prototype.push.apply(i,r.ZN);break}h===r.ZN.length-1&&n.push(r)}for(var a=0,u=n;a<u.length;a++){(r=u[a]).wD&&r.wD.cancel();var f=this.KN.indexOf(r);this.KN.splice(f,1),delete this.YN[r.id],this.JN(r.ZN)}return{yB:i,SB:n}},rt.prototype.QN=function(t,i){return-1<t.indexOf(i.slice(0,-2))},rt.prototype.CB=function(t){var i=this.YN[t];delete this.YN[t],i&&(i=this.KN.indexOf(i),this.KN.splice(i,1))},rt);function rt(t,i,n){void 0===n&&(n=5),this.target=t,this.JN=i,this.Bo=n,this.qN=0,this.KN=[],this.YN={}}var ht,ot=Y.Support.scale,at=(ht=O,Y.Ei(ut,ht),ut.prototype.loadData=function(t,i,n,s){var e=this;if("optimise"===s.loadData()&&s.TL())return!1;this.aa=t,this.sa=[];for(var r=t.bounds,h=this.ra(t.optimalZoom),o=this.ha(r,h),a=[],u=t.optimalZoom,f=Y.map(o,function(t){var i=e.fa(t.x,t.z);return t.z+","+i+","+t.y}),c=this.QH.qH(f),l=[],d=0;d<o.length;d++){var v,p,m=o[d],y=new Y.ca(m.z,this.fa(m.x,m.z),m.y),b=new Y.ca(m.z,m.x,m.y),g=Y.Util.kD(y.key,u),k=this.ua.getTile(y,!0);k?(v=this.ua.MD(k.tag,g))&&(k.tag=g,p=m.key+","+Y.Util.SD(v),c.yB.indexOf(p)<0&&l.push(p)):(p=y.key+","+Y.Util.SD(g),c.yB.indexOf(p)<0&&((y=new Y.pa(y)).status=Y.TileState.LOADING,y.xB=Y.TileState.LOADING,this.ua.Jo(y),y.tag=g,y.gB=g,l.push(p))),!k||k.status!==Y.TileState.LOADED&&k.status!==Y.TileState.RELOADING||this.sa.push(b),k&&(k.status===Y.TileState.LOADED||k.status===Y.TileState.RELOADING)||a.push(m),k&&k.status===Y.TileState.LOADED&&k.version&&k.version!==this.VH&&(this.sa.push(b),k.status=Y.TileState.RELOADING,l.push(m.key+","+Y.Util.SD(k.tag)),(v=this.ua.MD(k.tag,g))&&(p=m.key+","+Y.Util.SD(v),c.yB.indexOf(p)<0&&l.push(p)))}this.da(t,this.sa,a,s);var M,w,x=this.map.getOutseaState(),A=this.map.getOutseaDataType();return x&&!A?9.8<=h?(r=(M=this.OE(l)).overseaTile,w=M.chinaTile,f=M.mapboxTile,this.PE(r,"oversea"),this.PE(w,"china"),this.PE(f,"mapbox"),this.zD(w,t,h,s,n),this.zD(r,t,h,s,n,void 0,"outsea")):(this.PE(l,"china"),this.zD(l,t,h,s,n,void 0,"a00")):x&&A&&"mapbox"===A?9.8<=u?(w=(M=this.OE(l)).chinaTile,this.PE(w,"china"),this.zD(w,t,h,s,n,void 0)):(this.PE(l,"china"),this.zD(l,t,h,s,n,void 0,"a00")):(this.PE(l,"china"),this.zD(l,t,h,s,n,void 0)),0===l.length},ut.prototype.getData=function(i){var n=this,t=i.bounds,s=this.ra(i.optimalZoom),e=this.ha(t,s),r=[],h={};14===s&&(h=this.ha(t,15,!0));var o=this.map.qF();if(this.ua.QF(o),this.sa.sort(function(t){return n.ra(i.optimalZoom)===t.z?1:-1}),0<this.sa.length)for(var a=0;a<this.sa.length;a++){var u,f,c,v,p,l=this.sa[a],d=this.ua.getTile(l,!0),m=[0,0],y=i.centerCoord;d?(u=Y.lcs.getLocalByCoord([y[0],y[1]]),i.optimalZoom>=Y.Ra?(f=Y.lcs.getSize(),v=d.localCoord.x-u.x,p=d.localCoord.y-u.y,0!=v&&(v*=f[0],m[0]=v),0!=p&&(p*=f[1],m[1]=p),i.optimalZoom>=Y.Ra&&Y.za>=d.zo.z&&(m[0]=-u.center[0],m[1]=-u.center[1])):i.optimalZoom<Y.Ra&&Y.za<d.zo.z&&(m[0]=u.center[0],m[1]=u.center[1])):(u=new Y.ca(l.z,this.fa(l.x,l.z),l.y),(u=this.ua.getTile(u,!0))&&(d=new Y.pa(l),f=1<<l.z,(l.x<0||l.x>=f)&&(c=Math.floor(l.x/f),m[0]+=20037508.342789244*c*2),c=u.tag,d.Ro=u.Ro,d.ID(u),d.Sa=m,d.status=u.status,d.tag=c)),d&&(d.stamp=o,d.Sa=m,r.push(d))}var b=i.optimalZoom,g=Y.every(e,function(s){return Y.some(r,function(t){var i=t.zo.key,n=t.zo.z,n=Y.Util.VF(n,b),t=t.tag,n=Y.Util.LD(t,n);return i===s.key&&n})}),k=this.map.getOutseaState(),t=this.map.getOutseaDataType();k&&!t&&(g=!(M=Y.filter(e,function(t){return!(t=n.NE.getTile(t))||!t.boundsStatus||!1!==t.boundsStatus.isInNebulaOversea})).length||Y.every(M,function(s){return Y.some(r,function(t){var i=t.zo.key,n=t.zo.z,n=Y.Util.VF(n,b),t=t.tag,n=Y.Util.LD(t,n);return i===s.key&&n})}));var M=this.jE(r);return g&&(this.a_=!0,this.map.bZ.dynamic.set("firstAllLoaded",!0)),M&&this.map.bZ.dynamic.set("firstLabelDataAllLoaded",!0),h={s_:this.a_,fo:!!g&&M,yZ:M,tiles:r,Ca:h,outseaData:void 0},0!==r.length&&!g||this.Fo(!0),k&&r.length&&(k=this.map.bZ.MZ.wZ.gZ(),h.outseaData=k),h.tiles=this.UE(r,s),h},ut.prototype.pe=function(t){return t=new Y.ca(t[0],t[1],t[2]),this.ua.getTile(t)},ut.prototype.ZE=function(t){return!1},ut.prototype.OE=function(t){for(var i=t.length,n=[],s=[],e=[],r=0;r<i;r++){var h=void 0,o=void 0,a=t[r],u=a.split(","),f=new Y.ca(u[0],u[1],u[2]),c=this.NE.getTile(f);if(c&&c.boundsStatus)h=c.boundsStatus.isInChina,o=c.boundsStatus.isInNebulaOversea;else{if(!(u=Y.wa.ga(parseInt(u[1],10),parseInt(u[2],10),parseInt(u[0],10),"EPSG:3857")))continue;u=[[u[0],u[1]],[u[2],u[1]],[u[2],u[3]],[u[0],u[3]]],h=this.VE(u,"china",a),o=this.VE(u,"oversea",a),(f=new Y.pa(f)).boundsStatus={isInChina:h,isInNebulaOversea:o},this.NE.Jo(f)}h&&n.push(a),o&&s.push(a),h||o||e.push(a)}return{chinaTile:n,overseaTile:s,mapboxTile:e}},ut.prototype.ra=function(t){return("fast"!==this.map.bZ.MZ.drawMode||this.map.bZ.dynamic.get("firstPaint")?{2:3,3:3,4:3,5:3,6:6,7:6,8:8,9:8,10:10,11:10,12:10,13:12,14:12,15:14,16:14,17:14,18:14,19:14,20:14,21:14,22:14,23:14,24:14,25:14,26:14,27:14,28:14,29:14,30:14}:{2:3,3:3,4:3,5:3,6:6,7:6,8:8,9:8,10:8,11:8,12:8,13:12,14:12,15:14,16:14,17:14,18:14,19:14,20:14,21:14,22:14,23:14,24:14,25:14,26:14,27:14,28:14,29:14,30:14})[t]},ut.prototype.YE=function(t){var i=this;return t(null,{GW:"worker",cb:function(t){i.dynamicTextVerticeLoadedByTile(t)}}),!0},ut.prototype.destroy=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request),t.destroy()}),this.ua.destroy(),this.sa=[],this.la=[],this.mapStyle&&this.mapStyle.destroy&&(this.mapStyle.destroy(),delete this.mapStyle),this.R_&&this.R_.destroy&&(this.R_.destroy(),delete this.R_)},ut.prototype.reload=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request),t.reload()}),this.sa=[],this.la=[]},ut.prototype.Aa=function(t){var i;!t.zo||(i=this.ua.getTile(t.zo))&&(i.rO({Ta:!0},t.tag),i.xa({Ta:!0},t.tag),i.JE({Ta:!0},t.tag))},ut.prototype.setTileCacheSize=function(t){t=t||(Y.Support.$e?50:200),this.ua.Xo(t)},ut.prototype.UH=function(t){this.VH=t},ut.prototype.dynamicTextVerticeLoaded=function(t){console.log("errorr")},ut.prototype.dynamicTextVerticeLoadedByTile=function(t){for(var i=0,n=t.data;i<n.length;i++){var s=n[i];this.dynamicTextVerticeLoaded({data:s.data,tag:s.tag,XE:s.XE})}},ut.prototype.Ia=function(){this.map.on("tileSdfInfoFinished",this.Aa.bind(this))},ut.prototype.zD=function(t,i,n,s,e,r,h){void 0===r&&(r="road,building,region");var o=this.cP(),a={};o&&(a=o.getState().vS),a=Y.Ln(Y.Ln({},a),{buildingColor:Y.Ln({},s.getBuildingColor())}),r={zoom:i.zoom,optimalZoom:i.optimalZoom,projectionId:i.projectionId,mS:a,viewMode:i.viewMode,showBuildingBlock:this.map.yS(),ZL:i.zoom,hH:r},this.QH._B(t,r,h)},ut.prototype.cP=function(){for(var t,i=this.map.getLayers(),n=0;n<i.length;n++)if("AMap.Buildings"===(s=i[n]).CLASS_NAME&&!s.getState().u$){t=s;break}if(!t)for(var s,n=0;n<i.length;n++)if("AMap.Buildings"===(s=i[n]).CLASS_NAME){t=s;break}return t},ut.prototype.ma=function(t,i){var n=new RegExp(/\{(\w|\,)+\}/g);if(n.test(this.Be)){var s=this.Be.match(n)[0].replace(/[\{|\}]/g,"").split(",");return this.Be.replace(n,s[(t+i)%4])}return this.Be},ut.prototype.AD=function(){var t=new RegExp(/\{(\w|\,)+\}/g),n=(i=this.Be.match(t)[0].replace(/[\{|\}]/g,"").split(",")).length,i=this.Be.replace(t,i[this.$D%n]);return this.$D=(this.$D+1)%n,i},ut.prototype.ha=function(t,i,n){void 0===n&&(n=!1);var s=[t[0],t[3]],e=[t[2],t[1]],t=this.Ga(s,i),s=this.Ga(e,i),e=t[0],r=t[1],h=s[0],o=s[1];if(n)return{ja:e,Fa:r,Oa:h,Ea:o,z:i};this.Pa={ja:e,Fa:r,Oa:h,Ea:o,z:i};for(var a=[],u=e;u<=h;u+=1)for(var f=r;f<=o;f+=1)a.push(new Y.ca(i,u,f));return this.Da(a),a},ut.prototype.da=function(t,i,n,s){var e=[3,6,8,10,12,14],r=this.ra(t.optimalZoom);if(this.Za)for(var h=Math.min(14,r+3),o=r+1;n.length&&o<=h;o+=1)if(-1!==e.indexOf(o)){for(var a=o-r,u=[],f=[],c=n.length-1;0<=c;--c)for(var l=n[c].x<<a,d=n[c].y<<a,v=1<<a;0<=v;--v)for(var p=1<<a;0<=p;--p){var m=new Y.ca(o,this.fa(l+v,o),d+p),y=new Y.ca(o,l+v,d+p);((k=this.ua.getTile(m,!0))&&k.status===Y.TileState.LOADED?f:u).push(y)}f.length&&i.push.apply(i,f),n=u}if(this.qa)for(var b=this.xt[0],o=r-1;n.length&&b<=o;--o)if(-1!==e.indexOf(o)){for(var f=[],u=[],g={},c=n.length-1;0<=c;--c){var k,M=n[c],a=o,w=M.z-a,v=M.x>>w,p=M.y>>w;g[M=(m=new Y.ca(a,v,p)).key]||(w=new Y.ca(a,this.fa(v,a),p),y=new Y.ca(a,v,p),k=this.ua.getTile(w,!0),g[M]=!0,(k&&k.status===Y.TileState.LOADED?f:u).push(y))}f.length&&i.push.apply(i,f),n=u}return i},ut.prototype.Da=function(t){var e,r,h;t.length&&(e=this.Pa.z,r=(this.Pa.ja+this.Pa.Oa)/2,h=(this.Pa.Fa+this.Pa.Ea)/2,t.sort(function(t,i){var n=(t.x<<e-t.z)-r,s=(t.y<<e-t.z)-h;return n*n+s*s<=(t=(i.x<<e-i.z)-r)*t+(i=(i.y<<e-i.z)-h)*i?-1:1}))},ut.prototype.Ga=function(t,i){var n=Math.pow(2,i),i=180/n;return[Math.floor(t[0]/(360/n))+n/2,n/2-Math.ceil(t[1]/i)]},ut.prototype.fa=function(t,i){for(var n=1<<(i=i||this.aa.optimalZoom);t<0||n<=t;)t=n<=t?t-n:t<0?n+t:t;return t},ut.prototype.sD=function(){var e,r,h=this;this.map.bZ.dynamic.get("_preloadNebulaIcons")||(this.map.bZ.dynamic.set("_preloadNebulaIcons",!0),e=this.hD,(r=this.z_).loadImages(e,{type:"icon",imageBitmap:Y.Support.imageBitmap,cb:function(){for(var t=[],i=0;i<e.length;i++){var n=e[i],s=r.getImage(n);t.push({img:s.img,name:n,hv:i,width:s.width,height:s.height})}h.map.so.sv(t)}}))},ut.prototype.PE=function(t,i){for(var n=0,s=t;n<s.length;n++){var e=s[n].split(",").slice(0,3).join(",");(e=this.ua.xf(e))&&(e.region=i)}},ut.prototype.UE=function(t,i){void 0===t&&(t=[]);var n=[];if(10<=i){for(var s=0,e=t;s<e.length;s++){var r=e[s];"china"!==r.region&&"oversea"!==r.region||n.push(r)}return n}return t},ut.prototype.jE=function(t){for(var i=!!t.length,n=0,s=t;n<s.length;n++){var e=s[n].data;if(i)for(var r=0,h=e;r<h.length;r++){var o=h[r];if(!(i=i&&!!o.Ta))break}}return i},ut);function ut(t,i,n,s){var a=ht.call(this,t,i,n,s)||this;return a.xt=Y.zoomRange,a.sa=[],a.la=[],a.qa=!0,a.Za=!0,a.a_=!1,a.$D=0,a.hD=[AMap.getConfig().protocol+"://vdata.amap.com/style_icon/2.0/icon-normal-big.png",AMap.getConfig().protocol+"://vdata.amap.com/style_icon/2.0/icon-biz-big.png"],a.VH="",a.wH=function(t){a.map.yH&&(parseInt(t.key.split(",")[0],10)<10||a.map.yH.kH(t.key))},a.Xa=t.tileSize,a.Be=t.tileUrl,a.tG=null,t=Y.Support.$e?30:200,a.ua=new $(t),a.NE=new nt(t),window.xZ=a.ua,n.gn.Ha({scale:ot,showLabel:n.showLabel,DD:-1!==location.search.indexOf("forceAll")}),a.R_=n.R_,a.z_=n.z_,n.gn.Ja(AMap.getConfig().protocol),a.mapStyle=n.mapStyle,a.mapStyle.pn(function(t){n&&n.gn&&n.gn.Ka({value:t,TY:"fast"===a.map.bZ.MZ.drawMode})}),a.Ia(),a.sD(),a.ua.on("delete",a.wH),a.QH=new et(function(t,h,i,o){var n=a.AD(),s=a.map.bZ.dynamic.get("firstLabelDataAllLoaded")||!1;return!o||"outsea"!==o&&"a00"!==o||(n=n.replace("/nebula/","/oversea/")),!s&&Y.Support.wasm&&(n=n.replace("/v3","/v2")),new Y.vH(a.map.gn.va({url:n,zoom:i.zoom,optimalZoom:i.optimalZoom,projectionId:i.projectionId,mS:i.mS,viewMode:i.viewMode,showBuildingBlock:i.showBuildingBlock,ya:t,ZL:i.zoom,hH:i.hH,kZ:s},function(t){a.QH.CB(h);for(var i=0,n=t;i<n.length;i++){var s,e=n[i],r=e&&a.ua.getTile(e.zo);r&&(delete r.request,o&&"outsea"===o?r.JE(e.ba,e.tag):r.xa(e.ba,e.tag),a.map.Mv.t0(r.zo),r.status=Y.TileState.LOADED,s=Y.wa.ga(r.zo.x,r.zo.y,r.zo.z,"EPSG:3857"),e=Y.lcs.getLocalByCoord([s[0],s[1]]),r.localCoord=e,r.Ro=s,a.map.mm&&r.LY(a.map.mm.context))}a.map.setNeedUpdate(!0)}))},function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];(s=a.ua.xf(s.slice(0,-2)))&&s.status!==Y.TileState.LOADED&&a.ua.ea(s)}},"fast"===n.bZ.MZ.drawMode?1:5),"fast"===n.bZ.MZ.drawMode&&a.map.bZ.dynamic.subscribe("firstPaint",function(){a.QH.Uo(5)},a,!0),a}function ft(){}var ct=(ft.prototype.Qa=function(t){for(var i=this.createEmpty(),n=0,s=t.length;n<s;n+=1)this.extendCoordinate(i,t[n]);return i},ft.prototype.ns=function(t,i,n){var s=Math.min.apply(null,t),e=Math.max.apply(null,t),t=Math.min.apply(null,i),i=Math.max.apply(null,i);return this.os(s,e,t,i,n)},ft.prototype.buffer=function(t,i){t[0]-=i,t[1]-=i,t[2]+=i,t[3]+=i},ft.prototype.clone=function(t){return t.slice()},ft.prototype.ss=function(t,i){return t[0]<=i[0]&&i[0]<=t[2]&&t[1]<=i[1]&&i[1]<=t[3]},ft.prototype.rs=function(t,i){return t[0]<=i[0]&&i[2]<=t[2]&&t[1]<=i[1]&&i[3]<=t[3]},ft.prototype.createEmpty=function(){return[1/0,1/0,-1/0,-1/0]},ft.prototype.os=function(t,i,n,s,e){return void 0!==e?(e[0]=t,e[2]=i,e[1]=n,e[3]=s,e):[t,n,i,s]},ft.prototype.empty=function(t){return t[0]=t[1]=1/0,t[2]=t[3]=-1/0,t},ft.prototype.equals=function(t,i){return t[0]===i[0]&&t[2]===i[2]&&t[1]===i[1]&&t[3]===i[3]},ft.prototype.extend=function(t,i){i[0]<t[0]&&(t[0]=i[0]),i[2]>t[2]&&(t[2]=i[2]),i[1]<t[1]&&(t[1]=i[1]),i[3]>t[3]&&(t[3]=i[3])},ft.prototype.extendCoordinate=function(t,i){+i[0]<t[0]&&(t[0]=i[0]),+i[0]>t[2]&&(t[2]=i[0]),+i[1]<t[1]&&(t[1]=i[1]),+i[1]>t[3]&&(t[3]=i[1])},ft.prototype.hs=function(t){return[t[0],t[1]]},ft.prototype.ls=function(t){return[t[2],t[1]]},ft.prototype.getCenter=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},ft.prototype.us=function(t,i,n,s,e){for(var r,h,o=i*s[0]/2,s=i*s[1]/2,a=Math.cos(n),u=Math.sin(n),f=[-o,-o,o,o],c=[-s,s,-s,s],l=0;l<4;l+=1)r=f[l],h=c[l],f[l]=t[0]+r*a-h*u,c[l]=t[1]+r*u+h*a;return this.ns(f,c,e)},ft.prototype.getHeight=function(t){return t[3]-t[1]},ft.prototype.getSize=function(t){return[t[2]-t[0],t[3]-t[1]]},ft.prototype.cs=function(t){return[t[0],t[3]]},ft.prototype.fs=function(t){return[t[2],t[3]]},ft.prototype.getWidth=function(t){return t[2]-t[0]},ft.prototype.intersects=function(t,i){return t[0]<=i[2]&&t[2]>=i[0]&&t[1]<=i[3]&&t[3]>=i[1]},ft.prototype.isEmpty=function(t){return t[2]<t[0]||t[3]<t[1]},ft.prototype.normalize=function(t,i){return[(i[0]-t[0])/(t[2]-t[0]),(i[1]-t[1])/(t[3]-t[1])]},ft.prototype.ps=function(t,i){var n=(t[2]-t[0])/2*(i-1),i=(t[3]-t[1])/2*(i-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i},ft.prototype.touches=function(t,i){return this.intersects(t,i)&&(t[0]===i[2]||t[2]===i[0]||t[1]===i[3]||t[3]===i[1])},ft.prototype.transform=function(t,i,n){return i(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2),this.ns([t[0],t[2],t[4],t[6]],[t[1],t[3],t[5],t[7]],n)},new ft),lt=(dt.from=function(t){for(var i=1/0,n=1/0,s=-1/0,e=-1/0,r=0,h=t;r<h.length;r++)var o=h[r],i=Math.min(i,o.southWest.KL),n=Math.min(n,o.southWest.kT),s=Math.max(s,o.northEast.KL),e=Math.max(e,o.northEast.kT);return new dt(new Y.LngLat(i,n),new Y.LngLat(s,e))},dt.xS=function(t){if(t)return t=Y.jsonLngLatData(t),new dt(ct.Qa(t))},dt.bS=function(t){if(t&&t.length){for(var i,n=0,s=Y.jsonLngLatData(t);n<s.length;n++){var e,r=s[n];i?(e=dt.ds(r))&&i.union(e):i=dt.xS(r)}return i}},dt.ds=function(t){if(t)return t=Y.jsonLngLatData(t),Y.ys(t)?dt.xS(t):dt.xS(t[0])},dt.ms=function(t){if(t&&t.length){for(var i,n=0,s=Y.jsonLngLatData(t);n<s.length;n++){var e,r=s[n];i?(e=dt.ds(r))&&i.union(e):i=dt.ds(r)}return i}},dt.prototype.getSouthWest=function(){return this.southWest},dt.prototype.getNorthEast=function(){return this.northEast},dt.prototype.getNorthWest=function(){return new Y.LngLat(this.southWest.KL,this.northEast.kT,!0)},dt.prototype.getSouthEast=function(){return new Y.LngLat(this.northEast.KL,this.southWest.kT,!0)},dt.prototype.contains=function(t){var i=this.southWest,n=this.northEast;if(Y.xs(t))return!1;t=Y.parseLngLatData(t);var s=i.KL,e=n.KL;return e<s&&(e+=360),t.KL>=s&&t.kT>=i.kT&&t.KL<=e&&t.kT<=n.kT},dt.prototype.intersects=function(t){var i=this.southWest,n=this.northEast,s=t.southWest,e=t.northEast,t=e.kT>=i.kT&&s.kT<=n.kT,n=e.KL>=i.KL&&s.KL<=n.KL;return t&&n},dt.prototype.getCenter=function(){var t=this.southWest.KL>this.northEast.KL?(this.southWest.KL+this.northEast.KL+360)/2%360:(this.southWest.KL+this.northEast.KL)/2,i=(this.southWest.kT+this.northEast.kT)/2;return new Y.LngLat(t,i)},dt.prototype.extend=function(t){return this.southWest.setLng(Math.min(this.southWest.KL,t.KL)),this.southWest.setLat(Math.min(this.southWest.kT,t.kT)),this.northEast.setLng(Math.max(this.northEast.KL,t.KL)),this.northEast.setLat(Math.max(this.northEast.kT,t.kT)),this},dt.prototype.union=function(t){return this.extend(t.southWest).extend(t.northEast)},dt.prototype.toString=function(){return this.southWest.toString()+";"+this.northEast.toString()},dt.prototype.toJSON=function(){return[this.southWest.lng,this.southWest.lat,this.northEast.lng,this.northEast.lat]},dt.prototype.getWidth=function(){return Math.abs(this.northEast.lng-this.southWest.lng)},dt.prototype.getHeight=function(){return Math.abs(this.southWest.lat-this.northEast.lat)},dt.prototype.clone=function(){return dt.from([this])},dt);function dt(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.className="AMap.Bounds";var n,s,e,r,h,o="undefined"!=typeof Float64Array;if(1===arguments.length&&(arguments[0]instanceof Array||o&&arguments[0]instanceof Float64Array))r=new Y.LngLat(arguments[0][0],arguments[0][1],!0),h=new Y.LngLat(arguments[0][2],arguments[0][3],!0);else if(2===arguments.length)r=Y.parseLngLatData(arguments[0]),h=Y.parseLngLatData(arguments[1]);else if(4===arguments.length)r=new Y.LngLat(arguments[0],arguments[1]),h=new Y.LngLat(arguments[2],arguments[3]);else{if(0!==arguments.length)throw Error("Invalid Object: Bounds("+arguments+")");r=new Y.LngLat(-180,-90),h=new Y.LngLat(180,90)}(r.KL>h.KL||r.kT>h.kT)&&(n=Math.max(r.KL,h.KL),s=Math.min(r.KL,h.KL),e=Math.max(r.kT,h.kT),o=Math.min(r.kT,h.kT),r=new Y.LngLat(s,o),h=new Y.LngLat(n,e)),this.southWest=r,this.northEast=h}var vt,pt=(vt=O,Y.Ei(mt,vt),mt.prototype.loadData=function(t,i,n){return this.ze=i,!(this.Oo&&!this.io)&&(!(!this.map.isDOMMode()&&!i)&&(i=this.c0(t,i,n),this.io?i(this.io,"canvas"):((n=new Image).crossOrigin="",n.onload=i,n.src=this.gs.getImageUrl(),this.Rs=n),!0))},mt.prototype.c0=function(t,s,e){var r=this;return function(t,i){var n;void 0===i&&(i="image"),s&&(n=void 0,"image"===i?n=t.target:"canvas"===i&&(n=t),r._s?r._s.update(n):(r._s=s.createTexture(n,{Zi:!0}),r._s.bind(s.gl.CLAMP_TO_EDGE,s.gl.LINEAR,s.gl.LINEAR)),r.Fo(!0)),e()}},mt.prototype.getData=function(t){if(this.Oo&&this._s){(i=this.gs.getBounds())instanceof lt&&(i=i.toJSON());var n=Y.lcs.getLocalByCoord([t.centerCoord[0],t.centerCoord[1]]),e=(s=Y.ProjectionManager.getProjection(t.projectionId)).project(i[0],i[1]),s=s.project(i[2],i[3]),r=[0,0,0,0];if(t.optimalZoom>=Y.Ra){for(var i=Y.lcs.getLocalByCoord([e[0],e[1]]),t=Y.lcs.getLocalByCoord([s[0],s[1]]),h=Y.lcs.getSize(),r=[i.x-n.x,i.y-n.y,t.x-n.x,t.y-n.y],o=0;o<r.length;o++)0!==r[o]&&(r[o]*=h[0]);r=[r[0]-i.center[0],r[1]-i.center[1],r[2]-t.center[0],r[3]-t.center[1]]}return this.ze&&(this.ks=this.ze.fe(new Float32Array([e[0]+r[0],e[1]+r[1],0,1,s[0]+r[2],e[1]+r[1],1,1,e[0]+r[0],s[1]+r[3],0,0,s[0]+r[2],e[1]+r[1],1,1,s[0]+r[2],s[1]+r[3],1,0,e[0]+r[0],s[1]+r[3],0,0]),16)),{Ro:this.ws,image:this.Rs,texture:this._s,zs:this.ks,Sa:[0,0]}}},mt.prototype.destroy=function(){this.Rs&&delete this.Rs,this._s&&this._s.destroy&&(this._s.destroy(),delete this._s),this.ks&&delete this.ks,this.gs},mt);function mt(t,i,n,s){return(n=vt.call(this,t,i,n,s)||this).gs=s,n.io=s.canvas,n}var yt,bt=(yt=O,Y.Ei(gt,yt),gt.prototype.add=function(t,i,n){void 0===t&&(t={}),void 0===i&&(i={}),Object.keys(t).length&&(this.Ls=t,this.HB=!0,this.OB=i,n&&n())},gt.prototype.remove=function(t,i,n){void 0===i&&(i={}),this.Ls=t=void 0===t?{}:t,this.HB=!0,this.OB=i,n&&n()},gt.prototype.update=function(t,i){void 0===t&&(t={}),this.HB=!0,this.OB=t,i&&i()},gt.prototype.clear=function(){this.Ls={},this.Ts=[],this.gS=null},gt.prototype.getData=function(){return{other:this.gS}},gt.prototype.Ds=function(t){return this.Ls[t]||null},gt.prototype.zL=function(t){return this.CL&&this.CL.zL(t)},gt.prototype.destroy=function(){this.R_&&this.R_.destroy&&(this.R_.destroy(),delete this.R_),this.z_&&this.z_.destory&&(this.z_.destory(),delete this.z_)},gt.prototype.loadData=function(t,i,n){var s=this;return 0===Object.keys(this.Ls).length&&this.Fo(!0),this.HB&&(this.HB=!1,this.As(this.OB,function(){s.Fo(!0),s._map.bZ.dynamic.set("firstLabelLayerDataAllLoaded",!0),n()})),!0},gt.prototype.As=function(i,n){var s=this;void 0===i&&(i={});var t,e,r=this.R_,h=this.z_,o=this.Ls;for(t in this.Ts=[],o)o.hasOwnProperty(t)&&(e=o[t],e=this.Ps(e),this.Ts.push(e));if(!this.Ts.length)return this.clear(),void n();var a=this.Ts[0].data.position;this.Os(a),h.loadImages(Object.keys(this.Fs),{cb:function(){var t;r&&"SDFManagerBase"!==r.CLASS_NAME?(t=Object.keys(s.Es),r.getData(t,function(t){s.qL(i,n)})):s.qL(i,n)}})},gt.prototype.qL=function(t,i){void 0===t&&(t={});var n=this.R_,s=this.z_,e=this.CL=new Y.eG({R_:n,z_:s}),n=this.Us,s={from:"labelsLayer",zoom:this._map.getView().getOptions().zoom,center:n.center};Y.assign(s,t),s=e.Ns(this.Ts,s),this._map&&this._map.isDOMMode()?this.gS=s:this.gS=new Y.La(null,s),this.gS.zo=n,i&&i(s)},gt.prototype.Ps=function(t){if(!t||"AMap.LabelMarker"===t.type){var i=this._map.getProjection();this.AL={};var n=t.getOptions(),s=t._position;if(!s)return null;var e=[Y.tc.Mp,Y.tc.Rp],h=void 0===(r=n.zooms)?e:r,o=n.opacity,a=n.rank,u=n.icon,f=n.text,c=n.zIndex,d=void 0===(l=n.visible)||l,v=Y.Bs(s)?s.toJSON():s,p=f&&f.content||"",r=f&&f.style;u&&u.image&&(this.Fs[u.image]=1),f&&f.content&&this.Ws(f.content);var m,y,n=u&&u.image?[{type:"image",image:u.image||"",size:u.size,clipOrigin:u.clipOrigin,clipSize:u.clipSize,offset:u.offset,anchor:u.anchor,retina:u.retina}]:{},l=0,u=0;return r&&(l=!r.strokeWidth&&r.strokeColor?1:r.strokeWidth||0,m=!r.strokeColor&&r.strokeWidth?"#fcfcfc":r.strokeColor,u=!r.borderWidth&&r.borderColor?1:r.borderWidth||0,y=!r.borderColor&&r.strokeWidth?"#ccc":r.borderColor),r=r?{fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fillColor:r.fillColor,strokeColor:m,strokeWidth:l,borderColor:y,borderWidth:u,padding:this.Gs(r.padding||[3]),backgroundColor:r.backgroundColor,fold:r.fold}:{},e=Y.labelsUtil.Jj(h,f&&f.zooms||e),r=f&&p?{txt:f.content||"",direction:f.direction,offset:f.offset,zooms:e,style:r}:{},v=i.project(v[0],v[1]),{data:{id:t.hS,name:p,txt:p,position:[v[0],v[1],s[2]||0],positionType:"lnglat",extData:{id:t.hS},rank:a,zooms:h},opts:{visible:d,opacity:o,zooms:h,zIndex:c,icon:n,text:r,height:s[2]||0}}}},gt.prototype.Ws=function(t){void 0===t&&(t="");for(var i=0;i<t.length;i++)this.Es[t.substr(i,1)]=1},gt.prototype.Os=function(t){Y.Bs(t)?this.Us=Y.lcs.getLocalByCoord([t.KL,t.kT]):this.Us=Y.lcs.getLocalByCoord(t)},gt.prototype.Gs=function(t){if("string"==typeof t&&(t=(t=t.trim()).split(" ")),"[object Array]"!==Object.prototype.toString.apply(t))return[3,3,3,3];for(var i=t.length,n=0;n<i;n++){var s="string"==typeof(s=t[n])?parseInt(s,10):s;isNaN(s)?t[n]=3:t[n]=s}switch(i){case 0:t=[3,3,3,3];break;case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return t},gt);function gt(t,i,n,s){return(t=yt.call(this,t,i,n,s)||this).Fs={},t.Es={},t.Ts=[],t.HB=!1,t.Ls={},t.AL={},i=n.R_,s=n.z_,t.R_=i,t.z_=s,t._map=n,t}var kt,Mt=(kt=O,Y.Ei(wt,kt),wt.prototype.setTileUrl=function(t){this.Be=t=void 0===t?"":t},wt.prototype.loadData=function(t,i,n,s){var h=this;if(!i&&"d"!==s.baseRender)return!1;this.aa=t,this.ze=i,this.Zs=[],this.sa=[];var e=t.projectionId,r=[],o=t.boundsCoord,a=t.optimalZoom,u=t.optimalResolution,f=this.ha(o,a,u);return this.ua.forEach(function(t){var i=t.zo,n=!1;if(t.status!==Y.TileState.LOADED){for(var s=f.ja;s<=f.Oa;s+=1)for(var e=f.Fa;e<=f.Ea;e+=1){var r=h.fa(s,f.z);i.z===f.z&&i.y===e&&r===i.x&&(n=!0)}n||(t.data.src="",h.ua.ea(t))}}),u=this.qs(t,this.Zs,r),this.Ys(u,i,e,n),this.da(t,this.sa,r,s),this.sa=this.sa.concat(this.Zs),0===u.length},wt.prototype.getData=function(){var t=this.aa,i=[],n=this.map.qF();if(this.ua.QF(n),0<this.sa.length)for(var s=0;s<this.sa.length;s++){for(var e=this.sa[s],r=[],h=0;h<e.length;h++){var o,a,u,f,c,l,d,v,p=[0,0],m=t.centerCoord,y=this.ua.getTile(e[h]),b=Y.lcs.getLocalByCoord([m[0],m[1]]);y||(o=this.ua.getTile(new Y.ca(e[h].z,this.fa(e[h].x,e[h].z),e[h].y)),y=new Y.Vs(e[h]),o&&o.data.texture&&(u=this.aa.projectionId,a=Y.ProjectionManager.getProjection(u).getResolution(y.zo.z),c=(f=y.zo.x*this.Xa*a)+this.Xa*a,l=(m=y.zo.y*this.Xa*a)+this.Xa*a,a=Y.V[u].Xs(f,m),u=Y.V[u].Xs(c,l),f=a[0],c=u[0],m=u[1],l=a[1],y.Ro=[f,m,c,l],l=Y.lcs.getLocalByCoord([y.Ro[0],y.Ro[1]]),this.aa.optimalZoom>=Y.Ra&&(y.Ro[0]-=l.center[0],y.Ro[1]-=l.center[1],y.Ro[2]-=l.center[0],y.Ro[3]-=l.center[1]),this.ze?y.data={Hs:l,texture:o.data.texture,Js:o.data.Js,zs:this.ze.fe(new Float32Array([y.Ro[0],y.Ro[1],0,1,y.Ro[2],y.Ro[1],1,1,y.Ro[0],y.Ro[3],0,0,y.Ro[2],y.Ro[1],1,1,y.Ro[2],y.Ro[3],1,0,y.Ro[0],y.Ro[3],0,0]),16)}:(y.data=o.data,y.data.Hs=l),y.data&&(y.status=Y.TileState.LOADED))),y.data&&(t.optimalZoom>=Y.Ra&&y.data.Hs?(l=Y.lcs.getSize(),d=y.data.Hs.x-b.x,v=y.data.Hs.y-b.y,0!=d&&(d*=l[0],p[0]=d),0!=v&&(v*=l[1],p[1]=v),t.optimalZoom>=Y.Ra&&Y.za>=y.zo.z&&(p[0]=-b.center[0],p[1]=-b.center[1])):t.optimalZoom<Y.Ra&&Y.za<y.zo.z&&(p[0]=b.center[0],p[1]=b.center[1]),y.data.Sa=p,y.stamp=n,r.push(y))}i.push(r)}return{tiles:i}},wt.prototype.setTileCacheSize=function(t){t=t||(Y.Support.$e?50:200),this.ua.Xo(t)},wt.prototype.reload=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&t.request.cancel&&(t.request.cancel(),delete t.request)}),this.ua.destroy(),this.sa=[],this.pS=!1,this.Fo(!1)},wt.prototype.getTileCache=function(){return this.ua},wt.prototype.Da=function(t,i){var e,r,h;t.length&&(e=this.Pa.z,r=(this.Pa.ja+this.Pa.Oa)/2,h=(this.Pa.Fa+this.Pa.Ea)/2,t.sort(function(t,i){var n=(t.x<<e-t.z)-r,s=(t.y<<e-t.z)-h;return n*n+s*s<=(t=(i.x<<e-i.z)-r)*t+(i=(i.y<<e-i.z)-h)*i?-1:1}))},wt.prototype.ha=function(t,i,n){var s=this.aa.projectionId,e=Y.ProjectionManager.getProjection(s);this.TB()&&(n=e.getResolution(++i)),i<this.Qs[0]?(i=this.Qs[0],n=e.getResolution(i)):i>this.Qs[1]&&(i=this.Qs[1],n=e.getResolution(i));var r=this.Xa,o=t[0]+20037508.342789244,s=-(t[3]-20037508.342789244),e=t[2]+20037508.342789244,o=o/n,s=s/n,h=-(t[1]-20037508.342789244)/n;return{Oa:Math.floor(e/n/r),Ea:Math.min((1<<i)-1,Math.floor(h/r)),ja:Math.floor(o/r),Fa:Math.max(Math.floor(s/r),0),z:i}},wt.prototype.qs=function(t,i,n){var s=t.optimalZoom,e=t.optimalResolution,r=t.boundsCoord,h=Y.ProjectionManager.getProjection(t.projectionId),r=this.ha(r,s,e);this.TB()&&s++,s<this.Qs[0]?s=this.Qs[0]:s>this.Qs[1]&&(s=this.Qs[1]),h.getResolution(s);for(var o=[],a=[],u=!0,f=r,c=f.ja;c<=f.Oa;c+=1)for(var l=f.Fa;l<=f.Ea;l+=1){var d=new Y.ca(s,this.fa(c,s),l),v=this.ua.getTile(d);this.PF(d,t.projectionId);var p=new Y.ca(s,c,l);v?v.status===Y.TileState.LOADED||v.status===Y.TileState.ERROR?a.push(p):(u=!1,n.push(p)):(u=!1,o.push(d),n.push(p))}return a.length&&i.push(a),this.Pa=r,this.Fo(u),o},wt.prototype.da=function(t,i,n,s){if(t=t.optimalZoom,this.Za="overlay"!==this.layer.type,this.qa="overlay"!==this.layer.type,this.Za)for(var e=Math.min(this.xt[1],t+2),r=t+1;n.length&&r<=e;r+=1){for(var h=[],o=[],a=r,u=n.length-1;0<=u;--u)for(var f=n[u],c=f.x<<1,l=f.y<<1,d=1;0<=d;--d)for(var v=1;0<=v;--v){var p=new Y.ca(a,this.fa(c+d,a),l+v),m=this.ua.getTile(p),y=new Y.ca(a,c+d,l+v);(m&&m.status===Y.TileState.LOADED?o:h).push(y)}o.length&&i.push(o),n=h}if(this.qa)for(var b=this.xt[0],r=t-1;n.length&&b<=r;--r){for(var o=[],h=[],g={},u=n.length-1;0<=u;--u){var k=n[u],a=r,M=k.z-a,d=k.x>>M,v=k.y>>M;g[M=(p=new Y.ca(a,this.fa(d,a),v)).key]||(m=this.ua.getTile(p),g[M]=!0,(m&&m.status===Y.TileState.LOADED?o:h).push(new Y.ca(a,d,v)))}o.length&&i.push(o),n=h}return i},wt.prototype.ma=function(){var t=new RegExp(/\{(\w|\,)+\}/g);if(t.test(this.Be)){var i=this.Be.match(t)[0].replace(/[\{|\}]/g,"").split(",");return this.tr++,i&&this.tr>=i.length&&(this.tr=0),this.Be.replace(t,i[this.tr])}return this.Be},wt.prototype.Ys=function(l,d,v,p){var m;if(!(this.aa.optimalZoom<this.xt[0]||this.aa.optimalZoom>this.xt[1])){this.Da(l);for(var y=this,i=0,n=l.length;i<n;i+=1)!function(t){var n=y.layer.getLayerConfig(),s=l[t],e=y.ma().replace("[z]",s.z+"").replace("[x]",s.x+"").replace("[y]",s.y+""),h=new Y.Vs(s);y.ua.Qo(h),n.getTileUrl&&(e=n.getTileUrl(s.x,s.y,s.z));var r=Y.ProjectionManager.getProjection(v).getResolution(s.z),o=s.x*y.Xa*r,a=o+y.Xa*r,u=s.y*y.Xa*r,f=u+y.Xa*r,t=Y.V[v].Xs(o,u),r=Y.V[v].Xs(a,f);function c(t){var i,n,s,e,r;d&&((i=d.createTexture(t.target||t,{Zi:!0})).bind(d.gl.CLAMP_TO_EDGE,d.gl.LINEAR,d.gl.LINEAR),n=Y.lcs.getLocalByCoord([h.Ro[0],h.Ro[1]]),h.zo.z>Y.za&&(h.Ro[0]-=n.center[0],h.Ro[1]-=n.center[1],h.Ro[2]-=n.center[0],h.Ro[3]-=n.center[1]),s=d.fe(new Float32Array([h.Ro[0],h.Ro[1],0,1,h.Ro[2],h.Ro[1],1,1,h.Ro[0],h.Ro[3],0,0,h.Ro[2],h.Ro[1],1,1,h.Ro[2],h.Ro[3],1,0,h.Ro[0],h.Ro[3],0,0]),16),(e=(r=document.createElement("canvas")).getContext("2d"))&&(t=this.Xa,r.height=r.width=t,r.style.height=r.style.width=t+"px",e.beginPath(),e.moveTo(0,0),e.lineTo(t,0),e.lineTo(t,t),e.lineTo(0,t),e.lineTo(0,0),e.lineWidth=1,e.font="20px Verdana",e.fillStyle="#ff0000",e.strokeStyle="#FF0000",e.strokeRect(0,0,t,t),e.fillText("z: "+h.zo.z,10,30),e.fillText("x: "+h.zo.x,10,60),e.fillText("y: "+h.zo.y,10,90),e.stroke()),(r=d.createTexture(r,{Zi:!0})).bind(d.gl.MIRRORED_REPEAT,d.gl.LINEAR,d.gl.LINEAR_MIPMAP_NEAREST),h.data={texture:i,zs:s,Js:r,Hs:n}),h.status=Y.TileState.LOADED,p()}o=t[0],a=r[0],u=r[1],f=t[1],h.Ro=[o,u,a,f],h.status=Y.TileState.LOADING,"AMap.TileLayer.Flexible"===y.layer.CLASS_NAME||"AMap.TileLayer.WMTS"===y.layer.CLASS_NAME||"AMap.TileLayer.WMS"===y.layer.CLASS_NAME?n.createTile(s.x,s.y,s.z,function(t){d?c.call(this,t):(h.data=t,h.status=Y.TileState.LOADED)}.bind(y),function(){h.status=Y.TileState.ERROR,p()}):(s=new Image,"w"===(null===(m=y.map)||void 0===m?void 0:m.baseRender)&&(s.crossOrigin="anonymous"),s.onload=c.bind(y),"d"===(null===(m=y.map)||void 0===m?void 0:m.baseRender)&&0<e.indexOf("traffictile")&&(e+="&hash="+Math.random()),s.src=e,(h.data=s).addEventListener("dragstart",function(t){return t.preventDefault(),!1}))}(i)}},wt.prototype.fa=function(t,i){i=i||this.aa.optimalZoom;var n=this.Xa/256;n<1?n=1/n:n--;for(var s=1<<(i+=n);t<0||s<=t;)t=s<=t?t-s:t<0?s+t:t;return t},wt.prototype.PF=function(t,i){var r,n=Y.ProjectionManager.getProjection(i).getResolution(t.z),s=(e=t.x*this.Xa*n)+this.Xa*n,t=(r=t.y*this.Xa*n)+this.Xa*n,n=Y.V[i].Xs(e,r),i=Y.V[i].Xs(s,t),e=n[0],s=i[0],t=(i[1],n[1]);return!(s<(n=this.map.getView().getStatus().boundsCoord)[0]&&t<n[1]||e>n[2]&&s>n[3])},wt.prototype.TB=function(){var t=!1;return this.layer.getState().detectRetina&&(t=!0),!("d"!==Y.Support.baseRender||!Y.Support.Ue||!Y.Support.$e)||t},wt);function wt(t,i,n,s){return(s=kt.call(this,t,i,n,s)||this).ua=new q(Y.Support.$e?200:400),s.Xa=256,s.sa=[],s.Zs=[],s.tr=-1,s.qa=!0,s.Za=!0,s.xt=t.zooms,s.Qs=t.dataZooms,s.Xa=t.tileSize,s.Be=t.tileUrl,s}var xt,At=(xt=O,Y.Ei(zt,xt),zt.prototype.loadData=function(t,i,n){return this.ze=i,this.Oo||(this.Fo(!0),n()),!0},zt.prototype.getData=function(t){if(this.ir=t.bounds,this.Oo){var i=Y.lcs.getLocalByCoord([t.centerCoord[0],t.centerCoord[1]]),s=(n=Y.ProjectionManager.getProjection(t.projectionId)).project(this.ir[0],this.ir[1]),n=n.project(this.ir[2],this.ir[3]),e=[0,0,0,0];if(t.optimalZoom>=Y.Ra){for(var s=Y.lcs.getLocalByCoord([s[0],s[1]]),n=Y.lcs.getLocalByCoord([n[0],n[1]]),r=Y.lcs.getSize(),e=[s.x-i.x,s.y-i.y,n.x-i.x,n.y-i.y],h=0;h<e.length;h++)0!==e[h]&&(e[h]*=r[0]);e=[e[0]-s.center[0],e[1]-s.center[1],e[2]-n.center[0],e[3]-n.center[1]]}return{texture:this._s,zs:this.ks,Sa:[0,0]}}},zt);function zt(t,i,n,s){return(i=xt.call(this,t,i,n,s)||this).ir=n.getView().getStatus().bounds,i.io=s.canvas,i}var Ct,St=(Ct=O,Y.Ei(Lt,Ct),Lt.prototype.hasOverlay=function(t){return-1<this._overlays.indexOf(t)},Lt.prototype.getAllOverlays=function(){return this._overlays},Lt.prototype.add=function(t){this.hasOverlay(t)||Y.er(t)&&(this._overlays.push(t),t.Zx(this.map),t.init(),t._bindEvents&&t._bindEvents(),(Y.GB(t)||Y.VB(t))&&this.YB.push(t),t._afterSetMap&&t._afterSetMap(this.map),this.map.setNeedUpdate(!0))},Lt.prototype.remove=function(t){this.hasOverlay(t)&&Y.er(t)&&(t._beforeRemoveMap&&t._beforeRemoveMap(),this.ar(t),this.map.setNeedUpdate(!0),t.Zx(null))},Lt.prototype.getData=function(t,i){this.nr();var n=0,s=0,e=this._overlays.length,r=[],h=new lt(t.bounds);if(this.map.isDOMMode())return{sr:this._overlays};for(;n<8&&s<e;){var o,a=this._overlays[s];s++,a&&(o=Date.now(),a._needUpdate&&(a.ZB(i),this.map.setNeedUpdate(!0)),n+=Date.now()-o)}for(var u=0,f=this._overlays;u<f.length;u++){var c=(a=f[u]).getBounds();a.visible&&c&&h.intersects(c)&&r.push(a)}return{sr:r}},Lt.prototype.loadData=function(){return!0},Lt.prototype.destroy=function(){this.map&&this.map.off("zoomend",this.W_);for(var t=0,i=this._overlays.slice(0);t<i.length;t++){var n=i[t];this.remove(n),n.destroy()}this._overlays=[]},Lt.prototype.rr=function(t){for(var i=t.lnglat,n=t.pixel,s=this._overlays.length-1;0<=s;s--){var e=this._overlays[s];if(!e._opts.noSelect&&e.visible)if(Y.sB(e)&&n){if(e.containsWithPixel(n))return e}else if(e.contains(i,t))return e}},Lt.prototype.W_=function(){for(var t=0,i=this.YB;t<i.length;t++){var n=i[t];n.W_&&n.W_()}},Lt.prototype.nr=function(){this._overlays.sort(function(t,i){return t._opts.zIndex-i._opts.zIndex})},Lt.prototype.ar=function(t){var i=this._overlays.indexOf(t);-1<i&&this._overlays.splice(i,1),!Y.GB(t)&&!Y.VB(t)||-1<(t=this.YB.indexOf(t))&&this.YB.splice(t,1)},Lt);function Lt(t,i,n,s){return(s=Ct.call(this,t,i,n,s)||this)._overlays=[],s.YB=[],s.Fo(!0),s.W_=s.W_.bind(s),n.on("zoomend",s.W_),s}var Tt,It=(Tt=O,Y.Ei(Dt,Tt),Dt.prototype.loadData=function(s,t,e,i){var r=this;this.aa=s,this.sa=[];for(var n=s.optimalResolution,h=s.boundsCoord,o=s.zoom,a=s.optimalZoom,u=this.ha(h,a,n,s),f=[],c=Y.map(u,function(t){return t.key}),l=[],d=0,v=this.la;d<v.length;d++){var p=v[d];c.indexOf(p.key)<0&&(b=this.ua.getTile(p))&&b.status!==Y.TileState.LOADED&&b.request&&(b.request.cancel(),delete b.request,this.ua.ea(b))}for(var m=[],y=((n=i.getMapState()).panning,n.zooming,0);y<u.length;y++){var b,g=u[y],k=new Y.ca(g.z,this.fa(g.x,g.z),g.y),M=new Y.ca(g.z,g.x,g.y);(b=this.ua.getTile(k))?b.status===Y.TileState.LOADED?this.sa.push(M):l.push(g):((M=new Y.Sw(k)).nG(this.type),M.status=Y.TileState.LOADING,this.ua.Jo(M),m.push(k),l.push(g)),b&&b.status===Y.TileState.LOADED||f.push(g)}return this.da(s,this.sa,f,i),this.la=l,0===m.length||(Y.map(m,function(t){var i,n=r.ua.getTile(t);n&&(i=r.AD(t.x,t.y,t.z),r.bw(n,{url:i,zo:t,zoom:o,viewState:s},e))}),0===m.length)},Dt.prototype.bw=function(t,i,s){var n,e=this,r=i.url,h=i.zo,o=i.zoom,i=i.viewState;"AMap.MapboxVectorTileLayer"===this.layer.CLASS_NAME&&(n=this.layer.cX&&this.layer.cX()),this.lX(t,{url:r,ya:h.key,zoom:o,optimalZoom:i.optimalZoom,projectionId:i.projectionId,tileCoord:h,tileSize:this.Xa,styles:n},function(t){var i,n=t&&e.ua.getTile(t.zo);n&&(delete n.request,n.status=Y.TileState.LOADED,n.localCoord=t.zS,n.Ro=t.Ro,n.stencil=t.stencil,i=Y.lcs.getLocalByCoord([n.Ro[0],n.Ro[1]]),n.data=Y.Ln(Y.Ln({},t),{Hs:i}),s())})},Dt.prototype.getData=function(t){var i=t.optimalResolution,n=t.optimalZoom,s=t.boundsCoord,s=this.ha(s,n,i,t),i=this.aa.projectionId,e=Y.ProjectionManager.getProjection(i),r=[],h=this.map.qF();if(this.ua.QF(h),this.sa.sort(function(t){return n===t.z+1?1:-1}),0<this.sa.length)for(var o=0;o<this.sa.length;o++){var a,v,p,u=this.sa[o],f=this.ua.getTile(u),c=[0,0],l=t.centerCoord,d=Y.lcs.getLocalByCoord([l[0],l[1]]);f||(l=this.fa(u.x,u.z),(a=this.ua.getTile(new Y.ca(u.z,l,u.y)))&&(f=new Y.Sw(u),l=e.getResolution(u.z),u=u.x-a.zo.x,c[0]+=l*this.Xa*u,f.Ro=a.Ro,f.localCoord=a.localCoord,f.data=a.data,f.Sa=c,f.status=a.status)),f&&10<n&&(n>=Y.Ra&&f.data.Hs?(a=Y.lcs.getSize(),v=f.data.Hs.x-d.x,p=f.data.Hs.y-d.y,0!=v&&(v*=a[0],c[0]=v),0!=p&&(p*=a[1],c[1]=p),n>=Y.Ra&&Y.za>=f.zo.z&&(c[0]=-d.center[0],c[1]=-d.center[1])):n<Y.Ra&&Y.za<f.zo.z&&(c[0]=d.center[0],c[1]=d.center[1])),f&&(f.Sa=c,f.stamp=h,r.push(f))}return i=Y.every(s,function(i){return Y.some(r,function(t){return t.zo.key===i.key})}),this.Fo(i),s=this.jE(r),i&&(this.a_=!0,this.map.bZ.dynamic.set("firstAllLoaded",!0)),this.a_&&this.map.bZ.dynamic.set("firstLabelDataAllLoaded",!0),{s_:this.a_,yZ:s,fo:!!i,tiles:r}},Dt.prototype.destroy=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request),t.destroy()}),this.ua.destroy(),this.sa=[],this.la=[]},Dt.prototype.forEachTileCache=function(t){this.ua.forEach(t)},Dt.prototype.reload=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request)}),this.ua.destroy(),this.sa=[],this.la=[]},Dt.prototype.setTileUrl=function(t){this.Be=t||this.Be},Dt.prototype.getTileCache=function(){return this.ua},Dt.prototype.setTileCacheSize=function(t){t=t||(Y.Support.$e?50:200),this.ua.Xo(t)},Dt.prototype.AD=function(t,i,n){return this.Be.replace("[x]",t.toString()).replace("[y]",i.toString()).replace("[z]",n.toString()).replace("{1234}",(Math.abs(t+i)%4+1).toString())},Dt.prototype.Da=function(t,i){var e,r,h;t.length&&(e=this.Pa.z,r=(this.Pa.ja+this.Pa.Oa)/2,h=(this.Pa.Fa+this.Pa.Ea)/2,t.sort(function(t,i){var n=(t.x<<e-t.z)-r,s=(t.y<<e-t.z)-h;return n*n+s*s<=(t=(i.x<<e-i.z)-r)*t+(i=(i.y<<e-i.z)-h)*i?-1:1}))},Dt.prototype.ha=function(t,i,n,s){var e=this.layer.getSourceConfig().dataZooms;i=+Math.max(Math.min(i,e[1]),e[0]),n=Y.ProjectionManager.getProjection(s.projectionId).getResolution(i);var r=this.Xa,o=t[0]+20037508.342789244,e=-(t[3]-20037508.342789244),s=t[2]+20037508.342789244,o=o/n,e=e/n,h=-(t[1]-20037508.342789244)/n,a=Math.floor(s/n/r),u=Math.min((1<<i)-1,Math.floor(h/r)),o=Math.floor(o/r),f=Math.max(Math.floor(e/r),0);this.Pa={Oa:a,Ea:u,ja:o,Fa:f,z:i};for(var c=[],l=o;l<=a;l+=1)for(var d=f;d<=u;d+=1)c.push(new Y.ca(i,l,d));return this.Da(c),c},Dt.prototype.da=function(t,i,n,s){if(t=t.optimalZoom-1,this.Za="overlay"!==this.layer.type,this.qa="overlay"!==this.layer.type,this.Za)for(var e=Math.min(this.xt[1]-1,2+t),r=1+t;n.length&&r<=e;r+=1){for(var h=[],o=[],a=r,u=n.length-1;0<=u;--u)for(var f=n[u],c=f.x<<1,l=f.y<<1,d=1;0<=d;--d)for(var v=1;0<=v;--v){var p=new Y.ca(a,this.fa(c+d,a),l+v),m=this.ua.getTile(p),y=new Y.ca(a,c+d,l+v);(m&&m.status===Y.TileState.LOADED?o:h).push(y)}o.length&&i.push.apply(i,o),n=h}if(this.qa)for(var b=this.xt[0]-1,r=t-1;n.length&&b<=r;--r){for(var o=[],h=[],g={},u=n.length-1;0<=u;--u){var k=n[u],a=r,M=k.z-a,d=k.x>>M,v=k.y>>M;g[M=(p=new Y.ca(a,this.fa(d,a),v)).key]||(m=this.ua.getTile(p),g[M]=!0,(m&&m.status===Y.TileState.LOADED?o:h).push(new Y.ca(a,d,v)))}o.length&&i.push.apply(i,o),n=h}return i},Dt.prototype.fa=function(t,i){for(var n=1<<(i=i||this.aa.optimalZoom);t<0||n<=t;)t=n<=t?t-n:t<0?n+t:t;return t},Dt.prototype.vX=function(t,i){var n=[-180,-90],s=[180,90],e=Y.ProjectionManager.getProjection("EPSG:3857"),r=e.project(256*t+n[0],s[1]-256*i),i=e.project(256*(t+1)+n[0],s[1]-256*(i+1));return[r[0],r[1],i[0],i[1]]},Dt.prototype.jE=function(t){for(var i=!!t.length,n=0,s=t;n<s.length;n++){var e=s[n].data;if(i)for(var r=0,h=e;r<h.length;r++){var o=h[r];if(!(i=i&&!!o.Ta))break}}return i},Dt);function Dt(t,i,n,s){return(s=Tt.call(this,t,i,n,s)||this).type="vector",s.Ya=!1,s.Va=!1,s.Xa=256,s.sa=[],s.la=[],s.xt=[2,22],s.qa=!0,s.Za=!0,s.a_=!1,s.Xa=t.tileSize,s.Be=t.tileUrl,t=Y.Support.$e?50:200,s.ua=new q(t),s.NE=new nt(t),(s.map=n).gn.Ja(AMap.getConfig().protocol),s}var Ot,Et=(Ot=It,Y.Ei(Rt,Ot),Rt.prototype.ha=function(t,i,n,s){var e=this.layer.getSourceConfig().dataZooms;i=Math.max(Math.min(i,e[1]),e[0])-1,n=Y.ProjectionManager.getProjection(s.projectionId).getResolution(i);var r=this.Xa,o=t[0]+20037508.342789304,e=-(t[3]-20037508.342789304),s=t[2]+20037508.342789304,o=o/n,e=e/n,h=-(t[1]-20037508.342789304)/n,a=Math.floor(s/n/r),u=Math.min((1<<i)-1,Math.floor(h/r)),o=Math.floor(o/r),f=Math.max(Math.floor(e/r),0);this.Pa={Oa:a,Ea:u,ja:o,Fa:f,z:i};for(var c=[],l=o;l<=a;l+=1)for(var d=f;d<=u;d+=1)c.push(new Y.ca(i,l,d));return this.Da(c),c},Rt);function Rt(t,i,n,s){return(s=Ot.call(this,t,i,n,s)||this).lX=s.map.gn.loadDistrictSourceTile.bind(s.map.gn),s}var Pt,jt=(Pt=It,Y.Ei(Bt,Pt),Bt.prototype.reStyle=function(i,s){var e=this;this.ua.forEach(function(n){var t;n.status===Y.TileState.LOADED?(n.zo.z+1!==s&&e.ua.ea(n),t=Y.Ln(Y.Ln({},n.data),{dX:null,Dc:null,A_:null,$c:null,pX:null,labels:null}),e.yX.mX(t,i,function(t,i){n.data.Oc=i.Oc,n.data.Fc=i.Fc,n.data.w0=i.w0,n.data.Uc=i.Uc,n.data.dX=i.dX,n.data.IX=i.IX,n.data.labels=i.labels,e.map.setNeedUpdate(!0)})):n.status===Y.TileState.LOADING&&(null!==(t=n.request)&&void 0!==t&&t.cancel(),e.ua.ea(n))})},Bt.prototype.ha=function(t,i,n,s){var e=this.layer.getSourceConfig().dataZooms;i=Math.max(Math.min(i-1,e[1]),e[0]),n=Y.ProjectionManager.getProjection(s.projectionId).getResolution(i);var r=this.Xa,o=t[0]+20037508.342789244,e=-(t[3]-20037508.342789244),s=t[2]+20037508.342789244,o=o/n,e=e/n,h=-(t[1]-20037508.342789244)/n,a=Math.floor(s/n/r),u=Math.min((1<<i)-1,Math.floor(h/r)),o=Math.floor(o/r),f=Math.max(Math.floor(e/r),0);this.Pa={Oa:a,Ea:u,ja:o,Fa:f,z:i};for(var c=[],l=o;l<=a;l+=1)for(var d=f;d<=u;d+=1)c.push(new Y.ca(i,l,d));return this.Da(c),c},Bt);function Bt(t,i,n,s){return(n=Pt.call(this,t,i,n,s)||this).yX=new Y.bX,n.Be=s.getSourceConfig().tileUrl,n.lX=n.map.gn.gX.bind(n.map.gn),n}var Ft,Fo=(Ft=O,Y.Ei(Gt,Ft),Gt.prototype.loadData=function(t,i,n){return this.ze=i,this.Oo||(this.Fo(!0),n()),!0},Gt.prototype.getData=function(t){return this.ir=t.bounds,{Sa:[0,0]}},Gt);function Gt(t,i,n,s){return(i=Ft.call(this,t,i,n,s)||this).ir=n.getView().getStatus().bounds,i.io=s.canvas,i}var Nt,_t=(Nt=O,Y.Ei(Ut,Nt),Ut.prototype.loadData=function(t,i,n){return!0},Ut.prototype.getData=function(t){return!0},Ut.prototype.destroy=function(){this.gs&&this.gs.destroy&&this.gs.destroy()},Ut);function Ut(t,i,n,s){return(n=Nt.call(this,t,i,n,s)||this).gs=s,n}var Yt,Zt=(Yt=O,Y.Ei(Xt,Yt),Xt.prototype.CS=function(){this.AS=!1},Xt.prototype.loadData=function(t,i,n){return!0},Xt.prototype.getData=function(t){var r=this,i=this.gs.getState().path;if(this.AS)return this.AS;if(i){var n,e,h,o,a,s=Y.GeometryUtil.typePolygon(i),u={type:"Polygon",$S:new Array,polygons:new Array,BM:new Array,LS:{x:0,y:0}};return s&&"Polygon"===s?(i[0][0]instanceof Y.LngLat?u.LS=Y.lcs.getLocalByLnglat(i[0][0].toString()):u.LS=Y.lcs.getLocalByLnglat(i[0][0]),n=u.LS,e=n.x,h=n.y,Y.forEach(i,function(t,i){var s;0===i?Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(e,h,i.x,i.y))[0],n=n[1];u.$S.push(i.Sa[0]+t,i.Sa[1]+n)}):(s=[],Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(e,h,i.x,i.y))[0],n=n[1];s.push(i.Sa[0]+t,i.Sa[1]+n)}),u.BM.push(s))})):s&&"MultiPolygon"===s&&(u.type="MultiPolygon",i[0][0][0]instanceof Y.LngLat?u.LS=Y.lcs.getLocalByLnglat(i[0][0][0].toArray()):u.LS=Y.lcs.getLocalByLnglat(i[0][0][0]),s=u.LS,o=s.x,a=s.y,Y.forEach(i,function(t){var e=[],n=[];Y.forEach(t,function(t,i){var s;0===i?Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(o,a,i.x,i.y))[0],n=n[1];e.push(i.Sa[0]+t,i.Sa[1]+n)}):(s=[],Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(o,a,i.x,i.y))[0],n=n[1];s.push(i.Sa[0]+t,i.Sa[1]+n)}),n.push(s))}),u.BM.push(n),u.polygons.push(e)})),this.AS=this.zw(u),this.AS}return!0},Xt.prototype.zw=function(t){if(t.Oc=new Y._w,!t.Dc){t.Dc=new Y.K_;var i=[],n=[];"Polygon"===t.type?(i=[t.$S],n=[t.BM]):"MultiPolygon"===t.type&&(i=t.polygons,n=t.BM);for(var s=0;s<i.length;s++){for(var e=i[s],r=[],h=0;h<n[s].length;h++){var o=n[s][h];r.push(e.length/2),e.push.apply(e,o)}var a=t.Dc.Nx(e,r);0<a&&t.Oc.add(99,99,a,Y.zoomRange[0],Y.zoomRange[1])}return t}},Xt.prototype.DS=function(t,i,n,s){return s-=i,[(t=n-t)*(i=Y.lcs.getSize())[0],s*i[1]]},Xt);function Xt(t,i,n,s){return(n=Yt.call(this,t,i,n,s)||this).gs=s,n}var Ht,Jt=(Ht=It,Y.Ei(Vt,Ht),Vt.prototype.YE=function(t){var i=this;return t(null,{GW:"worker",cb:function(t){i.dynamicTextVerticeLoadedByTile(t)}}),!0},Vt.prototype.dynamicTextVerticeLoadedByTile=function(t){for(var i=0,n=t.data;i<n.length;i++){var s=n[i];this.dynamicTextVerticeLoaded({data:s.data,tag:s.tag,XE:s.XE})}},Vt.prototype.dynamicTextVerticeLoaded=function(t){var i=t.data,n=t.XE;if(i instanceof Y.ca)this.ua.getTile(i);else if(t=i[Object.keys(i)[0]],(t=this.ua.getTile(t.zo,!0))&&t.data){var s,e,r={};for(s in i)i.hasOwnProperty(s)&&(e=i[s],r[s]=new Y.La(e.zo,e));t.data.labels=r,t.data.XE=n,t.data.Ta=!0,this.Eo()}},Vt.prototype.Aa=function(t){!t.zo||(t=this.ua.getTile(t.zo))&&(t.data.Ta=!0)},Vt.prototype.loadData=function(s,t,e,i){var h=this;this.aa=s,this.sa=[];var n=s.optimalResolution,r=s.boundsCoord,o=s.zoom,a=s.optimalZoom;if(a<9.8)return!1;for(var u=this.ha(r,a,n,s),f=[],c=Y.map(u,function(t){return t.key}),l=[],d=0,v=this.la;d<v.length;d++){var p=v[d];c.indexOf(p.key)<0&&(k=this.ua.getTile(p))&&k.status!==Y.TileState.LOADED&&k.request&&(k.request.cancel(),delete k.request,this.ua.ea(k))}for(var m=[],y=(n=i.getMapState()).panning,b=n.zooming,g=0;g<u.length;g++){var k,M=u[g],w=new Y.ca(M.z,this.fa(M.x,M.z),M.y),x=new Y.ca(M.z,M.x,M.y);!(k=this.ua.getTile(w))&&y&&!b||(k?k.status===Y.TileState.LOADED?this.sa.push(x):l.push(M):((x=new Y.Sw(w)).nG(this.type),x.status=Y.TileState.LOADING,this.ua.Jo(x),m.push(w),l.push(M)),k&&k.status===Y.TileState.LOADED||f.push(M))}if(this.da(s,this.sa,f,i),this.la=l,0===m.length)return!1;var A=this.map.getMapboxStyle(),z=[],C=256;return Y.map(m,function(t){var i=t.x,n=t.y,s=t.z,e=h.NE.getTile(t),r=null;e&&e.boundsStatus?r=e.boundsStatus.isInNebulaOversea:(e=h.aa.projectionId,s=[Y.V[e].Xs(i*C,n*C,s),Y.V[e].Xs((i+1)*C,n*C,s),Y.V[e].Xs((i+1)*C,(n+1)*C,s),Y.V[e].Xs(i*C,(n+1)*C,s)],r=h.rG(s,t.key),(s=new Y.pa(t)).boundsStatus={isInNebulaOversea:r},h.NE.Jo(s)),r||z.push(t),r=h.NE.getTile(t),(t=h.ua.getTile(t))&&r&&r.boundsStatus&&(t.sG=r.boundsStatus)}),Y.map(m=z,function(t){var i,n=h.ua.getTile(t);n&&(i=h.AD(t.x,t.y,t.z),h.bw(n,{url:i,zo:t,zoom:o,viewState:s,styles:A},e))}),0===m.length},Vt.prototype.oG=function(t,i,n,s){void 0===s&&(s="lnglat");var e=[-180,-90],r=[180,90],h=Y.ProjectionManager.getProjection("EPSG:3857");return"lnglat"===s?[256*t+e[0],r[1]-256*i,256*(t+1)+e[0],r[1]-256*(i+1)]:"EPSG:3857"!==s?[0,0,0,0]:(s=h.project(256*t+e[0],r[1]-256*i),i=h.project(256*(t+1)+e[0],r[1]-256*(i+1)),[s[0],s[1],i[0],i[1]])},Vt.prototype.bw=function(t,i,s){var e=this,n=i.url,r=i.zo,h=i.zoom,o=i.viewState,i=i.styles;this.map.gn.aG(t,{url:n,ya:r.key,zoom:h,optimalZoom:o.optimalZoom,projectionId:o.projectionId,tileCoord:r,tileSize:this.Xa,styles:i},function(t){var i,n=t&&e.ua.getTile(t.zo);n&&(delete n.request,n.status=Y.TileState.LOADED,n.localCoord=t.zS,n.Ro=t.Ro,n.stencil=t.stencil,i=Y.lcs.getLocalByCoord([n.Ro[0],n.Ro[1]]),n.data=Y.Ln(Y.Ln({},t),{Hs:i}),s())})},Vt.prototype.getData=function(t){var i=this,n=t.optimalResolution,s=t.boundsCoord,e=t.optimalZoom;if(e<10)return this.Fo(!0),!1;var s=this.ha(s,e,n,t),n=t.projectionId,r=Y.ProjectionManager.getProjection(n),h=[],o=this.map.qF();if(this.ua.QF(o),this.sa.sort(function(t){return e===t.z+1?1:-1}),0<this.sa.length)for(var a=0;a<this.sa.length;a++){var u,p,m,f=this.sa[a],c=this.ua.getTile(f),l=[0,0],d=t.centerCoord,v=Y.lcs.getLocalByCoord([d[0],d[1]]);c||(u=this.ua.getTile(new Y.ca(f.z,this.fa(f.x,f.z),f.y)))&&((c=new Y.Sw(f)).nG(this.type),d=r.getResolution(f.z),f=f.x-u.zo.x,l[0]+=d*this.Xa*f,c.Ro=u.Ro,c.localCoord=u.localCoord,c.data=u.data,c.Sa=l,c.status=u.status),c&&(e>=Y.Ra&&c.data.Hs?(u=Y.lcs.getSize(),p=c.data.Hs.x-v.x,m=c.data.Hs.y-v.y,0!=p&&(p*=u[0],l[0]=p),0!=m&&(m*=u[1],l[1]=m),l[0]=-v.center[0],l[1]=-v.center[1]):(l[0]=v.center[0],l[1]=v.center[1])),c&&(c.Sa=l,c.stamp=o,h.push(c))}return s=!(n=Y.filter(s,function(t){return!(!(t=i.NE.getTile(t))||!t.boundsStatus||!1!==t.boundsStatus.isInNebulaOversea)})).length||Y.every(n,function(i){return Y.some(h,function(t){return t.zo.key===i.key})}),n=this.jE(h),s&&(this.a_=!0,this.map.bZ.dynamic.set("firstAllLoaded",!0)),this.a_&&this.map.bZ.dynamic.set("firstLabelDataAllLoaded",!0),s&&this.Fo(!0),{s_:this.a_,fo:!!s,yZ:n,tiles:h}},Vt.prototype.Ia=function(){this.map.on("tileSdfInfoFinished",this.Aa.bind(this))},Vt.prototype.ha=function(t,i,n,s){var e=this.layer.getSourceConfig().dataZooms;i=Math.max(Math.min(i,e[1]),e[0])-1,n=Y.ProjectionManager.getProjection(s.projectionId).getResolution(i);var r=this.Xa,o=t[0]+20037508.342789244,e=-(t[3]-20037508.342789244),s=t[2]+20037508.342789244,o=o/n,e=e/n,h=-(t[1]-20037508.342789244)/n,a=Math.floor(s/n/r),u=Math.min((1<<i)-1,Math.floor(h/r)),o=Math.floor(o/r),f=Math.max(Math.floor(e/r),0);this.Pa={Oa:a,Ea:u,ja:o,Fa:f,z:i};for(var c=[],l=o;l<=a;l+=1)for(var d=f;d<=u;d+=1)c.push(new Y.ca(i,l,d));return this.Da(c),c},Vt.prototype.jE=function(t){for(var i=!!t.length,n=0,s=t;n<s.length;n++){var e=s[n].data;if(i)for(var r=0,h=e;r<h.length;r++){var o=h[r];if(!(i=i&&!!o.Ta))break}}return i},Vt);function Vt(t,i,n,s){return(s=Ht.call(this,t,i,n,s)||this).type="mapbox",s.hD=[AMap.getConfig().protocol+"://vdata.amap.com/style_icon/2.0/icon-normal-big.png",AMap.getConfig().protocol+"://vdata.amap.com/style_icon/2.0/icon-biz-big.png"],s.Ia(),s}var qt={ielt9:"ActiveXObject"in window&&!document.addEventListener,opts:{callback:"callback",type:"json",charset:"utf-8"},setOptions:function(t){this.opts=Y.assign(this.opts,t)},bv:function(){},gv:function(){this.emit("error",{info:"TIME_OUT_A"})},JSONP:function(i,n,t){void 0===t&&(t={}),i=encodeURI(i);var s=Y.Util.getGuid("jsonp_",6)+"_",e=document.createElement("script");function r(){window[s]=null,e.onerror=null,e.parentNode&&e.parentNode.removeChild(e)}e.type="text/javascript",e.charset="utf-8",e.async=!0,t=Y.assign({},this.opts,t),e.onerror=function(t){r(),n&&n("error",{url:i,info:"Request Error"})},window[s]=function(t){r(),n&&n("complete",{info:"ok",url:i,data:t})};var h="?";-1!==i.indexOf("?")&&(h="&"),t=i+h+t.callback+"="+s,e.src=t,(document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]).appendChild(e)},Ajax:function(i,t,n){if(void 0===window.XMLHttpRequest&&window.wv){var s=this._v=new window.wv;return s.onerror=function(t){n("error",{info:"Request Error",url:i,data:""})},s.onload=function(){n("complete",{url:i,data:s.responseText})},s.open(t.type||"GET",i),setTimeout(function(){s.send(t.content||null)},0),s}if(window.XMLHttpRequest){var e=new XMLHttpRequest;return e.onreadystatechange=function(){var t;4===e.readyState&&(200===e.status?(t="arraybuffer"===e.responseType?e.response:e.responseText,n("complete",{info:"ok",url:i,data:t})):(e.abort(),n("error",{info:e.status,url:i,data:""})))},e.onerror=function(t){e.abort(),n("error",{info:"Request Error",url:i,data:""})},e.open(t.type||"GET",i,!0),e.responseType=t.responseType||"text","POST"===t.type&&e.setRequestHeader("Content-Type",t.requestContentType||"application/x-www-form-urlencoded"),e.send(t.content||null),e}n("error",{info:"Not Support Ajax",url:i,data:""})}},Qt=(Kt.prototype.add=function(t,i,n,s,e){$t.getKey(t,i,e,s)!==(this.WM?this.WM.getKey():"-1")&&(this.XR=t,this.qR=i,this.VM+=this.WM?this.WM.length:0,this.WM=new $t(t,i,this.VM,s,e),this.jc.push(this.WM)),this.WM.add(n)},Kt);function Kt(){this.jc=[],this.XR=0,this.qR=0,this.VM=0}var $t=(ti.getKey=function(t,i,n,s){return t+":"+i+":"+n+":"+s},ti.prototype.add=function(t){this.length+=t},ti.prototype.getKey=function(){return this.color+":"+this.width+":"+this.maxzoom+":"+this.minzoom},ti);function ti(t,i,n,s,e){this.color=t,this.width=i,this.offset=n,this.minzoom=s,this.maxzoom=e,this.length=0}var ii,ni=(ii=Mt,Y.Ei(si,ii),si.prototype.loadData=function(t,i,n,s){var h=this;this.aa=t,this.ze=i,this.Zs=[],this.sa=[];var e=t.projectionId,r=[],o=t.boundsCoord,a=t.optimalZoom,u=t.optimalResolution,f=this.ha(o,a,u);return this.ua.forEach(function(t){var i=t.zo,n=!1;if(t.status!==Y.TileState.LOADED){for(var s=f.ja;s<=f.Oa;s+=1)for(var e=f.Fa;e<=f.Ea;e+=1){var r=h.fa(s,f.z);i.z===f.z&&i.y===e&&r===i.x&&(n=!0)}n||(t.request&&t.request.abort&&t.request.abort(),h.ua.ea(t))}}),u=this.qs(t,this.Zs,r),this.Ys(u,i,e,n),this.da(t,this.sa,r,s),this.sa=this.sa.concat(this.Zs),0===u.length},si.prototype.Ys=function(o,t,z,C){if(!(this.aa.optimalZoom<this.xt[0]||this.aa.optimalZoom>this.xt[1])){this.Da(o);var i={0:"fff93a43",1:"fffcac19",2:"ff20a962",3:"ff83171c",4:"ffadadad"},n=this.map.mapStyle.vn.MS("traffic");n&&n.multiFillColors&&((n=n.multiFillColors).congested&&(i[0]=n.congested),n.slow&&(i[1]=n.slow),n.smooth&&(i[2]=n.smooth),n.seriousCongested&&(i[3]=n.seriousCongested),n.unknown&&(i[4]=n.unknown));for(var S=this.layer.getOptions().rZ,a=this,s=0,e=o.length;s<e;s+=1)!function(t){var i=o[t],k=Y.Util.Rg(i.x,i.y,i.z),n=a.ll(k),M=new Y.Sw(i);a.ua.Qo(M);var w=Y.ProjectionManager.getProjection(z).getResolution(i.z),s=(r=i.x*a.Xa*w)+a.Xa*w,e=(h=i.y*a.Xa*w)+a.Xa*w,t=Y.V[z].Xs(r,h),i=Y.V[z].Xs(s,e),r=t[0],s=i[0],h=i[1],e=t[1];M.Ro=[r,h,s,e],M.status=Y.TileState.LOADING;var x=Y.lcs.getLocalByCoord([M.Ro[0],M.Ro[1]]),A=M.zo.z>Y.za;A&&(M.Ro[0]-=x.center[0],M.Ro[1]-=x.center[1],M.Ro[2]-=x.center[0],M.Ro[3]-=x.center[1]),M.request=qt.Ajax(n,{},function(t,i){M.data={};try{i=JSON.parse(i.data)}catch(t){return M.status=Y.TileState.LOADED,void C()}if(i=i.data[k.join("_")],"complete"===t&&i){for(var n=new Qt,s=new Y.J_,e=0,r=i.length;e<r;e++)for(var h=i[e],o=0,a=h.length;o<a;o++)for(var u=h[o],f=.6*u[0]*S,c=0,l=u[1].length;c<l;c++){for(var d=[],v=Y.Util.Eg(u[1][c]),p=0,m=v.length;p<m;p+=2){var y=w*(256*M.zo.x+v[p]),b=w*(256*M.zo.y+v[p+1]),b=Y.V[z].Xs(y,b);A&&(b[0]-=x.center[0],b[1]-=x.center[1]),d.push(b[0],b[1])}var g=s.hb(d).Iw;n.add(e,f,g,8,20)}M.data={$c:s,Uc:n,Hs:x}}M.status=Y.TileState.LOADED,C()})}(s)}},si);function si(t,i,n,s){return(s=ii.call(this,t,i,n,s)||this).Qs=[3,17],s.Xa=256,s.Za=s.qa=!1,s.ll=function(t){return AMap.getConfig().protocol+"://vdata.amap.com/traffic?key="+AMap.getConfig().key+"&v="+AMap.getConfig().version+"&t="+t+"&w="+(new Date).getTime()},s}var ei,hi={nebula:"tile",mapbox:"tile",nebulaLabel:"tile",indoor:"other"},oi=(ei=O,Y.Ei(ai,ei),ai.prototype.loadData=function(e,t,i,r,n){var s,h=this,o=this.Yh;for(s in Object.keys(o).length,o)!function(s){o.hasOwnProperty(s)&&o[s].YE(function(t,i){var n=i.GW,i=i.cb;"worker"===(void 0===n?"main":n)?(h.Ye[s]=i,r.gn.innerLabelsLoadData({id:s,bounds:e.bounds.slice(),zoom:e.optimalZoom},function(t){Object.keys(t).length})):(n=function(t,i){var n,s,e=i.R_,r=i.z_,h={};for(n in t)t.hasOwnProperty(n)&&(s=t[n],s=new Y.eG({R_:e,z_:r}).Ns(s.data,{zoom:s.zoom,from:"inner",center:s.center}),h[n]=new Y.La(n,s));return h}(t,n={R_:h.Mf,z_:h.ac}),i&&i(n))})}(s);return!0},ai.prototype.getData=function(t){var i,n,s,e,r=this.Yh,h={tile:[],other:[]},o=!0;for(i in r)r.hasOwnProperty(i)&&(e=r[i],n=hi[i]||"other",e&&(s=e.getData(t),e=e.lo(),h[n].push(s),o=o&&e));return this.Oo=o,this.Fo(o),h},ai.prototype.getSources=function(){return this.Yh},ai.prototype.addSource=function(t,i){this.Yh[t]=i},ai.prototype.Xh=function(t){delete this.Yh[t]},ai.prototype.uU=function(t){var i=t.id,n=this.Ye;n[i]&&n[i](t)},ai.prototype.destroy=function(){var t,i,n=this.Yh;for(t in n)!n.hasOwnProperty(t)||(i=n[t])&&i.destroy()},ai.prototype.reload=function(){var t,i,n=this.Yh;for(t in n)!n.hasOwnProperty(t)||(i=n[t])&&i.reload&&i.reload()},ai.prototype.Ia=function(){this.map.gn.on("dynamicTextVerticeLoadedByTile",this.uU.bind(this))},ai);function ai(t,i,n,s){return(s=ei.call(this,t,i,n,s)||this).Yh={},s.Ye={},s.Mf=n.R_,s.ac=n.z_,s.Ia(),s}var ui,fi=Y.Support.scale,ci=(ui=at,Y.Ei(li,ui),li.prototype.loadData=function(t,i,n,s){var e=this;if(!s.gn.dE)return!1;this.aa=t,this.sa=[];for(var r=t.bounds,h=this.ra(t.optimalZoom),o=this.ha(r,h),a=Y.map(o,function(t){var i=e.fa(t.x,t.z);return t.z+","+i+","+t.y}),u=this.QH.qH(a).yB,f=[],c=0;c<o.length;c++){var l,d,v=o[c],p=new Y.ca(v.z,this.fa(v.x,v.z),v.y),m=new Y.ca(v.z,v.x,v.y),y=Y.zB.ALL,b=this.ua.getTile(p,!0);b?(l=this.ua.MD(b.tag,y))&&(b.tag=y,d=v.key+","+Y.Util.SD(l),u.indexOf(d)<0&&f.push(d)):(d=p.key+","+Y.Util.SD(y),u.indexOf(d)<0&&((p=new Y.pa(p)).status=Y.TileState.LOADING,this.ua.Jo(p),p.tag=y,f.push(d))),!b||b.status!==Y.TileState.LOADED&&b.status!==Y.TileState.RELOADING||this.sa.push(m)}var r=(g=this.OE(f)).overseaTile,a=g.chinaTile,g=g.mapboxTile;return this.PE(r,"oversea"),this.PE(a,"china"),this.PE(g,"mapbox"),this.da(t,this.sa,[],s),this.zD(f,t,h,s,n,"building"),0===f.length},li.prototype.destroy=function(){this.mapStyle&&this.mapStyle.destroy&&(this.mapStyle.destroy(),delete this.mapStyle),this.R_&&this.R_.destroy&&(this.R_.destroy(),delete this.R_)},li.prototype.reload=function(){var i=this;this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request),t.destroy(),i.ua.ea(t)}),this.sa=[],this.la=[]},li);function li(t,i,n,s){return(s=ui.call(this,t,i,n,s)||this).Xa=t.tileSize,s.Be=t.tileUrl,t=Y.Support.$e?50:200,s.ua=new $(t),n.gn.Ha({scale:fi,showLabel:n.showLabel,DD:-1!==location.search.indexOf("forceAll")}),s.R_=n.R_,s.z_=n.z_,n.gn.Ja(AMap.getConfig().protocol),s.mapStyle=n.mapStyle,s.mapStyle.pn(function(){}),s.Ia(),s.sD(),s}var di,F=(di=O,Y.Ei(vi,di),vi.prototype.loadData=function(t,i,n,s,e){var r=e.getSource("nebula");if(!r)return!this.gs||(e=this.gs.VR.showId)&&this.GR([e]),!1;for(var h=r.getData(t).tiles,o=h.length,a=[],u=0;u<o;u++)for(var f=0,c=h[u].data||[];f<c.length;f++){var l=c[f];if(l.indoorInfo)for(var d=l.indoorInfo,v=d.length,p=0;p<v;p++){for(var m=d[p],y=!1,b=0;b<a.length;b++)m===a[b]&&(y=!0);y||a.push(m)}}return this.GR(a),this.Fo(!0),!0},vi.prototype.getData=function(){return this._indoorData},vi.prototype.lo=function(){return!0},vi.prototype.GR=function(t,i){if(!t||t.length<1)return null;if(!this.map.isDOMMode()){for(var s=(n=this.gs).VR,e=(n._map,[]),n=this._config.server+"/v3/indoor/indoormaps?",r=t,h=r.length,o=[],a=[],t=[],u=!1,f=0;f<h;f++){var c=r[f],l=1;this._indoorData.data[c]||(this._indoorData.data[c]={}),s.floorInfo&&s.floorInfo[c]&&(d=s.floorInfo[c])&&(l=d);var d=this._indoorData.data[c];d&&d.data&&d.data[l]||(u=!0,o.push(l),a.push(0),e.push(c))}this.LL=e,t.push("poiid="+e.join(";")),t.push("floor="+o.join(";")),t.push("version="+a.join(";")),t.push("s=rsv3"),t.push("from=indoorH5Map"),t.push("servicetype=unify"),t.push("key="+this._config.key),this._config.jscode?t.push("jscode="+this._config.jscode):this._config.gaodeserver&&(n=this._config.gaodeserver+"/v3/indoor/indoormaps?"),t=n+t.join("&"),u&&this.ZR.url!==t?(this.ZR.url=t,this.YR(t,this.jF)):(this.jF(),i&&i())}},vi.prototype.JR=function(t,i,n){var s=this;if(!t||!i)return!1;this.GR([t],function(){s.gs&&s.gs._map&&s.gs._map.setNeedUpdate(!0),n&&n()})},vi.prototype.YR=function(t,u){var f=this,i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&f.map.gn.JB(i.response,function(t,i){if(t)console.log(t),u();else{for(var n=0,s=Object.keys(i);n<s.length;n++){var e=s[n];f._indoorData.data[e]&&f._indoorData.data[e].data||(f._indoorData.data[e].data={}),f._indoorData.data[e].building=i[e].building;for(var r=i[e].data,h=0,o=Object.keys(r);h<o.length;h++){var a=o[h];f._indoorData.data[e].data[a]=r[a]}}u()}})},i.open("GET",t,!0),i.responseType="arraybuffer",i.send()},vi);function vi(t,i,n,s){var e=di.call(this,t,i,n,s)||this;return e.jF=function(){var t;!e.gs||(t=e.gs.getRender())&&t.render(e._indoorData)},e.gs=s,e._config=AMap.getConfig(),e._indoorData={extData:{},data:{}},e.LL=[],e.ZR={url:null,status:!1},e}var pi,mi=Y.Support.scale;function yi(t,i,n,s){var a=pi.call(this,t,i,n,s)||this;return a.xt=Y.zoomRange,a.sa=[],a.la=[],a.qa=!0,a.Za=!0,a.a_=!1,a.$D=0,a.hD=[AMap.getConfig().protocol+"://vdata.amap.com/style_icon/2.0/icon-normal-big.png",AMap.getConfig().protocol+"://vdata.amap.com/style_icon/2.0/icon-biz-big.png"],a.VH="",a.wH=function(t){a.map.yH&&(parseInt(t.key.split(",")[0],10)<10||a.map.yH.kH(t.key))},a.Xa=t.tileSize,a.Be=t.tileUrl,a.tG=null,t=Y.Support.$e?30:200,a.ua=new $(t),a.NE=new nt(t),window.xZ=a.ua,n.gn.Ha({scale:mi,showLabel:n.showLabel,DD:-1!==location.search.indexOf("forceAll")}),a.R_=n.R_,a.z_=n.z_,n.gn.Ja(AMap.getConfig().protocol),a.mapStyle=n.mapStyle,a.mapStyle.pn(function(t){n&&n.gn&&n.gn.Ka({value:t,TY:"fast"===a.map.bZ.MZ.drawMode})}),a.Ia(),a.sD(),a.ua.on("delete",a.wH),a.KH=new et(function(t,o,i,n){var s=a.AD();return!n||"outsea"!==n&&"a00"!==n||(s=Y.Support.wasm?s.replace("/nebula/v3","/oversea/v3"):s.replace("/nebula/v2","/oversea/v2")),new Y.vH(a.map.gn.RD({url:s,projectionId:i.projectionId,ya:t,ZL:i.zoom,mH:i.mH},function(t,i){if(a.Eo(),a.KH.CB(o),t)return console.log(t),void a.map.emit("TileDecodeError",{type:"nebulasdf",err:t});if(!i)return console.log("no data"),void a.map.emit("TileDecodeError",{type:"nebulasdf",err:"no data"});for(var n=0,s=Object.keys(i);n<s.length;n++){var e,r=s[n].slice(0,-2),h=a.ua.xf(r);h&&(h.status=Y.TileState.LOADED,h.xB=Y.TileState.LOADED,e=Y.wa.ga(h.zo.x,h.zo.y,h.zo.z,"EPSG:3857"),r=Y.lcs.getLocalByCoord([e[0],e[1]]),h.localCoord=r,h.Ro=e)}}))},function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];(s=a.ua.xf(s.slice(0,-2)))&&s.status!==Y.TileState.LOADED&&a.ua.ea(s)}}),Y.Support.$e&&!Y.Support.iPad&&(a.map.on("zoomend",function(){15<=a.map.getZoom()?a.ua.Xo(6):a.ua.Xo(20)}),15<=a.map.getZoom()&&a.ua.Xo(6)),a}var bi={nebula:at,nebulaLabel:(pi=O,Y.Ei(yi,pi),yi.prototype.loadData=function(t,i,n,s){var e=this;if("optimise"===s.loadData()&&s.TL())return!1;this.aa=t,this.sa=[];for(var r=t.bounds,h=this.ra(t.optimalZoom),o=this.ha(r,h),a=[],u=t.optimalZoom,f=Y.map(o,function(t){var i=e.fa(t.x,t.z);return t.z+","+i+","+t.y}),c=this.KH.qH(f),l=[],d=0;d<o.length;d++){var v,p,m=o[d],y=new Y.ca(m.z,this.fa(m.x,m.z),m.y),b=new Y.ca(m.z,m.x,m.y),g=Y.Util.kD(y.key,u),k=this.ua.getTile(y,!0);k?(v=this.ua.MD(k.gB,g))&&(k.gB=g,p=m.key+","+Y.Util.SD(v),c.yB.indexOf(p)<0&&l.push(p)):(p=y.key+","+Y.Util.SD(g),c.yB.indexOf(p)<0&&((y=new Y.pa(y)).status=Y.TileState.LOADING,y.xB=Y.TileState.LOADING,this.ua.Jo(y),y.tag=g,y.gB=g,l.push(p))),!k||k.xB!==Y.TileState.LOADED&&k.xB!==Y.TileState.RELOADING||this.sa.push(b),k&&(k.xB===Y.TileState.LOADED||k.xB===Y.TileState.RELOADING)||a.push(m),k&&k.xB===Y.TileState.LOADED&&k.version&&k.version!==this.VH&&(this.sa.push(b),k.xB=Y.TileState.RELOADING,l.push(m.key+","+Y.Util.SD(k.gB)),(v=this.ua.MD(k.gB,g))&&(p=m.key+","+Y.Util.SD(v),c.yB.indexOf(p)<0&&l.push(p)))}this.da(t,this.sa,a,s);var M,w,x=this.map.getOutseaState(),r=this.map.getOutseaDataType();return x&&!r?9.8<=h?(f=(M=this.OE(l)).overseaTile,w=M.chinaTile,h=M.mapboxTile,this.PE(f,"oversea"),this.PE(w,"china"),this.PE(h,"mapbox"),s.showLabel&&this.bB(M.chinaTile,t),s.showLabel&&this.bB(M.overseaTile,t,"outsea")):(this.PE(l,"china"),s.showLabel&&this.bB(l,t,"a00")):x&&r&&"mapbox"===r?9.8<=u?(w=(M=this.OE(l)).chinaTile,this.PE(w,"china"),s.showLabel&&this.bB(l,t)):(this.PE(l,"china"),s.showLabel&&this.bB(l,t,"a00")):(this.PE(l,"china"),s.showLabel&&this.bB(l,t)),0===l.length},yi.prototype.getData=function(i){var n=this,t=i.bounds,s=this.ra(i.optimalZoom),e=this.ha(t,s),r=[],h={};14===s&&(h=this.ha(t,15,!0));var o=this.map.qF();if(this.ua.QF(o),this.sa.sort(function(t){return n.ra(i.optimalZoom)===t.z?1:-1}),0<this.sa.length)for(var a=0;a<this.sa.length;a++){var u,f,c,l,p,m,d=this.sa[a],v=this.ua.getTile(d,!0),y=[0,0],b=i.centerCoord;v?(v.localCoord||(f=Y.wa.ga(v.zo.x,v.zo.y,v.zo.z,"EPSG:3857"),u=Y.lcs.getLocalByCoord([f[0],f[1]]),v.localCoord=u,v.Ro=f),f=Y.lcs.getLocalByCoord([b[0],b[1]]),i.optimalZoom>=Y.Ra?(c=Y.lcs.getSize(),p=v.localCoord.x-f.x,m=v.localCoord.y-f.y,0!=p&&(p*=c[0],y[0]=p),0!=m&&(m*=c[1],y[1]=m),i.optimalZoom>=Y.Ra&&Y.za>=v.zo.z&&(y[0]=-f.center[0],y[1]=-f.center[1])):i.optimalZoom<Y.Ra&&Y.za<v.zo.z&&(y[0]=f.center[0],y[1]=f.center[1])):(f=new Y.ca(d.z,this.fa(d.x,d.z),d.y),(f=this.ua.getTile(f,!0))&&(v=new Y.pa(d),c=1<<d.z,(d.x<0||d.x>=c)&&(l=Math.floor(d.x/c),y[0]+=20037508.342789244*l*2),l=f.gB,v.Ro=f.Ro,v.ID(f),v.Sa=y,v.status=f.status,v.tag=l,v.gB=l)),v&&(v.stamp=o,v.Sa=y,r.push(v))}var g=i.optimalZoom,k=Y.every(e,function(s){return Y.some(r,function(t){var i=t.zo.key,n=t.zo.z,n=Y.Util.VF(n,g),t=t.gB,n=Y.Util.LD(t,n);return i===s.key&&n})}),M=this.map.getOutseaState(),t=this.map.getOutseaDataType();M&&!t&&(k=!(w=Y.filter(e,function(t){return!(t=n.NE.getTile(t))||!t.boundsStatus||!1!==t.boundsStatus.isInNebulaOversea})).length||Y.every(w,function(s){return Y.some(r,function(t){var i=t.zo.key,n=t.zo.z,n=Y.Util.VF(n,g),t=t.gB,n=Y.Util.LD(t,n);return i===s.key&&n})})),r&&0<=r.length&&this.Fo(!0);var w=this.jE(r);return k&&(this.a_=!0,this.map.bZ.dynamic.set("firstAllLoaded",!0)),w&&this.map.bZ.dynamic.set("firstLabelDataAllLoaded",!0),k&&w&&this.Fo(!0),h={s_:this.a_,fo:!!k&&w,yZ:w,tiles:r,Ca:h,outseaData:void 0},M&&r.length&&(M=this.map.bZ.MZ.wZ.gZ(),h.outseaData=M),h.tiles=this.UE(r,s),h},yi.prototype.pe=function(t){return t=new Y.ca(t[0],t[1],t[2]),this.ua.getTile(t)},yi.prototype.ZE=function(t){return!1},yi.prototype.OE=function(t){for(var i=t.length,n=[],s=[],e=[],r=0;r<i;r++){var h=void 0,o=void 0,a=t[r],u=a.split(","),f=new Y.ca(u[0],u[1],u[2]),c=this.NE.getTile(f);if(c&&c.boundsStatus)h=c.boundsStatus.isInChina,o=c.boundsStatus.isInNebulaOversea;else{if(!(u=Y.wa.ga(parseInt(u[1],10),parseInt(u[2],10),parseInt(u[0],10),"EPSG:3857")))continue;u=[[u[0],u[1]],[u[2],u[1]],[u[2],u[3]],[u[0],u[3]]],h=this.VE(u,"china",a),o=this.VE(u,"oversea",a),(f=new Y.pa(f)).boundsStatus={isInChina:h,isInNebulaOversea:o},this.NE.Jo(f)}h&&n.push(a),o&&s.push(a),h||o||e.push(a)}return{chinaTile:n,overseaTile:s,mapboxTile:e}},yi.prototype.ra=function(t){return("fast"!==this.map.bZ.MZ.drawMode||this.map.bZ.dynamic.get("firstPaint")?{2:3,3:3,4:3,5:3,6:6,7:6,8:8,9:8,10:10,11:10,12:10,13:12,14:12,15:15,16:15,17:15,18:15,19:15,20:15,21:15,22:15,23:15,24:15,25:15,26:15,27:15,28:15,29:15,30:15}:{2:3,3:3,4:3,5:3,6:6,7:6,8:8,9:8,10:8,11:8,12:8,13:12,14:12,15:15,16:15,17:15,18:15,19:15,20:15,21:15,22:15,23:15,24:15,25:15,26:15,27:15,28:15,29:15,30:15})[t]},yi.prototype.YE=function(t){var i=this;return t(null,{GW:"worker",cb:function(t){i.dynamicTextVerticeLoadedByTile(t)}}),!0},yi.prototype.destroy=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request),t.destroy()}),this.ua.destroy(),this.sa=[],this.la=[],this.mapStyle&&this.mapStyle.destroy&&(this.mapStyle.destroy(),delete this.mapStyle),this.R_&&this.R_.destroy&&(this.R_.destroy(),delete this.R_)},yi.prototype.reload=function(){this.ua.forEach(function(t){t.status!==Y.TileState.LOADED&&t.request&&(t.request.cancel(),delete t.request),t.reload()}),this.sa=[],this.la=[]},yi.prototype.Aa=function(t){var i;!t.zo||(i=this.ua.getTile(t.zo))&&(i.rO({Ta:!0},t.tag),i.xa({Ta:!0},t.tag),i.JE({Ta:!0},t.tag))},yi.prototype.setTileCacheSize=function(t){t=t||(Y.Support.$e?30:100),this.ua.Xo(t)},yi.prototype.UH=function(t){this.VH=t},yi.prototype.dynamicTextVerticeLoaded=function(t){var i=t.data,n=t.XE;if(i instanceof Y.ca){var s=this.ua.getTile(i);return s?(s.data||s.xa({},t.tag),void s.rO({},t.tag)):void 0}if(s=i[Object.keys(i)[0]],s=this.ua.getTile(s.zo,!0)){s.data||s.xa({},t.tag);var e,r,h={};for(e in i)i.hasOwnProperty(e)&&(r=i[e],h[e]=new Y.La(r.zo,r));s.rO({Ta:!0,labels:h,XE:n},t.tag),s.xa({Ta:!0},t.tag),s.JE({Ta:!0},t.tag),s.xB=Y.TileState.LOADED,this.map.Mv.t0(s.zo),this.Eo()}},yi.prototype.dynamicTextVerticeLoadedByTile=function(t){for(var i=0,n=t.data;i<n.length;i++){var s=n[i];this.dynamicTextVerticeLoaded({data:s.data,tag:s.tag,XE:s.XE})}},yi.prototype.Ia=function(){this.map.on("tileSdfInfoFinished",this.Aa.bind(this))},yi.prototype.bB=function(t,i,n){i={zoom:i.zoom,projectionId:i.projectionId,mH:Y.Support.mH},this.KH._B(t,i,n)},yi.prototype.cP=function(){for(var t,i=this.map.getLayers(),n=0;n<i.length;n++)if("AMap.Buildings"===(s=i[n]).CLASS_NAME&&!s.getState().u$){t=s;break}if(!t)for(var s,n=0;n<i.length;n++)if("AMap.Buildings"===(s=i[n]).CLASS_NAME){t=s;break}return t},yi.prototype.ma=function(t,i){var n=new RegExp(/\{(\w|\,)+\}/g);if(n.test(this.Be)){var s=this.Be.match(n)[0].replace(/[\{|\}]/g,"").split(",");return this.Be.replace(n,s[(t+i)%4])}return this.Be},yi.prototype.AD=function(){var t=new RegExp(/\{(\w|\,)+\}/g),n=(i=this.Be.match(t)[0].replace(/[\{|\}]/g,"").split(",")).length,i=this.Be.replace(t,i[this.$D%n]);return this.$D=(this.$D+1)%n,i},yi.prototype.ha=function(t,i,n){void 0===n&&(n=!1);var s=[t[0],t[3]],e=[t[2],t[1]],t=this.Ga(s,i),s=this.Ga(e,i),e=t[0],r=t[1],h=s[0],o=s[1];if(n)return{ja:e,Fa:r,Oa:h,Ea:o,z:i};this.Pa={ja:e,Fa:r,Oa:h,Ea:o,z:i};for(var a=[],u=e;u<=h;u+=1)for(var f=r;f<=o;f+=1)a.push(new Y.ca(i,u,f));return this.Da(a),a},yi.prototype.da=function(t,i,n,s){var e=[3,6,8,10,12,15],r=this.ra(t.optimalZoom);if(this.Za)for(var h=Math.min(14,r+3),o=r+1;n.length&&o<=h;o+=1)if(-1!==e.indexOf(o)){for(var a=o-r,u=[],f=[],c=n.length-1;0<=c;--c)for(var l=n[c].x<<a,d=n[c].y<<a,v=1<<a;0<=v;--v)for(var p=1<<a;0<=p;--p){var m=new Y.ca(o,this.fa(l+v,o),d+p),y=new Y.ca(o,l+v,d+p);((k=this.ua.getTile(m,!0))&&k.status===Y.TileState.LOADED?f:u).push(y)}f.length&&i.push.apply(i,f),n=u}if(this.qa)for(var b=this.xt[0],o=r-1;n.length&&b<=o;--o)if(-1!==e.indexOf(o)){for(var f=[],u=[],g={},c=n.length-1;0<=c;--c){var k,M=n[c],a=o,w=M.z-a,v=M.x>>w,p=M.y>>w;g[M=(m=new Y.ca(a,v,p)).key]||(w=new Y.ca(a,this.fa(v,a),p),y=new Y.ca(a,v,p),k=this.ua.getTile(w,!0),g[M]=!0,(k&&k.status===Y.TileState.LOADED?f:u).push(y))}f.length&&i.push.apply(i,f),n=u}return i},yi.prototype.Da=function(t){var e,r,h;t.length&&(e=this.Pa.z,r=(this.Pa.ja+this.Pa.Oa)/2,h=(this.Pa.Fa+this.Pa.Ea)/2,t.sort(function(t,i){var n=(t.x<<e-t.z)-r,s=(t.y<<e-t.z)-h;return n*n+s*s<=(t=(i.x<<e-i.z)-r)*t+(i=(i.y<<e-i.z)-h)*i?-1:1}))},yi.prototype.Ga=function(t,i){var n=Math.pow(2,i),i=180/n;return[Math.floor(t[0]/(360/n))+n/2,n/2-Math.ceil(t[1]/i)]},yi.prototype.fa=function(t,i){for(var n=1<<(i=i||this.aa.optimalZoom);t<0||n<=t;)t=n<=t?t-n:t<0?n+t:t;return t},yi.prototype.sD=function(){var e,r,h=this;this.map.bZ.dynamic.get("_preloadNebulaIcons")||(this.map.bZ.dynamic.set("_preloadNebulaIcons",!0),e=this.hD,(r=this.z_).loadImages(e,{type:"icon",imageBitmap:Y.Support.imageBitmap,cb:function(){for(var t=[],i=0;i<e.length;i++){var n=e[i],s=r.getImage(n);t.push({img:s.img,name:n,hv:i,width:s.width,height:s.height})}h.map.so.sv(t)}}))},yi.prototype.PE=function(t,i){for(var n=0,s=t;n<s.length;n++){var e=s[n].split(",").slice(0,3).join(",");(e=this.ua.xf(e))&&(e.region=i)}},yi.prototype.UE=function(t,i){void 0===t&&(t=[]);var n=[];if(10<=i){for(var s=0,e=t;s<e.length;s++){var r=e[s];"china"!==r.region&&"oversea"!==r.region||n.push(r)}return n}return t},yi.prototype.jE=function(t){for(var i=!!t.length,n=0,s=t;n<s.length;n++){var e=s[n].data;if(i)for(var r=0,h=e;r<h.length;r++){var o=h[r];if(!(i=i&&!!o.Ta))break}}return i},yi),building:ci,sky:_t,mask:Zt,inner:oi,image:pt,custom:At,gl_custom:Fo,raster:Mt,overlay:St,labelsLayer:bt,vectorTile:It,districtVectorTile:Et,mapboxVectorTile:jt,indoor:F,mapbox:Jt,vectortraffic:ni},gi=(ki.addSource=function(t,i){bi[t]||(bi[t]=i)},ki.prototype.addSource=function(t,i,n){return("nebula"===t.id||"indoor"===t.id)&&this.Yh[t.id]||(this.Yh[t.id]||(this.Yh[t.id]=new bi[t.type](t,i,this.map,n),n.source=this.Yh[t.id])),this.Yh[t.id]},ki.prototype.getSource=function(t){return this.Yh[t]},ki.prototype.Xh=function(t){delete this.Yh[t]},ki.prototype.getData=function(t,i,n){return this.Yh[t].getData(i,n)},ki.prototype.loadData=function(t,i,n){for(var s=0,e=i.getLayers()||[];s<e.length;s++){var h=(r=e[s]).getOptions(),r=r.getSource();Y.Util.dS(i.getZoom(),h.zooms)&&r&&h.visible&&0<h.opacity&&r.loadData(t,n,function(){i.setNeedUpdate(!0)},i,this)}},ki.prototype.destroy=function(){for(var t in this.Yh)this.Yh[t]&&this.Yh[t].destroy();this.Yh={}},ki.prototype.UH=function(t){for(var i in this.Yh)this.Yh[i]&&this.Yh[i].UH&&this.Yh[i].UH(t)},ki.prototype.i0=function(t,i){if(this.Yh[t])return this.Yh[t].ua.getTile(i,!1)},ki.prototype.t0=function(t){var i=this.i0(Y.n0.nebulaLabel,t);(t=15===t.z?this.i0(Y.n0.nebula,t.s0(14)):this.i0(Y.n0.nebula,t))&&i&&i.KE(t.data)},Y.dZ([Y.pZ("SourceManager")],ki));function ki(t){this.map=t,this.Yh={}}var Mi,Mt=(Mi=Y.Event,Y.Ei(wi,Mi),wi.prototype.onAdd=function(){},wi.prototype.v$=function(){},wi.prototype.Hh=function(t){this.uo=t},wi.prototype.Do=function(t){return this.Jh=t,this.Jh},wi.prototype.setMap=function(t){var i,n=this;null===t&&this.map?this.map.removeLayer(this):(this.map=t)&&(i=t.getLayers(),Y.find(i,function(t){return t.getLayerConfig().id===n.getLayerConfig().id})||t.addLayer(this))},wi.prototype.Kh=function(t){var i=this;(this.source=t)&&this.source.on("complete",function(){i.emit("complete")})},wi.prototype.setzIndex=function(t){this.Qh=t,this.map&&this.map.setNeedUpdate(!0)},wi.prototype.setOpacity=function(t){this.tl=t,this.map&&this.map.setNeedUpdate(!0)},wi.prototype.getOpacity=function(){return this.tl},wi.prototype.getSource=function(){if(this.uo)return this.uo.getSource(this.co())},wi.prototype.getzIndex=function(){return this.getLayerConfig().zIndex},wi.prototype.getMap=function(){return this.map},wi.prototype.getRender=function(){return this.Jh},wi.prototype.getLayerConfig=function(){return{id:this._id,zooms:this.xt,zIndex:this.Qh,opacity:this.tl,visible:this.il,createTile:void 0,rejectMapMask:this._rejectMapMask}},wi.prototype.getOptions=function(){var t=this.getLayerConfig(),i=this._opts||{};return Y.assign({},i,t)},wi.prototype.getZooms=function(){return this.xt},wi.prototype.setZooms=function(t){this.xt=t,this.map&&this.map.setNeedUpdate(!0)},wi.prototype.getVisible=function(){return this.il},wi.prototype.beforeRender=function(){},wi.prototype.afterRender=function(){},wi.prototype.get=function(t){return this.getOptions()[t]},wi.prototype.vi=function(t){return null},wi.prototype.lo=function(){if(this.source)return this.source.lo()},wi.prototype.T$=function(){return this._id},wi.prototype.show=function(){this.il=!0,this.map&&this.map.setNeedUpdate(!0)},wi.prototype.hide=function(){this.il=!1,this.map&&this.map.setNeedUpdate(!0)},wi.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},wi.prototype.onCreated=function(){this.map&&this.map.addLayer(this)},Y.dZ([Y.pZ("Layer")],wi));function wi(t){void 0===t&&(t={});var i=Mi.call(this)||this;return i.el="AMap.Layer",i.CLASS_NAME="AMap.Layer",i.hS=Y.Util.stamp(i),i.il=!0,i.tl=1,i.xt=Y.zoomRange,i._id="layer",i.nl=!0,i._id="layer_"+Y.Util.uuid(),i.xt=t.zooms||Y.zoomRange,i.tl=void 0===t.opacity?1:t.opacity,i.Qh=t.zIndex||1,i._rejectMapMask=void 0!==t.rejectMapMask&&t.rejectMapMask,i.il=void 0===t.visible||t.visible,i.AF=void 0!==t.depthTest&&Boolean(t.depthTest),i.IF=void 0!==t.ce&&Boolean(t.ce),i.wl=t.cacheSize,i.map=t&&t.map||null,i._opts=t,i}var xi,Ai=(xi=Mt,Y.Ei(zi,xi),zi.prototype.getState=function(){return{ol:!0,al:!0,visible:this.il,opacity:this.tl,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF,cacheSize:this.wl}},zi.prototype.getLayerConfig=function(){var t=xi.prototype.getLayerConfig.call(this);return t.mapNumber="GS(2021)6375",t},zi.prototype.getSourceConfig=function(){return{id:"nebula",type:"nebula",tileUrl:AMap.getConfig().protocol+(Y.Support.wasm?"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v3":"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2"),tileSize:0,zooms:Y.zoomRange}},zi.prototype.co=function(){return"nebula"},zi.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},zi.prototype.show=function(){xi.prototype.show.call(this);var t=this.iP();t&&t.show(),(t=this.map&&this.map.getLayerByClass("AMap.Inner.LabelsLayer"))&&t.oP()&&t.show()},zi.prototype.hide=function(){xi.prototype.hide.call(this);var t=this.iP();t&&t.hide(),this.rP()},zi.prototype.v$=function(){xi.prototype.v$.call(this);var t=this.iP();t&&this.map.removeLayer(t),this.rP()},zi.prototype.Hh=function(t){this.uo=t,this.uo.getSource(this.co()).setTileCacheSize(this.wl)},zi.prototype.rP=function(){var t=this.map&&this.map.getLayerByClass("AMap.Inner.LabelsLayer");t&&t.aP()&&t.hide()},zi.prototype.iP=function(){var t;if(this.map)for(var i=null===(t=this.map)||void 0===t?void 0:t.getLayers(),n=0;n<i.length;n++){var s=i[n];if("AMap.Buildings"===s.CLASS_NAME&&s.getState().u$)return s}},zi);function zi(){var t=null!==xi&&xi.apply(this,arguments)||this;return t.CLASS_NAME="AMap.NebulaLayer",t}var Ci,Si="inner.labelsLayer",Ti="inner",Ii=(Ci=Mt,Y.Ei(Di,Ci),Di.prototype.getState=function(){return Y.assign({},{layer:this,rejectMapMask:this._rejectMapMask},Ci.prototype.getLayerConfig.call(this))},Di.prototype.getSourceConfig=function(){return{id:Ti,type:Ti,tileUrl:AMap.getConfig().protocol+(Y.Support.wasm?"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v3":"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2"),tileSize:0,zooms:Y.zoomRange}},Di.prototype.co=function(){return Ti},Di.prototype.sl=function(){this.source.reload(),this.Jh&&this.Jh.reset()},Di.prototype.vi=function(t,i){return void 0===i&&(i=!1),this.fz?this.fz.vi(t,this.hS,i):null},Di.prototype.Do=function(t){return t=Ci.prototype.Do.call(this,t),this.map&&this.uz(this.map),t},Di.prototype.aP=function(){if(t=this.map){var i=t&&t.getLayerByClass("AMap.TileLayer.RoadNet"),t=t&&t.getLayerByClass("AMap.NebulaLayer"),i=i&&i.getVisible(),t=t&&t.getVisible();return!i&&!t}return!1},Di.prototype.oP=function(){var t=this.map;if(t){var i=t&&t.getLayerByClass("AMap.TileLayer.RoadNet"),n=t&&t.getLayerByClass("AMap.NebulaLayer"),i=i&&i.getVisible(),n=n&&n.getVisible();return t.showLabel&&(i||n)}return!1},Di.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh),this.source&&this.source.destroy&&(this.source.destroy(),delete this.source)},Di.prototype.uz=function(t){(this.fz=t.fS()).add(this)},Di);function Di(t){var i=Ci.call(this,t=void 0===t?{}:t)||this;return i.CLASS_NAME="AMap.Inner.LabelsLayer",i._opts={id:Si,type:Si,opacity:1,visible:1,collision:!0,allowCollision:!1},i._opts=Y.assign({},i._opts,t),i.Qh=t.labelzIndex||100,i.il=!1!==t.showLabel,i.tl=void 0===t.opacity?1:t.opacity,i}var Oi,St=(Oi=Mt,Y.Ei(Ei,Oi),Ei.prototype.getState=function(){return{ol:!0,al:!0,visible:this.il,opacity:this.tl,layer:this,zooms:this.xt,zIndex:this.Qh,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF,HY:this.rX()}},Ei.prototype.getLayerConfig=function(){var t=Oi.prototype.getLayerConfig.call(this);return t.mapNumber="",t},Ei.prototype.getSourceConfig=function(){return{id:"vectortraffic",type:"vectortraffic",tileUrl:"",tileSize:256,zooms:this.xt}},Ei.prototype.co=function(){return"vectortraffic"},Ei.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},Ei.prototype.onAdd=function(){var t=this;this.map.on("styleChanged",this.reload,this),this.dl&&(this.iT=setInterval(function(){t.reload()},1e3*this.vl))},Ei.prototype.v$=function(){this.map.off("styleChanged",this.reload,this),clearInterval(this.iT),delete this.iT},Ei.prototype.reload=function(){var t=this.getSource();t&&this.map&&(t.reload(),this.map.setNeedUpdate(!0))},Ei.prototype.rX=function(){var t,i=["fff93a43","fffcac19","ff20a962","ff83171c","ffadadad"];!this.map||(t=this.map.mapStyle.vn.MS("traffic"))&&t.multiFillColors&&((t=t.multiFillColors).congested&&(i[0]=t.congested),t.slow&&(i[1]=t.slow),t.smooth&&(i[2]=t.smooth),t.seriousCongested&&(i[3]=t.seriousCongested),t.unknown&&(i[4]=t.unknown));for(var n=0,s=i.length;n<s;n++)i[n]=Y.Util.qg(i[n]);return i},Ei);function Ei(){var t=null!==Oi&&Oi.apply(this,arguments)||this;return t.vl=60,t.dl=!0,t}var Ri,Pi={opacity:1,visible:!0,zIndex:4,zooms:[7,Y.zoomRange[1]],dataZooms:[7,17],interval:60,ml:!0,depthTest:!1,rZ:1},bt=(Ri=St,Y.Ei(ji,Ri),ji);function ji(t){var i=this;return(t=void 0===t?Pi:t).id=Y.Util.uuid(),t.opacity=(void 0===t.opacity?Pi:t).opacity,t.visible=(void 0===t.visible?Pi:t).visible,t.zIndex=(void 0===t.zIndex?Pi:t).zIndex,t.zooms=(void 0===t.zooms?Pi:t).zooms,t.interval=(void 0===t.interval?Pi:t).interval,t.ml=(void 0===t.ml?Pi:t).ml,t.depthTest=(void 0===t.depthTest?Pi:t).depthTest,t.rZ=(void 0===t.rZ?Pi:t).rZ,(i=Ri.call(this,t)||this).vl=Math.max(30,t.interval||i.vl),i.dl=void 0!==t.ml&&i.dl,i.CLASS_NAME="AMap.TileLayer.Traffic",i.onCreated(),i}var Bi,It=(Bi=Mt,Y.Ei(Fi,Bi),Fi.prototype.getSourceConfig=function(){return{id:this._id||"tile",tileUrl:this.Be||"",type:"raster",tileSize:this.Xa||256,zooms:this.xt,dataZooms:this.Qs||[7,17],projection:this.hl||"EPS3857"}},Fi.prototype.co=function(){return this._id},Fi.prototype.getState=function(){return{visible:this.il,opacity:this.tl,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF,detectRetina:this.yl}},Fi.prototype.Hh=function(t){this.uo=t,this.uo.getSource(this.co()).setTileCacheSize(this.wl)},Fi);function Fi(t){var i=Bi.call(this,t)||this;return i.CLASS_NAME="AMap.RasterLayer",i.Be=t.tileUrl,i.xt=t.zooms||Y.zoomRange,i.Qs=t.dataZooms,i.tl=void 0===t.opacity?1:t.opacity,i.Qh=t.zIndex||1,i.il=void 0===t.visible||t.visible,i.Xa=t.tileSize||256,i.hl=t.projection,i.AF=void 0!==t.depthTest&&Boolean(t.depthTest),i.yl=void 0===t.detectRetina||Boolean(t.detectRetina),i.wl=t.cacheSize,i}var Wi,Gi={id:"tile_"+Y.Util.uuid(),tileUrl:void 0,zooms:Y.zoomRange,dataZooms:[2,18],opacity:1,tileSize:256,visible:!0,projection:"EPSG:3857",zIndex:2},Ni={id:"satellite"+Y.Util.uuid(),tileUrl:"http://webst0{1,2,3,4}.is.autonavi.com/appmaptile?style=6&x=[x]&y=[y]&z=[z]",zooms:Y.zoomRange,dataZooms:[3,18],opacity:1,tileSize:256,visible:!0,projection:"EPSG:3857",zIndex:2},_i={id:"traffic"+Y.Util.uuid(),tileUrl:"http://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0&t=1&zoom=[z]&x=[x]&y=[y]",zooms:[7,Y.zoomRange[1]],dataZooms:[7,17],opacity:1,tileSize:256,visible:!0,projection:"EPSG:3857",zIndex:4,getTileUrl:function(t,i,n){return AMap.getConfig().protocol+"://tm.amap.com/trafficengine/mapabc/traffictile?v=1.0\n&t=1&zoom="+(17-n)+"&x="+t+"&y="+i}},Ui={id:"roadnet"+Y.Util.uuid(),tileUrl:"http://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?x=[x]&y=[y]&z=[z]&lang=zh_cn&size=1&scl=1&style=8&ltype=11",zooms:Y.zoomRange,dataZooms:[3,18],opacity:1,tileSize:256,visible:!0,projection:"EPSG:3857",zIndex:3},Yi={id:"flexible"+Y.Util.uuid(),zooms:Y.zoomRange,dataZooms:Y.zoomRange,opacity:1,tileSize:256,visible:!0,projection:"EPSG:3857",zIndex:3},Zi={id:"wms"+Y.Util.uuid(),url:"",zooms:Y.zoomRange,dataZooms:Y.zoomRange,opacity:1,tileSize:512,visible:!0,projection:"EPSG:3857",zIndex:3},Xi=(Wi=It,Y.Ei(Hi,Wi),Hi.prototype.setTileUrl=function(t){t=0===(t=t.replace(/^\/\//,"").replace("http://","")).indexOf("http")?t:AMap.getConfig().protocol+"://"+t,this.Be=t,this.reload()},Hi.prototype.getTileUrl=function(){return this.Be},Hi.prototype.getLayerConfig=function(){var t="";return this.Be!==AMap.getConfig().qT&&this.Be!==AMap.getConfig().YT||(t="GS(2021)6375"),{id:this._id,tileUrl:this.Be,zooms:this.xt,zIndex:this.Qh,opacity:this.tl,visible:this.il,getTileUrl:this.ll,mapNumber:t}},Hi.prototype.reload=function(){var t=this.getSource();t&&(t.setTileUrl(this.Be),t.reload(),t.Fo(!1),this.map&&this.map.setNeedUpdate(!0))},Y.dZ([Y.pZ("TileLayer")],Hi));function Hi(t){var i=this,n={};return(t=void 0===t?Gi:t).getTileUrl&&"string"==typeof t.getTileUrl&&(t.tileUrl=t.getTileUrl,delete t.getTileUrl),n.tileUrl=void 0===t.tileUrl?AMap.getConfig().y_:t.tileUrl,n.tileUrl&&(n.tileUrl=n.tileUrl.replace(/^\/\//,"").replace("http://","")),n.tileUrl=n.tileUrl&&0===n.tileUrl.indexOf("http")?n.tileUrl:AMap.getConfig().protocol+"://"+n.tileUrl,n.id=t.id||"tile_"+Y.Util.uuid(),n.tileSize=t.tileSize||Gi.tileSize,"d"===Y.Support.baseRender&&Y.Support.$e&&(Gi.dataZooms=[2,20]),n.dataZooms=t.dataZooms||Gi.dataZooms,n.zooms=t.zooms||Gi.zooms,n.projection=t.projection||Gi.projection,n.opacity=(void 0===t.opacity?Gi:t).opacity,n.visible=(void 0===t.visible?Gi:t).visible,n.zIndex=(void 0===t.zIndex?Gi:t).zIndex,n.rejectMapMask=t.rejectMapMask,n.depthTest=void 0!==t.depthTest&&Boolean(t.depthTest),n.map=t.map,n.detectRetina=void 0!==t.detectRetina&&t.detectRetina,n.cacheSize=t.cacheSize,(i=Wi.call(this,n)||this).type=t.type||"base",i.ll=t.getTileUrl,i.CLASS_NAME="AMap.TileLayer",i.onCreated(),i}var Ji,Et=(Ji=Xi,Y.Ei(Vi,Ji),Vi.prototype.getLayerConfig=function(){var t=Ji.prototype.getLayerConfig.call(this);return t.mapNumber="GS(2021)4122",t.OY=!0,t},Vi);function Vi(t){var i=this;return(t=void 0===t?Ni:t).id="satellite_"+Y.Util.uuid(),t.tileUrl=Ni.tileUrl,t.zooms=(void 0===t.zooms?Ni:t).zooms,t.opacity=(void 0===t.opacity?Ni:t).opacity,t.visible=(void 0===t.visible?Ni:t).visible,t.zIndex=(void 0===t.zIndex?Ni:t).zIndex,(i=Ji.call(this,t)||this).CLASS_NAME="AMap.TileLayer.Satellite",i.type=t.type||"base",i.onCreated(),i}var qi,jt=(qi=Xi,Y.Ei(Qi,qi),Qi.prototype.ul=function(){clearInterval(this.cl)},Qi.prototype.pl=function(){var t=this;this.dl&&0<this.vl&&(this.cl=setInterval(function(){t.reload()},1e3*this.vl))},Qi);function Qi(t){var i=this;return(t=void 0===t?_i:t).id="traffic_"+Y.Util.uuid(),t.tileUrl=_i.tileUrl,t.zooms=(void 0===t.zooms?_i:t).zooms,t.opacity=(void 0===t.opacity?_i:t).opacity,t.visible=(void 0===t.visible?_i:t).visible,t.zIndex=(void 0===t.zIndex?_i:t).zIndex,t.getTileUrl=t.getTileUrl||_i.getTileUrl,(i=qi.call(this,t)||this).vl=Math.max(30,t.interval||60),i.dl=void 0===t.ml||t.ml,i.CLASS_NAME="AMap.TileLayer.Traffic",i.type=t.type||"overlay",i.onCreated(),i.pl(),i}var Ki,F=(Ki=Xi,Y.Ei($i,Ki),$i.prototype.show=function(){Ki.prototype.show.call(this);var t=this.map&&this.map.getLayerByClass("AMap.Inner.LabelsLayer");t&&t.oP()&&t.show()},$i.prototype.hide=function(){Ki.prototype.hide.call(this);var t=this.map&&this.map.getLayerByClass("AMap.Inner.LabelsLayer");t&&t.aP()&&t.hide()},$i.prototype.v$=function(){Ki.prototype.v$.call(this);var t=this.map&&this.map.getLayerByClass("AMap.Inner.LabelsLayer");t&&t.aP()&&t.hide()},$i);function $i(t){var i,n=this;return(t=void 0===t?Ui:t).id="roadNet_"+Y.Util.uuid(),t.tileUrl=Ui.tileUrl,"d"===Y.Support.baseRender&&(t.tileUrl=null===(i=t.tileUrl)||void 0===i?void 0:i.replace("&ltype=11","")),t.zooms=(void 0===t.zooms?Ui:t).zooms,t.opacity=(void 0===t.opacity?Ui:t).opacity,t.visible=(void 0===t.visible?Ui:t).visible,t.zIndex=(void 0===t.zIndex?Ui:t).zIndex,(n=Ki.call(this,t)||this).CLASS_NAME="AMap.TileLayer.RoadNet",n.type=t.type||"overlay",n.onCreated(),n}var tn,Jt=(tn=Xi,Y.Ei(nn,tn),nn.prototype.getLayerConfig=function(){return{id:this._id,zooms:this.xt,zIndex:this.Qh,opacity:this.tl,visible:this.il,createTile:this.bl,cacheSize:this.wl,getTileUrl:this.ll,rejectMapMask:this._rejectMapMask}},nn.prototype.Hh=function(t){this.uo=t,this.uo.getSource(this.co()).setTileCacheSize(this.wl)},nn);function nn(t){var i=this;return(t=void 0===t?Yi:t).id=Yi.id,t.id="flexible_"+Y.Util.uuid(),t.zooms=(void 0===t.zooms?Yi:t).zooms,t.opacity=(void 0===t.opacity?Yi:t).opacity,t.visible=(void 0===t.visible?Yi:t).visible,t.zIndex=(void 0===t.zIndex?Yi:t).zIndex,(i=tn.call(this,t)||this).bl=t.createTile,i.CLASS_NAME="AMap.TileLayer.Flexible",i.type=t.type||"base",i.onCreated(),i}var sn,ni=(sn=Xi,Y.Ei(en,sn),en.prototype._l=function(){this.kl.TileMatrixSet=this.kl.TileMatrixSet||"EPSG:3857",this.kl.Request="GetTile",this.kl.Service="WMTS",this.kl.Format=this.kl.Format||"image/png",this.Be=this.Ml+"?"+Y.Util.join(this.kl,"&"),this.map&&this.map.setNeedUpdate(!0)},en.prototype.Rl=function(t){this.kl=Y.assign({},t),this._l()},en.prototype.zl=function(){return this.kl},en.prototype.Sl=function(){return this.Ml},en.prototype.Cl=function(t){this.Ml=t,this._l()},en.prototype.getLayerConfig=function(){return{id:this._id,zooms:this.xt,zIndex:this.Qh,opacity:this.tl,visible:this.il,Ll:this.kl,createTile:this.bl,getTileUrl:this.ll}},en);function en(t){var o=this;return(t=void 0===t?Yi:t).id="wmts_"+Y.Util.uuid(),t.cacheSize=Yi.cacheSize,t.zooms=(void 0===t.zooms?Yi:t).zooms,t.opacity=(void 0===t.opacity?Yi:t).opacity,t.visible=(void 0===t.visible?Yi:t).visible,t.zIndex=(void 0===t.zIndex?Yi:t).zIndex,(o=sn.call(this,t)||this).kl=t.params||{},o.CLASS_NAME="AMap.TileLayer.WMTS",o.type=t.type||"base",o.Be=t.url,o.Ml=t.url,o.bl=function(t,i,n,s,e){var r,h=document.createElement("img");"w"===(null===(r=o.map)||void 0===r?void 0:r.baseRender)&&(h.crossOrigin="anonymous"),h.onload=function(){s(h)},h.onerror=function(){e(h)},h.src=o.Be+"&TileMatrix="+n+"&TileRow="+i+"&TileCol="+t},o._l(),o.onCreated(),o}var rn,St=(rn=Xi,Y.Ei(hn,rn),hn.prototype._l=function(){this.kl.WIDTH=this.Xa,this.kl.HEIGHT=this.Xa,this.kl.CRS=this.kl.CRS||"EPSG:3857",this.kl.REQUEST="GetMap",this.kl.SERVICE="WMS",this.kl.FORMAT=this.kl.FORMAT||"image/png",this.kl.TRANSPARENT=void 0===this.kl.TRANSPARENT?"true":this.kl.TRANSPARENT,delete this.kl.BBOX,this.Be=this.Ml+"?"+Y.Util.join(this.kl,"&")},hn.prototype.Rl=function(t){this.kl=Y.assign({},t),this._l()},hn.prototype.zl=function(){return this.kl},hn.prototype.Sl=function(){return this.Ml},hn.prototype.Cl=function(t){this.Ml=t,this._l()},hn.prototype.getLayerConfig=function(){return{id:this._id,zooms:this.xt,zIndex:this.Qh,opacity:this.tl,visible:this.il,Ll:this.kl,createTile:this.bl,getTileUrl:this.ll}},hn);function hn(t){var o=this;return(t=void 0===t?Zi:t).id="wms_"+Y.Util.uuid(),t.cacheSize=Yi.cacheSize,t.zooms=(void 0===t.zooms?Yi:t).zooms,t.opacity=(void 0===t.opacity?Yi:t).opacity,t.visible=(void 0===t.visible?Yi:t).visible,t.zIndex=(void 0===t.zIndex?Yi:t).zIndex,(o=rn.call(this,t)||this).Be=t.url,o.Ml=t.url,o.kl=t.params||{},o.CLASS_NAME="AMap.TileLayer.WMS",o.type=t.type||"base",o.bl=function(t,i,n,s,e){var n=[(r=2*Y.x_/256/Math.pow(2,n)*o.Xa)*t-Y.x_,Y.x_-r*(i+1)],r=[r*(t+1)-Y.x_,Y.x_-r*i],h=document.createElement("img");"w"===(null===(i=o.map)||void 0===i?void 0:i.baseRender)&&(h.crossOrigin="anonymous"),h.onload=function(){s(h)},h.onerror=function(){e(h)},o._l(),h.src=o.Be+"&BBOX="+n+","+r},o.bl=o.bl.bind(o),o.onCreated(),o}function on(){this.Wl=!0,this._position=Y.Dl(),Y.Pl(this._position,0,0,10),this.Gl=Y.Dl(),Y.Pl(this.Gl,0,0,-1),this.jl=Y.Dl(),Y.Pl(this.jl,0,0,-1),this.El=Y.Dl(),Y.Pl(this.El,0,1,0),this.Nl=Y.Zl(),this.Fl=Y.Il(),this.Bl=Y.Il(),this.ql=Y.Il(),this.Yl=Y.Il()}Xi.RoadNet=F,Xi.Satellite=Et,Xi.Traffic="d"===Y.Support.baseRender?jt:bt,Xi.Flexible=Jt,Xi.WMTS=ni,Xi.WMS=St,on.prototype.lookAt=function(t){var i,n,s,e,r,h,o,a,u,f=Y.Il(),c=Y.Dl();Y.Pl(this.jl,t[0],t[0],t[2]),c=Y.Ol(c,this.Fl),f=Y.lookAt(f,c,t,this.El),i=this.Nl,e=f[0],r=f[4],h=f[8],o=f[1],a=f[5],u=f[9],c=f[2],t=f[6],0<(n=e+a+(f=f[10]))?(s=.5/Math.sqrt(n+1),i[3]=.25/s,i[0]=(t-u)*s,i[1]=(h-c)*s,i[2]=(o-r)*s):a<e&&f<e?(s=2*Math.sqrt(1+e-a-f),i[3]=(t-u)/s,i[0]=.25*s,i[1]=(r+o)/s,i[2]=(h+c)/s):f<a?(s=2*Math.sqrt(1+a-e-f),i[3]=(h-c)/s,i[0]=(r+o)/s,i[1]=.25*s,i[2]=(u+t)/s):(s=2*Math.sqrt(1+f-e-a),i[3]=(o-r)/s,i[0]=(h+c)/s,i[1]=(u+t)/s,i[2]=.25*s),this.$l()},on.prototype.setPosition=function(t){Y.Pl(this._position,t[0],t[1],t[2]),this.$l()},on.prototype.getPosition=function(){return this._position},on.prototype.$l=function(){var u,f,c=this.Fl,t=this._position,i=this.Nl,n=c,s=i[0],e=i[1],r=i[2],h=i[3],o=s*(u=s+s),a=s*(f=e+e);i=s*(c=r+r),s=e*f,e*=c,r*=c,u*=h,f*=h,c*=h,n[0]=1-(s+r),n[1]=a+c,n[2]=i-f,n[3]=0,n[4]=a-c,n[5]=1-(o+r),n[6]=e+u,n[7]=0,n[8]=i+f,n[9]=e-u,n[10]=1-(o+s),n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,Y.Ul(this.Bl,this.Fl)};var an,un=(an=It=on,Y.Ei(fn,an),fn.prototype.Vl=function(){var t=Y.Il();return Y.multiply(t,this.ql,this.Xl),Y.multiply(t,t,this.Bl),t},fn.prototype.setOptions=function(t,i,n,s,e,r){this.Hl=void 0!==t?t:-1,this.Jl=void 0!==i?i:1,this.Kl=void 0!==n?n:1,this.Ql=void 0!==s?s:-1,this.tu=void 0!==e?e:.1,this.iu=void 0!==r?r:1,this.eu()},fn.prototype.scale=function(t){void 0===t&&(t=1);var i=Y.Il();i.set([t,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]),Y.multiply(this.Xl,this.Xl,i)},fn.prototype.setRotation=function(t){var i=Y.Il(),n=(t-this.nu)/180*Math.PI;0!==(this.nu=t)&&(i.set([Math.cos(n),-Math.sin(n),0,0,Math.sin(n),Math.cos(n),0,0,0,0,1,0,0,0,0,1]),Y.multiply(this.Xl,this.Xl,i))},fn.prototype.kt=function(t,i,n){var s,e,r,h,o,a;void 0!==t&&(a=t.Rt,s=t.zt,o=t.center,e=t.scale,r=Y.Il(),h=Y.Il(),t=Y.Il(),r.set([1,0,0,0,0,1,0,0,0,0,1,0,s[0],s[1],0,1]),h.set([e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]),t.set([1,0,0,0,0,1,0,0,0,0,1,0,-a[0],-a[1],0,1]),Y.multiply(r,r,h),Y.multiply(r,r,t),Y.multiply(this.Xl,this.Xl,r),a=[(o=Y.ProjectionManager.getProjection(i).project(o[0],o[1]))[0]-s[0]+a[0],o[1]-s[1]+a[1]],n(Y.ProjectionManager.getProjection(i).unproject(a[0],a[1])))},fn.prototype.Cu=function(){return this.Yl},fn.prototype.lB=function(){return{left:this.Hl,right:this.Jl,top:this.Kl,bottom:this.Ql,rotation:this.nu,far:this.iu,near:this.tu,position:this._position}},fn.prototype.eu=function(){var t=(this.Jl-this.Hl)/(2*this.bt),i=(this.Kl-this.Ql)/(2*this.bt),n=(this.Jl+this.Hl)/2,s=(this.Kl+this.Ql)/2;Y.ou(this.ql,n-t,n+t,s-i,s+i,this.tu,this.iu),Y.Ul(this.Yl,this.ql)},fn);function fn(t,i,n,s,e,r){var h=an.call(this)||this;return h.type="OthoCamera",h.bt=1,h.nu=0,h.Xl=Y.Il(),h.Hl=void 0!==t?t:-1,h.Jl=void 0!==i?i:1,h.Kl=void 0!==n?n:1,h.Ql=void 0!==s?s:-1,h.tu=void 0!==e?e:.1,h.iu=void 0!==r?r:1,h.eu(),h}var cn,ln=(cn=Y.Event,Y.Ei(dn,cn),dn.prototype.au=function(){return this.su},dn.prototype.ru=function(){return Y.ProjectionManager.getProjection(this.su)},dn.prototype.setOptions=function(t,i){void 0===i&&(i=!0),t.projectionId&&(this.su=t.projectionId);var n=Y.ProjectionManager.getProjection(this.su);if(t.center&&(this.hu=t.center,s=this.lu(n),e=n.unproject(s[0],s[1]),this.hu=e,Y.Pl(this.uu,s[0],s[1],0),this.cu.setPosition(this.fu())),void 0!==t.zoom&&(t.zoom=Math.min(Math.max(t.zoom,this.map.getZooms()[0]),this.map.getZooms()[1]),this.pu=Math.pow(2,t.zoom-this.bt),this.bt=t.zoom,this.du=n.getResolution(this.bt),this.vu(),this.cu.setPosition(this.fu())),t.size&&(this.map.emit("resize"),this._size=t.size,this.vu()),void 0!==t.rotation&&"w"===Y.Support.baseRender&&(360<t.rotation?t.rotation-=360:t.rotation<-360&&(t.rotation+=360),this.cu.setRotation(t.rotation),this.nu=t.rotation),t.kt){if(!this.map.getStatus().zoomEnable)return;var s,e,r=t.kt.Mt;this.mu=t.kt,r<=this.map.getZooms()[1]&&r>=this.map.getZooms()[0]&&(this.bt=r,this.du=n.getResolution(this.bt),r=(t=this.mu).Rt,t=t.zt,(s=this.lu(n))[0]=s[0]-t[0]+r[0],s[1]=s[1]-t[1]+r[1],e=n.unproject(s[0],s[1]),this.hu=e,Y.Pl(this.uu,s[0],s[1],0),this.vu(),this.cu.setPosition(this.fu()),this.mu=void 0)}!this.h_()&&i&&this.map.setNeedUpdate(!0)},dn.prototype.getOptions=function(){return{zoom:this.bt,center:this.hu,rotation:this.nu,projectionId:this.su,pitch:0}},dn.prototype.getStatus=function(){var t=Y.Zl(),i=Y.Zl(),n=Y.Zl();this.xu(t,i,n);var s=Y.Util.getOptimalZoom(this.bt);return{pitch:this.Pu,size:this._size,rotation:this.nu,zoom:this.bt,optimalZoom:s,resolution:this.du,optimalResolution:Y.ProjectionManager.getProjection(this.su).getResolution(s),center:this.hu,bounds:t,boundsCoord:i,transformedBoundsCoord:n,centerCoord:this.uu,projectionId:this.su,mvpMatrix:this.cu.Vl(),viewMode:this.type,skyHeight:this.EF(),fov:60}},dn.prototype.bu=function(t){this.hu=[t[0],t[1]],t=Y.ProjectionManager.getProjection(this.su).project(this.hu[0],this.hu[1]),Y.Pl(this.uu,t[0],t[1],0)},dn.prototype.containerTolnglat=function(t,i,n){var s=this.getStatus(),e=s.centerCoord,r=s.rotation,h=Y.V[this.su].transform(e[0],e[1],n),h=0!==r?(s=r/180*Math.PI,e=t-this._size[0]/2,n=-(i-this._size[1]/2),r=Math.sqrt(e*e+n*n),s=Math.atan(e/n)-s,n<0&&(s+=Math.PI),n=r*Math.sin(s),s=r*Math.cos(s),[h[0]+n*this.du,h[1]-s*this.du]):[h[0]+(t-this._size[0]/2)*this.du,h[1]+(i-this._size[1]/2)*this.du];return h=Y.V[this.su].Xs(h[0],h[1]),(h=Y.ProjectionManager.getProjection(this.su).unproject(h[0],h[1]))[0]=180<h[0]?h[0]-360:h[0]<-180?h[0]+360:h[0],h},dn.prototype.lnglatToContainer=function(t,i,n,s){s=s||this.bt;var r=(e=this.getStatus()).rotation,e=e.centerCoord,i=[(i=Y.ProjectionManager.getProjection(this.su).project(t,i))[0],i[1]],r={center:e,rotation:r,size:this._size};return Y.V[this.su].wu(i[0],i[1],s,r)},dn.prototype._u=function(t,i){var n=this.getStatus(),s=(n.optimalZoom,n.zoom),e=n.rotation,e={center:n.centerCoord,rotation:e,size:this._size};return Y.V[this.su].wu(t,i,s,e)},dn.prototype.ku=function(t,i){var n=this.getStatus(),t=(n.optimalZoom,n.centerCoord,n.zoom,n.rotation,this.containerTolnglat(t,i));return(i=Y.ProjectionManager.getProjection(this.su)).project.apply(i,t)},dn.prototype.h_=function(){return Y.Ru(this.Xl,this.cu.Vl())},dn.prototype.aD=function(){return this.Xl=this.cu.Vl(),this.Xl},dn.prototype.EF=function(){return 1},dn.prototype.pz=function(){return this.cu},dn.prototype.xu=function(t,i,n){var s=this.nu/180*Math.PI,e=this._size,r=[(Math.abs(e[0]*Math.cos(s))+Math.abs(e[1]*Math.sin(s)))/2*this.du,(Math.abs(e[0]*Math.sin(s))+Math.abs(e[1]*Math.cos(s)))/2*this.du],h=Y.ProjectionManager.getProjection(this.su),o=this.uu[0]-r[0],a=this.uu[0]+r[0],e=this.uu[1]-r[1],s=this.uu[1]+r[1],r=h.unproject(o,e),h=h.unproject(a,s);return i[0]=o,i[1]=e,i[2]=a,i[3]=s,t[0]=r[0],t[1]=r[1],t[2]=h[0],t[3]=h[1],h=Y.V[this.su].transform(i[0],i[3]),i=Y.V[this.su].transform(i[2],i[1]),n[0]=h[0],n[1]=h[1],n[2]=i[0],n[3]=i[1],t},dn.prototype.vu=function(){var i=(t=this._size)[0]*this.du,t=t[1]*this.du;this.cu.setOptions(-i/2,i/2,t/2,-t/2,1,11e5)},dn.prototype.fu=function(){var t=Y.Dl();if(Y.Util.getOptimalZoom(this.bt)<Y.Ra)return Y.Pl(t,this.uu[0],this.uu[1],this.cz),t;var i=Y.lcs.getDeltaCoord([this.uu[0],this.uu[1]]);return Y.Pl(t,i[0],i[1],this.cz),t},dn.prototype.lu=function(t){return this.hu[0]=180<this.hu[0]?this.hu[0]-360:this.hu[0]<-180?this.hu[0]+360:this.hu[0],t.project(this.hu[0],this.hu[1])},dn);function dn(t,i){var n=cn.call(this)||this;return n.type="2D",n.Pu=0,n.hu=[0,0],n.bt=12,n._size=[0,0],n.pu=1,n.nu=0,n.cu=new un(-1,1,1,-1,10,1e3),n.su="EPSG:3857",n.uu=Y.Dl(),n.cz=1e6,n.du=Y.ProjectionManager.getProjection(n.su).getResolution(12),n.Xl=Y.Il(),n.bt=void 0!==t.zoom?t.zoom:12,n.map=i,n.setOptions(t),n.vu(),n.Xl=n.cu.Vl(),n}var vn,pn=(vn=It,Y.Ei(mn,vn),mn.prototype.Vl=function(){var t=[];return Y.multiply(t,this.ql,this.zu),t},mn.prototype.Su=function(){return this.ql},mn.prototype.Cu=function(){return this.Yl},mn.prototype.Lu=function(){return this.zu},mn.prototype.Au=function(){return this.cu},mn.prototype.setOptions=function(t,i,n,s,e){void 0===t&&(t=[1,1]),void 0===n&&(n=1),void 0===s&&(s=1),void 0===e&&(e=10),this.Tu=this.Iu(i=void 0===i?60:i),this.tu=s,this.iu=e,this.Du=n,this._size=t,this.eu()},mn.prototype.setSize=function(t){this._size=t},mn.prototype.setPitch=function(t){this.Pu=void 0!==t?t:this.Pu;var i=this._size[1]/2/Math.tan(this.Tu/2),n=this.Iu(this.Pu),s=this.Iu(this.nu),e=i*Math.sin(n),t=this.jl[0]-e*Math.sin(s),s=this.jl[1]-e*Math.cos(s),n=i*Math.cos(n);Y.Pl(this._position,t,s,n),this.ju()},mn.prototype.setRotation=function(t){this.nu=void 0!==t?-t:this.nu;var i=this.Iu(this.nu),t=Math.sin(i),i=Math.cos(i);Y.Pl(this.El,t,i,0),this.Ou()},mn.prototype.Fu=function(t,i,n){Y.Pl(this.jl,t,i,n),this.ju()},mn.prototype.Ou=function(t,i,n){void 0!==t&&void 0!==i?(Y.Pl(this._position,t,i,void 0===n?this._position[2]:n),this.ju()):(n=this._size[1]/2/Math.tan(this.Tu/2),Y.Pl(this._position,this.jl[0],this.jl[1],n),this.setPitch())},mn.prototype.Eu=function(t){var i=this._size;this.cz=t||i[1]/2/Math.tan(this.Tu/2)||0,Y.Pl(this._position,this._position[0],this._position[1],this.cz),this.setPitch()},mn.prototype.Nu=function(t,i,n){Y.Pl(this.El,t=void 0===t?0:t,i=void 0===i?1:i,n=void 0===n?0:n),this.ju()},mn.prototype.dz=function(){return this.cz},mn.prototype.lB=function(){return{fov:this.Tu,target:this.jl,up:this.El,position:this._position,far:this.iu,near:this.tu}},mn.prototype.eu=function(){Y.perspective(this.ql,this.Tu,this.Du,this.tu,this.iu),Y.Ul(this.Yl,this.ql)},mn.prototype.ju=function(){Y.lookAt(this.zu,this._position,this.jl,this.El),Y.Ul(this.cu,this.zu)},mn.prototype.Iu=function(t){return t*Math.PI/180},mn);function mn(t,i,n,s,e){void 0===t&&(t=[1,1]),void 0===i&&(i=60),void 0===n&&(n=1),void 0===s&&(s=10),void 0===e&&(e=2e4);var r=vn.call(this)||this;return r.Wt="PerspectiveCamera",r.Pu=0,r.nu=0,r.cu=Y.Il(),r.zu=Y.Il(),r.cz=0,r.Tu=r.Iu(i),r.tu=s,r.iu=e,r.Du=n,Y.Pl(r.El,0,1,0),r._size=t,r.eu(),r}var yn,bn=(yn=Y.Event,Y.Ei(gn,yn),gn.prototype.setOptions=function(t){var i,n=Y.ProjectionManager.getProjection(this.su);if(t.projectionId&&(this.su=t.projectionId),t.size&&(this.map.emit("resize"),this._size=t.size,this.vu(),this.cu.Ou()),void 0!==t.rotation&&"w"===Y.Support.baseRender&&(this.cu.setRotation(t.rotation),this.nu=t.rotation),void 0!==t.zoom&&(t.zoom=Math.min(Math.max(t.zoom,this.map.getZooms()[0]),this.map.getZooms()[1]),s=this.bt,this.bt=t.zoom,this.du=n.getResolution(this.bt),r=this.fu(),(Y.Util.getOptimalZoom(t.zoom)<Y.Ra&&Y.Util.getOptimalZoom(s)>=Y.Ra||Y.Util.getOptimalZoom(t.zoom)>=Y.Ra&&Y.Util.getOptimalZoom(s)<Y.Ra)&&(i=this.fu(),this.cu.Fu(i[0],i[1],0),this.cu.Ou(),this.vu()),this.cu.Fu(r[0],r[1],0),this.cu.Ou(),this.vu()),void 0!==t.pitch&&"w"===Y.Support.baseRender&&(t.pitch>this.$u()||this.Pu>this.$u()?t.pitch=this.$u():(t.pitch<0||this.Pu<0)&&(t.pitch=0),this.Pu=Math.min(t.pitch,this.$u()),this.cu.setPitch(t.pitch)),t.center&&(this.hu=t.center,h=this.lu(n),Y.Pl(this.uu,h[0],h[1],0),r=this.fu(),i=n.unproject(h[0],h[1]),this.hu=i,this.cu.Fu(r[0],r[1],0),this.cu.Ou()),t.kt){if(!this.map.getStatus().zoomEnable)return;var s=this.bt;this.bt=Math.min(Math.max(t.kt.Mt,this.map.getZooms()[0]),this.map.getZooms()[1]),this.du=n.getResolution(this.bt),(Y.Util.getOptimalZoom(t.kt.Mt)<Y.Ra&&Y.Util.getOptimalZoom(s)>=Y.Ra||Y.Util.getOptimalZoom(t.kt.Mt)>=Y.Ra&&Y.Util.getOptimalZoom(s)<Y.Ra)&&(e=this.fu(),this.cu.Fu(e[0],e[1],0),this.cu.Ou());var s=this.lu(n),e=t.kt.pos,n=this.X(e[0],e[1]),t=Y.lcs.getLocalByCoord([s[0],s[1]]);this.vu();var r=this.fu();this.cu.Fu(r[0],r[1],0),this.cu.Ou();var n=[(e=this.X(e[0],e[1]))[0]-n[0],e[1]-n[1]],r=[r[0]-n[0],r[1]-n[1]],h=[s[0]-n[0],s[1]-n[1]],s=Y.lcs.getLocalByCoord(h);this.bt>=Y.Ra&&(s.x!==t.x||t.y!==s.y)&&(n=s.x-t.x,t=s.y-t.y,r[0]-=n*Y.lcs.getSize()[0],r[1]-=t*Y.lcs.getSize()[1]),this.cu.Fu(r[0],r[1],0),this.cu.Ou(),this.bu(h)}this.h_()||this.map.setNeedUpdate(!0)},gn.prototype.bu=function(t){var i=Y.ProjectionManager.getProjection(this.su);Y.Pl(this.uu,t[0],t[1],0),t=i.unproject(t[0],t[1]),this.hu=t},gn.prototype.getOptions=function(){return{size:this._size,zoom:this.bt,center:this.hu,rotation:this.nu,projectionId:this.su,pitch:this.Pu,resolution:this.du}},gn.prototype.au=function(){return this.su},gn.prototype.ru=function(){return Y.ProjectionManager.getProjection(this.su)},gn.prototype.getStatus=function(){var t=Y.Zl(),i=Y.Zl(),n=Y.Zl();this.xu(t,i,n);var s=Y.Util.getOptimalZoom(this.bt);return{size:this._size,pitch:this.Pu,rotation:this.nu,zoom:this.bt,optimalZoom:s,resolution:this.du,optimalResolution:Y.ProjectionManager.getProjection(this.su).getResolution(s),center:this.hu,bounds:t,boundsCoord:i,transformedBoundsCoord:n,centerCoord:this.uu,projectionId:this.su,mvpMatrix:this.cu.Vl(),modelMatrix:this.cu.Au(),viewMode:this.type,skyHeight:this.EF(),fov:this.cu.Tu}},gn.prototype.$u=function(t){return 80},gn.prototype.Uu=function(t){var i=void 0!==t?t:this.Pu,t=this.bt,i=Math.max(i/100-.4,0),t=Math.max(4*(t-22),0)/100;return this._size[1]*(i-t)-10},gn.prototype.EF=function(){var t=1;return 0<(t=this.Uu())?1-t/this._size[1]*2:1},gn.prototype.X=function(t,i){var n=this.cu.Cu(),s=this.cu.Au(),e=this._size;if(t=t/e[0]*2-1,i=1-i/e[1]*2,!n)return[0,0];var r=Y.Bu(t,i,-1,1);return this.Wu(r,this.tu),e=Y.Zl(),Y.Gu(e,r,n),t=Y.Bu(t,i,1,1),this.Wu(t,this.iu),i=Y.Zl(),Y.Gu(i,t,n),n=Y.Zl(),Y.Gu(n,e,s),e=Y.Zl(),Y.Gu(e,i,s),s=+n[2]/(n[2]-e[2]),[n[0]-s*(n[0]-e[0]),n[1]-s*(n[1]-e[1])]},gn.prototype.ku=function(t,i){var n=Y.Util.getOptimalZoom(this.bt),s=this.uu,e=this.X(t,i);return t=e[0],i=e[1],n>=Y.Ra&&(t+=(s=Y.lcs.getLocalByCoord([s[0],s[1]])).center[0],i+=s.center[1]),[t,i]},gn.prototype.H=function(t,i,n){void 0===n&&(n=0);var s=this.cu.Su(),e=this.cu.Lu(),r=this.fG;return r[0]=t,r[1]=i,r[2]=n,i=this.uG,n=this.cG,Y.Gu(i,r,e),Y.Gu(n,i,s),Y.scale(n,n,1/n[3]),e=(n[0]+1)/2*this._size[0],s=(1-n[1])/2*this._size[1],this.lG(n),this.lG(i),[e,s]},gn.prototype._u=function(t,i,n){void 0===n&&(n=0);var s=Y.Util.getOptimalZoom(this.bt),e=this.uu;return s>=Y.Ra&&(t-=(e=Y.lcs.getLocalByCoord([e[0],e[1]])).center[0],i-=e.center[1]),this.H(t,i,n)},gn.prototype.containerTolnglat=function(t,i){var n=this.X(t,i),s=0,t=0;return Y.Util.getOptimalZoom(this.bt)>=Y.Ra&&(s=(i=Y.lcs.getLocalByCoord([this.uu[0],this.uu[1]]).center)[0],t=i[1]),n[0]+=s,n[1]+=t,(n=Y.ProjectionManager.getProjection(this.su).unproject(n[0],n[1]))[0]=180<n[0]?n[0]-360:n[0]<-180?n[0]+360:n[0],n},gn.prototype.lnglatToContainer=function(t,i,n,s){return void 0===n&&(n=0),t=Y.ProjectionManager.getProjection(this.su).project(t,i),Y.Util.getOptimalZoom(this.bt)>=Y.Ra&&(i=Y.lcs.getLocalByCoord([this.uu[0],this.uu[1]]),t[0]-=i.center[0],t[1]-=i.center[1]),this.H(t[0],t[1],n)},gn.prototype.pz=function(){return this.cu},gn.prototype.h_=function(){return Y.Ru(this.Xl,this.cu.Vl())},gn.prototype.aD=function(){return this.Xl=this.cu.Vl(),this.Xl},gn.prototype.xu=function(t,i,n){var s=0,e=0,r=this.Uu();Y.Util.getOptimalZoom(this.bt)>=Y.Ra&&(s=(c=Y.lcs.getLocalByCoord([this.uu[0],this.uu[1]]).center)[0],e=c[1]);var h=Y.ProjectionManager.getProjection(this.su),o=this.X(0,r),a=this.X.apply(this,this._size),u=this.X(this._size[0],r),f=this.X(0,this._size[1]),c=Math.min(o[0],f[0],u[0],a[0])+s,r=Math.max(o[0],f[0],u[0],a[0])+s,s=Math.min(o[1],f[1],u[1],a[1])+e,a=Math.max(o[1],f[1],u[1],a[1])+e,e=h.unproject(c,s),h=h.unproject(r,a);return i[0]=c,i[1]=s,i[2]=r,i[3]=a,t[0]=e[0],t[1]=e[1],t[2]=h[0],t[3]=h[1],h=Y.V[this.su].transform(i[0],i[3]),i=Y.V[this.su].transform(i[2],i[1]),n[0]=h[0],n[1]=h[1],n[2]=i[0],n[3]=i[1],t},gn.prototype.vu=function(){var t=this._size,i=t[0]*this.du,n=t[1]*this.du;this.cu.setSize([i,n]),this.cu.Eu();var s=this.cu.dz();this.tu=s/10,this.iu=50*s,s=56-this.bt,this.cu.setOptions([i,n],s,t[0]/t[1],this.tu,this.iu),this.cu.Eu()},gn.prototype.fu=function(){if(Y.Util.getOptimalZoom(this.bt)<Y.Ra)return[this.uu[0],this.uu[1]];var t=Y.lcs.getDeltaCoord([this.uu[0],this.uu[1]]);return[t[0],t[1]]},gn.prototype.lu=function(t){return this.hu[0]=180<this.hu[0]?this.hu[0]-360:this.hu[0]<-180?this.hu[0]+360:this.hu[0],t.project(this.hu[0],this.hu[1])},gn.prototype.Wu=function(t,i){t[0]*=i,t[1]*=i,t[2]*=i,t[3]*=i},gn.prototype.lG=function(t){for(var i=t.length,n=0;n<i;n++)t[n]=0},gn);function gn(t,i){var n=yn.call(this)||this;return n.type="3D",n.Pu=0,n.hu=[116.397128,39.916527],n.bt=12,n.tu=1e3,n.iu=1<<30,n._size=[0,0],n.nu=0,n.cu=new pn,n.su="EPSG:3857",n.uu=Y.Dl(),n.du=Y.ProjectionManager.getProjection(n.su).getResolution(12),n.Xl=Y.Il(),n.fG=[0,0,0,1],n.uG=[0,0,0,0],n.cG=[0,0,0,0],n.map=i,n.setOptions(t),n.cu.Ou(n.uu[0],n.uu[1]),n.Xl=n.cu.Vl(),n}var kn={Fe:["water","buildings","sky","atmosphere","bg","traffic"],aX:{regions:{subType:{land:{styleMap:[{mainkey:30001,subkey:[1,4,5]}],name:["区域面","陆地"]},green:{styleMap:[{mainkey:30001,subkey:[3,7,8,9,10,12,37]}],name:["区域面","绿地"]},"water:ocean":{styleMap:[{mainkey:30001,subkey:[6]},{mainkey:10002,subkey:[38]}],name:["区域面","海洋"]},"water:watersystem":{styleMap:[{mainkey:30001,subkey:[2,11,13]},{mainkey:20014},{mainkey:10002,subkey:[13]}],name:["区域面","其他水系"]},edu:{styleMap:[{mainkey:30002,subkey:[3,31]},{mainkey:30005,subkey:[1,2,3,4,5,6]}],name:["区域面","教育体育"]},scenicSpot:{styleMap:[{mainkey:30002,subkey:[5,33,41]}],name:["区域面","景区"]},sports:{styleMap:[{mainkey:30002,subkey:[9,10,13,19,20,21,34,37,39]}],name:["区域面","运动场所"]},parkingLot:{styleMap:[{mainkey:30002,subkey:[1]}],name:["区域面","停车场"]},subway:{styleMap:[{mainkey:30003}],name:["区域面","地铁设施"]},servicearea:{styleMap:[{mainkey:30002,subkey:[42,43]}],name:["区域面","高速服务区"]},desert:{styleMap:[{mainkey:30002,subkey:[41]}],name:["区域面","沙漠沙地"]},culture:{styleMap:[{mainkey:30002,subkey:[7,35]}],name:["区域面","文化"]},public:{styleMap:[{mainkey:30002,subkey:[4,12,22,32,42,43]},{mainkey:30005,subkey:[7]}],name:["区域面","公共设施"]},health:{styleMap:[{mainkey:30002,subkey:[8,36]}],name:["区域面","医疗卫生"]},business:{styleMap:[{mainkey:30002,subkey:[11,23,24,25,26,27,28,29,30,38]}],name:["区域面","商业场所"]},transporthub:{styleMap:[{mainkey:30002,subkey:[6,14,40]},{mainkey:30004}],name:["区域面","交通枢纽"]}}},roads:{subType:{"highWay:highway":{styleMap:[{mainkey:20001,subkey:[1,5]}],name:["道路","高速"]},"highWay:highwayTunnel":{styleMap:[{mainkey:20001,subkey:[3]}],name:["道路","高速隧道"]},"highWay:highwayOthers":{styleMap:[{mainkey:20001,subkey:[2,6]}],name:["道路","高速其他路"]},"ringRoad:ringRoad":{styleMap:[{mainkey:20002,subkey:[1,5]}],name:["道路","环路"]},"ringRoad:ringRoadTunnel":{styleMap:[{mainkey:20002,subkey:[3]}],name:["道路","环路隧道"]},"ringRoad:ringRoadOthers":{styleMap:[{mainkey:20002,subkey:[2]}],name:["道路","环路其他路"]},"nationalRoad:nationalRoad":{styleMap:[{mainkey:20003,subkey:[1]}],name:["道路","国道"]},"nationalRoad:nationalRoadTunnel":{styleMap:[{mainkey:20003,subkey:[3]}],name:["道路","国道隧道"]},"nationalRoad:nationalRoadOthers":{styleMap:[{mainkey:20003,subkey:[2,5]}],name:["道路","国道其他路"]},"provincialRoad:provincialRoad":{styleMap:[{mainkey:20004,subkey:[1]}],name:["道路","省道"]},"provincialRoad:provincialRoadTunnel":{styleMap:[{mainkey:20004,subkey:[3]}],name:["道路","省道隧道"]},"provincialRoad:provincialRoadOthers":{styleMap:[{mainkey:20004,subkey:[2]}],name:["道路","省道其他路"]},secondaryRoad:{styleMap:[{mainkey:20007},{mainkey:20031},{mainkey:20032}],name:["道路","二级道路"]},levelThreeRoad:{styleMap:[{mainkey:20008}],name:["道路","三级道路"]},levelFourRoad:{styleMap:[{mainkey:20009},{mainkey:20026}],name:["道路","四级道路"]},roadsBeingBuilt:{styleMap:[{mainkey:20018},{mainkey:20023}],name:["道路","在建道路"]},railway:{styleMap:[{mainkey:20010,subkey:[1,3]}],name:["道路","铁路"]},highSpeedRailway:{styleMap:[{mainkey:20010,subkey:[2]}],name:["道路","高铁"]},subway:{styleMap:[{mainkey:20015,subkey:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,50,51,52,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,86,87,89,90,91,92,93,94,95,96,97,98,99,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190]}],name:["道路","地铁"]},subwayBeingBuilt:{styleMap:[{mainkey:20015,subkey:[1,2]},{mainkey:20019}],name:["道路","在建地铁"]},overPass:{styleMap:[{mainkey:20012}],name:["道路","天桥"]},underPass:{styleMap:[{mainkey:20013}],name:["道路","地道"]},other:{styleMap:[{mainkey:20011},{mainkey:20017},{mainkey:20020},{mainkey:20024},{mainkey:20028}],name:["道路","其他线路"]},guideBoards:{styleMap:[{mainkey:40001}],name:["道路","道路路牌"]}}},labels:{subType:{"building:officebuilding":{styleMap:[{mainkey:10001,subkey:[5,74,75,76,77,78,79]},{mainkey:10004,subkey:[12]}],name:["标注","商务大厦"]},"building:residence":{styleMap:[{mainkey:10001,subkey:[6,80,81]}],name:["标注","住宅"]},"building:landmark":{styleMap:[{mainkey:10007,subkey:[187,188,189,190,192,193,195,196,198]}],name:["标注","地标建筑"]},"repast:restaurant":{styleMap:[{mainkey:10001,subkey:[19,20,114,115,116,117,118,119]},{mainkey:10007,subkey:[179,180,181]},{mainkey:10010,subkey:[5,6]}],name:["标注","餐厅"]},"repast:tearoom":{styleMap:[{mainkey:10007,subkey:[167]}],name:["标注","茶馆"]},"repast:cafe":{styleMap:[{mainkey:10001,subkey:[22]},{mainkey:10007,subkey:[215]}],name:["标注","咖啡厅"]},"repast:dessert":{styleMap:[{mainkey:10007,subkey:[166]}],name:["标注","甜品店"]},"entertainment:mall":{styleMap:[{mainkey:10001,subkey:[7,68,82,83,84,85,93,94,98]},{mainkey:10004,subkey:[8,18]},{mainkey:10007,subkey:[175,200,201,202,203,204]}],name:["标注","购物商场"]},"entertainment:market":{styleMap:[{mainkey:10001,subkey:[8,92]},{mainkey:10007,subkey:[1,2,3,4,5,6,10,168]}],name:["标注","便利超市"]},"entertainment:cinema":{styleMap:[{mainkey:10001,subkey:[60]},{mainkey:10007,subkey:[178]}],name:["标注","影剧院"]},"entertainment:entertainment":{styleMap:[{mainkey:10001,subkey:[61,62]},{mainkey:10007,subkey:[169]}],name:["标注","娱乐场所"]},"entertainment:pedestrainmall":{styleMap:[{mainkey:10001,subkey:[99]}],name:["标注","步行街"]},"entertainment:hotel":{styleMap:[{mainkey:10001,subkey:[9,133,134,135,136]}],name:["标注","酒店"]},"entertainment:zoo":{styleMap:[{mainkey:10001,subkey:[38,103]}],name:["标注","动物园"]},"entertainment:funfair":{styleMap:[{mainkey:10001,subkey:[37,73,184,185,188,203,204,205]}],name:["标注","游乐场"]},"scenic:attraction":{styleMap:[{mainkey:10001,subkey:[4,12,104,105,106,107,108,109,110,111,112,120,167,168,171,213]},{mainkey:10004,subkey:[3,13,21]},{mainkey:10007,subkey:[48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,216,217,218,219,220,221,222,223,224,225,227,228,229,230,231,236]},{mainkey:10008}],name:["标注","风景名胜"]},"scenic:park":{styleMap:[{mainkey:10001,subkey:[14,69,100,101,102]}],name:["标注","公园"]},"scenic:mountain":{styleMap:[{mainkey:10001,subkey:[18]}],name:["标注","山"]},"traffic:busstop":{styleMap:[{mainkey:10001,subkey:[24]}],name:["标注","公交站"]},"traffic:port":{styleMap:[{mainkey:10001,subkey:[36]}],name:["标注","港口"]},"traffic:transporthub":{styleMap:[{mainkey:10001,subkey:[2,27,28,29,30,31,172,175]},{mainkey:10004,subkey:[4,10,14,20]}],name:["标注","交通枢纽"]},"traffic:trainstation":{styleMap:[{mainkey:10001,subkey:[26]}],name:["标注","火车站"]},"traffic:airportterminal":{styleMap:[{mainkey:10001,subkey:[23,176,177,178]},{mainkey:10009}],name:["标注","机场航站楼"]},"traffic:coachstation":{styleMap:[{mainkey:10001,subkey:[25]}],name:["标注","长途汽车站"]},culture:{styleMap:[{mainkey:10001,subkey:[10,11,13,35,138,139,140,141,142,143,163,164,165,166,170]},{mainkey:10004,subkey:[1,5,11,15]},{mainkey:10007,subkey:[43,44,45,46,47,176,177]}]},"service:lifestyle":{styleMap:[{mainkey:10001,subkey:[58,63,64,65,66,67,121,122,123,173,214]},{mainkey:10007,subkey:[28,29,30,58]}],name:["标注","生活服务"]},"service:bank":{styleMap:[{mainkey:10007,subkey:[14,15,16,17]}],name:["标注","银行"]},"service:restroom":{styleMap:[{mainkey:10001,subkey:[59]}],name:["标注","卫生间"]},"medical:medicalcenter":{styleMap:[{mainkey:10001,subkey:[70]},{mainkey:10004,subkey:[6,16]}],name:["标注","大型医院"]},"medical:hospital":{styleMap:[{mainkey:10001,subkey:[32,33,169,206,207,208,209,210]},{mainkey:10007,subkey:[170]}],name:["标注","医院"]},"medical:emergencycenter":{styleMap:[{mainkey:10001,subkey:[132]}],name:["标注","急救中心"]},"medical:clinic":{styleMap:[{mainkey:10001,subkey:[131]},{mainkey:10007,subkey:[209]}],name:["标注","诊所"]},"medical:pharmacy":{styleMap:[{mainkey:10001,subkey:[57]}],name:["标注","药店"]},"casual:golf":{styleMap:[{mainkey:10004,subkey:[7,17]}],name:["标注","高尔夫"]},"casual:swimmingpool":{styleMap:[{mainkey:10007,subkey:[171]}],name:["标注","游泳馆"]},"casual:basketballcourt":{styleMap:[{mainkey:10001,subkey:[129]}],name:["标注","篮球馆"]},"casual:soccerfield":{styleMap:[{mainkey:10001,subkey:[130]}],name:["标注","足球场"]},"casual:tenniscourt":{styleMap:[{mainkey:10007,subkey:[174]}],name:["标注","网球场"]},"casual:otherstadium":{styleMap:[{mainkey:10001,subkey:[15,16,17,124,125,126,127,128]},{mainkey:10007,subkey:[172,173]}],name:["标注","其他体育馆"]},"point:toll":{styleMap:[{mainkey:10001,subkey:[218]}],name:["标注","收费站"]},"point:trafficlight":{styleMap:[{mainkey:10001,subkey:[2]}],name:["标注","红绿灯"]},"point:tunnel":{styleMap:[{mainkey:10002,subkey:[16]}],name:["标注","隧道"]},insurance:{styleMap:[{mainkey:10001,subkey:[42,55]}],name:["标注","金融保险"]},motorcycleservices:{styleMap:[{mainkey:10001,subkey:[113]}],name:["标注","摩托车服务"]},automobileservices:{styleMap:[{mainkey:10001,subkey:[39,40,41,71,72]},{mainkey:10007,subkey:[40,41,42]}],name:["标注","汽车服务"]},subway:{styleMap:[{mainkey:10005},{mainkey:10006}],name:["标注","地铁站"]},transportfacilities:{styleMap:[{mainkey:10001,subkey:[149,150,215,216,217]},{mainkey:10002,subkey:[11]},{mainkey:11001,subkey:[1,2,3]},{mainkey:10004,subkey:[22,23]}],name:["标注","道路附属设施"]},bizcircle:{styleMap:[{mainkey:10002,subkey:[10]}],name:["标注","商圈"]},others:{styleMap:[{mainkey:10001,subkey:[1,3,34,43,137]},{mainkey:10002,subkey:[12,14,15,21,23,28,36]},{mainkey:10004,subkey:[2]},{mainkey:10007,subkey:[208,210,211,212,213,214]},{mainkey:10011},{mainkey:10012},{mainkey:10013},{mainkey:10014},{mainkey:10015},{mainkey:10016}],name:["标注","其他"]}}},districtsname:{subType:{continent:{styleMap:[{mainkey:10002,subkey:[20]}],name:["行政区名","大洲名"]},country_cn:{styleMap:[{mainkey:10002,subkey:[18]}],name:["行政区名","中国国家名"]},country_global:{styleMap:[{mainkey:10002,subkey:[19]}],name:["行政区名","世界国家名"]},capital_global:{styleMap:[{mainkey:10002,subkey:[24,35]}],name:["行政区名","境外首都名"]},state:{styleMap:[{mainkey:10002,subkey:[1,3,4,22,26,30,32,33,34]}],name:["行政区名","省/直辖市/特别行政区名"]},"city:provincial_capital":{styleMap:[{mainkey:10002,subkey:[2,31]}],name:["行政区名","省会名"]},"city:city":{styleMap:[{mainkey:10002,subkey:[5,7,25,27]}],name:["行政区名","地级市名"]},"city:district":{styleMap:[{mainkey:10002,subkey:[6]}],name:["行政区名","县级市名"]},district:{styleMap:[{mainkey:10002,subkey:[8,37]}],name:["行政区名","区县名"]},town:{styleMap:[{mainkey:10002,subkey:[9]}],name:["行政区名","乡镇名"]},village:{styleMap:[{mainkey:10002,subkey:[17]}],name:["行政区名","村庄名"]}}},borders:{subType:{global:{styleMap:[{mainkey:20016,subkey:[3,4,8,10,11,14]}],name:["行政区边界","外国国界/停火线/主张线"]},provincial:{styleMap:[{mainkey:20016,subkey:[5,6,7,12]}],name:["行政区边界","省界线"]}}},buildings:{subType:{default:{styleMap:[{mainkey:50001,subkey:[1,2]}],name:["楼块","默认楼块"]},education:{styleMap:[{mainkey:50002,subkey:[1,2,3,4]}],name:["楼块","高校教学"]}}},environment:{subType:{sky:{styleMap:[{mainkey:"00001",subkey:[1]}],name:["环境","天空"]},atmosphere:{styleMap:[{mainkey:"00001",subkey:[2]}],name:["环境","大气"]}}},bg:{styleMap:[{mainkey:"00001",subkey:[3]}]}},uX:{regions:{name:"区域面",subType:{land:{name:"陆地",keyMap:["regions#land"],styleMap:[{mainkey:30001,subkey:[1,4,5]}]},green:{name:"绿地",keyMap:["regions#green:greenspace","regions#green:grass","regions#green:woodland","regions#green:mountain","regions#green:golf"],styleMap:[{mainkey:30001,subkey:[3,7,8,9,10,12]}]},edu:{name:"教育体育",keyMap:["regions#edu"],styleMap:[{mainkey:30002,subkey:[3,31]}]},public:{name:"公共设施",keyMap:["regions#public"],styleMap:[{mainkey:30002,subkey:[4,12,22,32]}]},traffic:{name:"交通枢纽",keyMap:["regions#transporthub"],styleMap:[{mainkey:30002,subkey:[6,14,40]},{mainkey:30004,subkey:[6,14,40]}]},scenicSpot:{name:"景区",keyMap:["regions#scenicSpot"],styleMap:[{mainkey:30002,subkey:[5,33]}]},culture:{name:"文化",keyMap:["regions#culture"],styleMap:[{mainkey:30002,subkey:[7,35]}]},health:{name:"医疗卫生",keyMap:["regions#health"],styleMap:[{mainkey:30002,subkey:[8,36]}]},sports:{name:"运动场所",keyMap:["regions#sports"],styleMap:[{mainkey:30002,subkey:[9,10,13,19,20,21,34,37,39]}]},business:{name:"商业场所",keyMap:["regions#business"],styleMap:[{mainkey:30002,subkey:[11,23,24,25,26,27,28,29,30,38]}]},parkingLot:{name:"停车场",keyMap:["regions#parkingLot"],styleMap:[{mainkey:30002,subkey:[1]}]},subway:{name:"地铁设施",keyMap:["regions#subway"],styleMap:[{mainkey:30003,allSubKey:!0}]}}},water:{name:"水系",keyMap:["regions#water:ocean","regions#water:watersystem"],styleMap:[{mainkey:30001,subkey:[2,6,11,13]},{mainkey:20014,subkey:[1,2]},{mainkey:10002,subkey:[13,38]}]},buildings:{name:"建筑物",keyMap:["buildings#default","buildings#residence","buildings#education","buildings#life","buildings#event","buildings#landmark"],styleMap:[{mainkey:50001,subkey:[1,2]},{mainkey:50002,subkey:[1,2,3,4]},{mainkey:50003,subkey:[1]},{mainkey:50004,subkey:[1]},{mainkey:30002,subkey:[2,15,16,17,18]}]},roads:{name:"道路",subType:{highWay:{name:"高速公路",keyMap:["roads#highWay:highway","roads#highWay:highwayTunnel","roads#highWay:highwayOthers"],styleMap:[{mainkey:20001,subkey:[1,2,3,5,6]}]},ringRoad:{name:"城市环线",keyMap:["roads#ringRoad:ringRoad","roads#ringRoad:ringRoadTunnel","roads#ringRoad:ringRoadOthers"],styleMap:[{mainkey:20002,subkey:[1,2,3]}]},nationalRoad:{name:"国道",keyMap:["roads#nationalRoad:nationalRoad","roads#nationalRoad:nationalRoadTunnel","roads#nationalRoad:nationalRoadOthers"],styleMap:[{mainkey:20003,subkey:[1,2,3,5]}]},provincialRoad:{name:"省道",keyMap:["roads#provincialRoad:provincialRoad","roads#provincialRoad:provincialRoadTunnel","roads#provincialRoad:provincialRoadOthers"],styleMap:[{mainkey:20004,subkey:[1,2,3]}]},secondaryRoad:{name:"二级公路",keyMap:["roads#secondaryRoad"],styleMap:[{mainkey:20007,subkey:[1,2,3]}]},levelThreeRoad:{name:"三级公路",keyMap:["roads#levelThreeRoad"],styleMap:[{mainkey:20008,subkey:[1,2,4,5]}]},levelFourRoad:{name:"四级道路",keyMap:["roads#levelFourRoad"],styleMap:[{mainkey:20009,subkey:[1,2,3,5,6,7]}]},roadsBeingBuilt:{name:"在建道路",keyMap:["roads#roadsBeingBuilt"],styleMap:[{mainkey:20018,subkey:[2,3,4,5,6,7,8,9,10,11]}]},railway:{name:"铁路",keyMap:["roads#railway"],styleMap:[{mainkey:20010,subkey:[1]}]},highSpeedRailway:{name:"高铁",keyMap:["roads#highSpeedRailway"],styleMap:[{mainkey:20010,subkey:[2]}]},subway:{name:"地铁",keyMap:["roads#subway"],styleMap:[{mainkey:20015,allSubKey:!0,subkey0:[1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,50,51,52,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,86,87,89,90,91,92,93,94,95,96,97,98,99,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,131,132,133,143]}]},subwayBeingBuilt:{name:"在建地铁",keyMap:["roads#subwayBeingBuilt"],styleMap:[{mainkey:20015,subkey:[1,2]},{mainkey:20019,subkey:[1]}]},overPass:{name:"天桥",keyMap:["roads#overPass"],styleMap:[{mainkey:20012,subkey:[1,2,3]}]},underPass:{name:"地道",keyMap:["roads#underPass"],styleMap:[{mainkey:20013,subkey:[1,2,3]}]},other:{name:"其他线条",keyMap:["roads#other"],styleMap:[{mainkey:20011,subkey:[1]},{mainkey:20017,subkey:[1,2,3,4,8]},{mainkey:20020,subkey:[1,2,3]},{mainkey:20024,subkey:[1,2]},{mainkey:20028,subkey:[1]}]},guideBoards:{name:"道路路牌",keyMap:["roads#guideBoards"],styleMap:[{mainkey:40001,subkey:[2800,110100,110101,110102,110103,110104,110105]}]}}},labels:{name:"标注",subType:{pois:{name:"兴趣点",subType:{hotel:{name:"住宿",keyMap:["labels#entertainment:hotel"],isDetailedType:!0,detailedCode:0,styleMap:[{mainkey:10001,subkey:[9,133,134,135,136,155,156,157,158,159,160,161,162,186]},{mainkey:10007,subkey:[31,32,33,34,35,36,37,38,39,164,165]}]},restaurant:{name:"餐饮",keyMap:["labels#repast:restaurant"],isDetailedType:!0,detailedCode:1,styleMap:[{mainkey:10001,subkey:[19,20,21,22,114,115,116,117,118,119,183,187]},{mainkey:10007,subkey:[1,2,3,4,166,167,168,179,180,181,203,205,206,215]}]},shop:{name:"购物",keyMap:["labels#entertainment:mall"],isDetailedType:!0,detailedCode:2,styleMap:[{mainkey:10001,subkey:[7,8,68,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99]},{mainkey:10007,subkey:[5,6,7,8,9,10,11,12,13,175,200,201,202,204]}]},scenicSpot:{name:"风景名胜",keyMap:["labels#repast:restaurant","labels#scenic:park"],isDetailedType:!0,detailedCode:3,styleMap:[{mainkey:10001,subkey:[4,12,14,38,69,100,101,102,103,104,105,106,107,108,109,110,111,112,120,167,171,188,189,190,191,192]},{mainkey:10008,allSubKey:!0},{mainkey:10007,subkey:[48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,187,188,190,192,193,194,195,196,198,216,217,218,219,220,221,223,224,225]}]},traffic:{name:"交通设施",isDetailedType:!0,detailedCode:4,styleMap:[{mainkey:10001,subkey:[23,24,25,26,31,36,148,154,168,172,175,176,177,178]},{mainkey:10002,subkey:[11,16]},{mainkey:10009,allSubKey:!0}]},bank:{name:"金融保险",isDetailedType:!0,detailedCode:5,styleMap:[{mainkey:10001,subkey:[42,44,45,46,47,48,49,50,51,52,53,54,55,144,145,146,147]},{mainkey:10007,subkey:[14,15,16,17,18,19,20,21,22,23,24,25,26,27]}]},edu:{name:"科教文化",isDetailedType:!0,detailedCode:6,styleMap:[{mainkey:10001,subkey:[10,11,13,35,138,139,140,141,142,143,163,164,165,166,170]},{mainkey:10007,subkey:[43,44,45,46,47,176,177]}]},live:{name:"生活服务",isDetailedType:!0,detailedCode:7,styleMap:[{mainkey:10001,subkey:[58,63,64,65,66,67,121,122,123]},{mainkey:10007,subkey:[28,29,30]}]},hospital:{name:"医疗保健",isDetailedType:!0,detailedCode:8,styleMap:[{mainkey:10001,subkey:[32,33,57,70,131,132,169,193,206,207,208,209,210]},{mainkey:10007,subkey:[170,209]}]},pe:{name:"休闲体育",isDetailedType:!0,detailedCode:9,styleMap:[{mainkey:10001,subkey:[15,16,17,37,60,61,62,73,124,125,126,127,128,129,130,180,181,182,184,185,194,195,196,197,198,199,200,201,202,203,204,205,213,214]},{mainkey:10007,subkey:[169,171,172,173,174,178,197,207]}]},public:{name:"公共设施",isDetailedType:!0,detailedCode:10,styleMap:[{mainkey:10001,subkey:[59,173,215]}]},buidling:{name:"商务住宅",isDetailedType:!0,detailedCode:11,styleMap:[{mainkey:10001,subkey:[5,6,74,75,76,77,78,79,80,81,179]},{mainkey:10007,subkey:[189,191]}]},gov:{name:"政府机构及社会团体",isDetailedType:!0,detailedCode:12,styleMap:[{mainkey:10001,subkey:[3,34,43,137]}]},moto:{name:"摩托车服务",isDetailedType:!0,detailedCode:13,styleMap:[{mainkey:10001,subkey:[113]}]},vehicle:{name:"汽车服务",isDetailedType:!0,detailedCode:14,styleMap:[{mainkey:10001,subkey:[39,40,41,71,72,151,152,153]},{mainkey:10007,subkey:[40,41,42,182,183,184,185,186]}]},pass:{name:"通行设施",isDetailedType:!0,detailedCode:15,styleMap:[{mainkey:10001,subkey:[27,28,149,150,174]},{mainkey:10002,subkey:[21]}]},subway:{name:"地铁站",isDetailedType:!0,detailedCode:16,styleMap:[{mainkey:10005,subkey:[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,54,55,56,57,59,86,87,88,89,90,91,92,93,94,95,96,97,98,99,103,104,105]},{mainkey:10006,subkey:[1,2]}]},roadFacilities:{name:"道路附属设施",isDetailedType:!0,detailedCode:17,styleMap:[{mainkey:10001,subkey:[2,29,30]},{mainkey:10017,allSubKey:!0}]},address:{name:"地名",isDetailedType:!0,detailedCode:18,styleMap:[{mainkey:10001,subkey:[18]},{mainkey:10002,subkey:[10,12,14,15,23,36]}]},other:{name:"其他",isDetailedType:!0,detailedCode:19,styleMap:[{mainkey:10001,subkey:[1,211,212]},{mainkey:10002,subkey:[28]},{mainkey:10007,subkey:[208,210,211,212,213,214]},{mainkey:10010},{mainkey:10011},{mainkey:10012},{mainkey:10013},{mainkey:10014},{mainkey:10015},{mainkey:10016,allSubKey:!0}]}}},aois:{name:"区域标注",keyMap:["labels#building:officebuilding","labels#entertainment:mall","labels#traffic:transporthub","labels#medical:medicalcenter","labels#casual:golf"],styleMap:[{mainkey:10004,allSubKey:!0,subkey:[1,3,4,5,6,7,8,11,12,13,14,15,16,17,18,21,22,23]}]},continent:{name:"大洲",keyMap:["districtsname#continent"],styleMap:[{mainkey:10002,subkey:[20]}]},country:{name:"国家",keyMap:["districtsname#country_cn"],styleMap:[{mainkey:10002,subkey:[18,19,29]}]},province:{name:"省/直辖市/自治区/特别行政区",keyMap:["districtsname#state"],styleMap:[{mainkey:10002,subkey:[22,26,33]}]},city:{name:"城市",keyMap:["districtsname#city:provincial_capital","districtsname#city:city"],styleMap:[{mainkey:10002,subkey:[1,2,3,4,5,7,24,25,27,30,31,32,34,35]}]},district:{name:"区县",keyMap:["districtsname#city:district"],styleMap:[{mainkey:10002,subkey:[6,8,37]}]},town:{name:"乡镇",keyMap:["districtsname#town"],styleMap:[{mainkey:10002,subkey:[9]}]},village:{name:"村庄",keyMap:["districtsname#village"],styleMap:[{mainkey:10002,subkey:[17]}]}}},borders:{name:"行政区边界",subType:{China:{name:"中国国界",keyMap:["borders#China"],styleMap:[{mainkey:20016,subkey:[1,2,9]}]},foreign:{name:"外国国界/停火线/主张线",keyMap:["borders#global"],styleMap:[{mainkey:20016,subkey:[3,4,8,10,11,14,16]}]},provincial:{name:"省界线",keyMap:["borders#provincial"],styleMap:[{mainkey:20016,subkey:[5,6,7,12]}]}}},sky:{name:"天空",keyMap:["environment#sky"],styleMap:[{mainkey:"00001",subkey:[1]}]},atmosphere:{name:"大气",keyMap:["environment#atmosphere"],styleMap:[{mainkey:"00001",subkey:[2]}]},bg:{name:"背景网格线",keyMap:["bg"],styleMap:[{mainkey:"00001",subkey:[3]}]}}},Mn=(wn.prototype.pn=function(t){this.qe?t(this.ON):this.Ye.push(t)},wn.prototype.dn=function(t,i,n){return this.vn.dn(t,i,n)},wn.prototype.mn=function(t,i){return this.vn.mn(t,i)},wn.prototype.setStyle=function(t,i,n){var s=t;this.vn.setStyle(s),t.layer&&this.vn.EY(t.layer),this.vn.kF(t),n.gn.bn(s,function(){n.emit("styleChanged")})},wn.prototype.setStyleByPlat=function(t,i){var n;Y.Module.eS.BY&&(n=this.xn(t),this.vn.setStyle(n),t.layer&&this.vn.EY(t.layer),this.vn.kF(t),i.gn.bn(n,function(){i.emit("styleChanged")}))},wn.prototype.destroy=function(){this.vn&&this.vn.destroy(),this.Ze={},this.ON=""},wn.prototype.w_=function(t){if(!this.Ze||!this.Ze[t])return null;var i=[];return Object.keys(this.Ze[t]).forEach(function(t){t=parseFloat(t),i.push(t)}),i},wn.prototype.VY=function(t){var t={style:t},i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status?console.log("qqqqq"):404===i.status&&i.abort()},i.open("POST","http://webapi.amap.com/formatstyle"),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(t))},wn.prototype.xn=function(t){for(var i={},n=t.version&&"2.0"===t.version?t.mapStyle:t,s=t.version&&"2.0"===t.version?kn.aX:kn.uX,e=Object.keys(n),r=0;r<e.length;r++){var h=e[r],o=n[h];if(s[h]){var a=s[h];if(a.styleMap){for(var u=a.styleMap,f=0;f<u.length;f++)if(i[A=u[f].mainkey]||(i[A]={}),u[f].subkey)for(var c=0;c<u[f].subkey.length;c++){var l=u[f].subkey[c],d=Y.yn(o);if(o.styles)for(var v=Object.keys(o.styles),p=0;p<v.length;p++){var m=v[p],y=o.styles[m].transitional,b=o.styles[m].nodes;d.styles[m]={nodes:b,transitional:y||void 0,nodesObj:{}};for(var g=0;g<b.length;g++){var k=b[g].zoom,M=b[g].value;d.styles[m].nodesObj[k]=M}}i[A][l]=d}}else if(a.subType&&o.subType)for(var w=Object.keys(o.subType),f=0;f<w.length;f++){var x=w[f];if(a.subType[x]&&a.subType[x].styleMap){for(var A,u=a.subType[x].styleMap,c=0;c<u.length;c++)if(u[c].mainkey){i[A=u[c].mainkey]||(i[A]={});var z=u[c].subkey;if(z=(u[c].allSubKey?this.w_(A):z)||["all"])for(var C=0;C<z.length;C++){var l=z[C],S=o.subType[x];if((d=Y.yn(S)).styles)for(v=Object.keys(S.styles),p=0;p<v.length;p++)for(m=v[p],y=S.styles[m].transitional,b=S.styles[m].nodes,d.styles[m]={nodes:b,nodesObj:{},transitional:y||void 0},g=0;g<b.length;g++)k=b[g].zoom,M=b[g].value,d.styles[m].nodesObj[k]=M;i[A][l]=d}}}else if(a.subType[x]&&a.subType[x].subType)for(var L=a.subType[x].subType,T=Object.keys(L),S=o.subType[x],d=Y.yn(S),I=0;I<T.length;I++){var D=T[I];if(L[D].styleMap)for(var O=0;O<L[D].styleMap.length;O++){var E=L[D].styleMap[O];if(E.mainkey&&E.subkey){i[E.mainkey]||(i[E.mainkey]={});for(var R=0;R<E.subkey.length;R++){var P=E.subkey[R];if(d.detailedType&&d.detailedType[D]){var j=d.detailedType[D],B=Y.yn(j);if(j.styles)for(v=Object.keys(j.styles),p=0;p<v.length;p++)for(m=v[p],b=j.styles[m].nodes,B.styles[m]={nodes:b,nodesObj:{}},g=0;g<b.length;g++)k=b[g].zoom,M=b[g].value,B.styles[m].nodesObj[k]=M;i[E.mainkey][P]=B}else i[E.mainkey][P]=d}}}}}}}return i},wn.prototype.wn=function(t){for(var i=0,n=this.Ye.length;i<n;i+=1)(0,this.Ye[i])(t);this.Ye=[]},wn.prototype.fn=function(t){var i=this;Y.Support.amapRunTime&&(Y.Support.amapRunTime["style2.0-request"]||(Y.Support.amapRunTime["style2.0-request"]=(new Date).getTime())),window.amap_sdk_log&&window.amap_sdk_log("style-request:"+t+"-"+Date.now());var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status?(Y.Support.amapRunTime&&(Y.Support.amapRunTime["style2.0-loaded"]||(Y.Support.amapRunTime["style2.0-loaded"]=(new Date).getTime())),window.amap_sdk_log&&window.amap_sdk_log("style-loaded:"+t+"-"+Date.now()),i.zZ(n.response),Y.Support.amapRunTime&&(Y.Support.amapRunTime["style2.0-decoded"]||(Y.Support.amapRunTime["style2.0-decoded"]=(new Date).getTime())),window.amap_sdk_log&&window.amap_sdk_log("style-decoded:"+t+"-"+Date.now())):404===n.status&&n.abort()},n.open("GET",t,!0),n.responseType="arraybuffer",n.send()},wn.prototype.zZ=function(t){Y.Support.amapRunTime&&(Y.Support.amapRunTime["style2.0-parseStylesFromText-End"]||(Y.Support.amapRunTime["style2.0-parseStylesFromText-End"]=(new Date).getTime())),t=Y.CZ(t),Y.Support.amapRunTime&&(Y.Support.amapRunTime["style2.0-jsonParse-End"]||(Y.Support.amapRunTime["style2.0-jsonParse-End"]=(new Date).getTime())),window["amapjsapi-style2-local"]?this.Ze=window["amapjsapi-style2-local"]:this.Ze=Y.StyleParser.SZ(t),Y.Support.amapRunTime&&(Y.Support.amapRunTime["style2.0-format-End"]||(Y.Support.amapRunTime["style2.0-format-End"]=(new Date).getTime())),this.vn.jY(this.Ze),this.Ze.Rn=Y._n.create("fcf9f2"),this.Ze.zn=24,this.qe=!0,this.ON=JSON.stringify(this.Ze),this.wn(this.ON)},wn);function wn(t){this._map=t,this.vz=null,this.qe=!1,this.Ne=Y.Support.$e&&!Y.Support.Ue,this.Be=window.__AMapStyleSource||Y.Ge||AMap.getConfig().protocol+"://vdata.amap.com/style/2.0.1",this.Ze={},this.Ye=[],this.Ve=null,this.fn(this.Be),this.vn=new Y.StyleParser("fast"===t.bZ.MZ.drawMode)}(F=Ve=Ve||{}).TEXTUREFINISH="TEXTUREFINISH",F.UNLOAD="unload",F.LOADING="loading",F.LOADED="loaded",F.FAIL="fail";var xn,An=(xn=Y.vG,Y.Ei(zn,xn),zn.prototype.getData=function(t,i){for(var n=this,s=[],e=0,r=t;e<r.length;e++){var h=r[e];s.push(h.charCodeAt(0).toString())}var o=this.Zu(s),a=this._map.gn;switch(o.status){case Y.qu.AllLoaded:i();break;case Y.qu.AllUnLoaded:var u=this.Yu(i);a&&a.getSDFData(o.Vu,function(t,i){n.Xu[u]=i=void 0===i?{}:i,n.Hu()});break;case Y.qu.SomeLoading:var f=this.Yu(i);a&&a.getSDFData(o.Vu,function(t,i){n.Xu[f]=i=void 0===i?{}:i,n.Hu()});break;case Y.qu.AllLoading:var c=this.Yu(i);this.Xu[c]=[],this.Hu()}},zn.prototype.Ju=function(t){for(var i={},n=0,s=t;n<s.length;n++){var e=s[n],r=e.range,h=e.info,o=e.pos;(e=this.info)[r],e[r]={info:((e={})[r]=h,e),pos:o},this.range.push(r),i[r]=1}return i},zn.prototype.mz=function(t,i){var n=this.info||[];return!(i=void 0===i?!1:i)&&n.hasOwnProperty(t)&&(n=n[t]).pos&&n.info[t]?{key:t,index:Y.cY.dynamic,char:n.info[t],pos:n.pos}:null},zn.prototype.measureText=function(t,i){for(var n=Y.PY,s=Y.tc.ic,e=0,r=this.info,h=i/this._size,o=this.nc,a=0,u=t;a<u.length;a++){var f=u[a],c=void 0,l=f;(c=13312<=l&&l<=40959?n:o[l])||!r.hasOwnProperty(l)||(l=r[l].info[l])&&(this.nc[f]=c=l[4]),e+=(c+s)*h}return e},zn.prototype.destroy=function(){this.range=[],this.info={},this.sc=[],this.Xu&&(this.Xu={}),this._c=[],this.nc={},this.xc=[],this.bc={},this.Xu={}},zn.prototype._bindEvents=function(){this.dG.on("loadWordsByFront",this.pG.bind(this))},zn.prototype.fc=function(){var t=Y.tc.pc,i=t[this.dc];return this.dc=(this.dc+1)%t.length,i},zn.prototype.vc=function(t){void 0===t&&(t={});var i=(Object.keys(t)||[]).sort(function(t,i){return t-i});return i=2<=(t=i.length)?i[0]+"-"+i[t-1]:1===t?i[0]:""},zn.prototype.mc=function(){},zn.prototype.Yu=function(t,i){void 0===i&&(i={});var n=this.yc+=1;return this.xc.push(n),this.bc&&(this.bc[n]=t,this.bc[n]={cb:t,params:i}),n},zn.prototype.Hu=function(){var t,i,n=this.xc[0];!n||(t=this.Xu[n])&&(this.xc.shift(),(i=this.bc[n])?i.cb(t):console.error("sdf task error"),delete this.Xu[n],delete this.bc[n],this.Hu())},zn.prototype.gc=function(t){for(var i=this.range||[],n=this.info||{},s=parseInt(t,10),e=0,r=i;e<r.length;e++){var h=r[e];if(h.indexOf("-")<0){if(s===+h&&(n[h]&&n[h].info||{})[t])return!0}else{var o=h.split("-"),a=parseInt(o[0]||"",10),o=parseInt(o[1]||"",10);if(a<=s&&s<=o&&(n[h]&&n[h].info||{})[t])return!0}}return!1},zn.prototype.pG=function(t){var i=this,n=t.mG,s=t.cb,n=this._map.bZ.MZ.lY.add("LangSDF",n);this._map.bZ.MZ.yY.setNeedUpdate(!0),this._map.bZ.MZ.lY.on("task:"+n,function(t){t=i._map.bZ.MZ.lY.add("SDFCombine",t.data),i._map.bZ.MZ.yY.setNeedUpdate(!0),i._map.bZ.MZ.lY.on("task:"+t,function(t){i.Ju(t.data),s(t.data)},i,!0)},this,!0)},zn.prototype._G=function(t){for(var i="",n=0,s=t.split("|");n<s.length;n++){var e=s[n];i+=String.fromCharCode(parseInt(e,10))}return i},zn.prototype.wc=function(t){return-1!==this._c.indexOf(t)},zn.prototype.Zu=function(t){for(var i=[],n=(this.range,0),s=0,e=0,r=t;e<r.length;e++){var h=r[e];this.gc(h)||(this.wc(h)?s+=1:(n+=1,i.push(h)))}return 0===s&&0===n?{status:Y.qu.AllLoaded,Vu:i}:0<n&&0===s?{status:Y.qu.AllUnLoaded,Vu:i}:0===n&&0<s?{status:Y.qu.AllLoading,Vu:i}:{status:Y.qu.SomeLoading,Vu:i}},zn);function zn(t,i){var n=xn.call(this)||this;return n._map=i,n.CLASS_NAME="SDFManager",n.range=[],n.info={},n.sc=[],n.dc=0,n._c=[],n._size=24,n.nc={},n.xc=[],n.bc={},n.Xu={},n.yc=1,n.ac=t,n.yG=new Y.bG,n.dG=n._map.gn,n._bindEvents(),n}var Cn=(Sn.prototype.play=function(t){for(var i=t,n=Date.now(),s=this.result;0<i&&this.offset<this.mG.length;){var e=this.mG[this.offset],r={},h=this._G(e),o=Y.bG.gG(e),h=(o=this.lang.D$(o).Ce(h)).bitmap,o=o.info;r.range=e,r.info=o,r.data=h,s.push(r),this.offset++,i=t-(Date.now()-n)}return this.result},Sn.prototype._G=function(t){for(var i="",n=0,s=t.split("|");n<s.length;n++){var e=s[n];i+=String.fromCharCode(parseInt(e,10))}return i},Object.defineProperty(Sn.prototype,"status",{get:function(){return this.offset>=this.mG.length?Y.vY.finish:Y.vY.pause},eb:!1,nb:!0}),Sn);function Sn(t,i){this.lang=t,this.mG=i,this.type="LangSDFTask",this.offset=0,this.result=[]}var Ln=(Tn.prototype.loadImage=function(t,i){var n=i.name,s=(i.type,i.cb),e=n||t;(n=this.Fs[e])&&n.status===Y.uc.LOADED?s(n,i):n&&n.status===Y.uc.LOADING?(this.Mc[e]||(this.Mc[e]=[]),this.Mc[e].push({cb:s,opts:i})):t?this.Rc(t,i):s(null,i)},Tn.prototype.TZ=function(t,i){this.Rc(t.data,{name:t.hash,cb:i})},Tn.prototype.loadImages=function(t,i){var n=t.length,s=i.cb,e=0;if(t.length){i.cb=function(){(e+=1)===n&&s()};for(var r=0,h=t;r<h.length;r++){var o=h[r];this.loadImage(o,i)}}else s()},Tn.prototype.imageLoaded=function(t,i){var n=i.data,s=i.cb;(i=this.zc[s])&&(i(n),delete this.zc[s])},Tn.prototype.addImageData=function(t,i){this.Fs[t]||(this.Fs[t]=i)},Tn.prototype.getImage=function(t){return this.Fs[t=void 0===t?"":t]||{}},Tn.prototype.destory=function(){this.Fs={},this.Mc&&(this.Mc={}),this.zc&&(this.zc={})},Tn.prototype.Rc=function(t,e){var r=this,i=e.name,h=e.ext,n=e.type,o=void 0===n?"other":n,a=e.cb,u=this.Fs,f=new Image,c=i||t;u[c]={type:o,img:f,ext:h,width:f.width,height:f.height,status:Y.uc.LOADING},f.crossOrigin="anonymous",f.onload=function(){if(e.imageBitmap)createImageBitmap(f).then(function(t){if(u[c]={type:o,img:t,ext:h,width:t.width,height:t.height,status:Y.uc.LOADED},a(u[c],e),r.Mc[c])for(var i=0,n=r.Mc[c];i<n.length;i++){var s=n[i];s.cb(u[c],s.opts)}f.onload=null,f.onerror=null});else{if(u[c]={type:o,img:f,ext:h,width:f.width,height:f.height,status:Y.uc.LOADED},a(u[c],e),r.Mc[c])for(var t=0,i=r.Mc[c];t<i.length;t++){var n=i[t];n.cb(u[c],n.opts)}f.onload=null,f.onerror=null}},f.onerror=function(){a(null,e),f.onload=null,f.onerror=null},f.src=t},Tn.prototype.Sc=function(t){var i,n=(t=void 0===t?{}:t).img,t=n&&n.context?(i=n.width||0,n.height||0):(i=t.width||0,t.height||0);return[i,t]},Tn);function Tn(){this.Fs={},this.Cc=16,this.zc={},this.Mc={}}var In,Dn=0,Et=(In=Mt,Y.Ei(On,In),On.prototype.add=function(t){for(var i=0,n=t=Array.isArray(t)?t:[t];i<n.length;i++){var s=n[i];this.source.add(s)}},On.prototype.remove=function(t){for(var i=0,n=t=Array.isArray(t)?t:[t];i<n.length;i++){var s=n[i];this.source.remove(s)}},On.prototype.getSourceConfig=function(){return{id:this.zF,type:"overlay",url:""}},On.prototype.co=function(){return this.zF},On.prototype.getState=function(){return{visible:this.il,opacity:1,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},On.prototype.vi=function(t){var i=this.source;if(i)return i.rr(t)||null},On.prototype.getAllOverlays=function(i){return this.source.getAllOverlays().filter(function(t){return!i||-1<t.className.toLocaleLowerCase().indexOf(i)})},On.prototype.destroy=function(){this.source&&this.source.destroy&&this.source.destroy(),this._container&&delete this._container},On);function On(t){var i=In.call(this,t=void 0===t?{}:t)||this;return i.CLASS_NAME="AMap.VectorLayer",i.zF="AMap.VectorLayer"+Dn++,i.pC=!1,i.Qh=t.zIndex||110,i}var En,Rn=(En=Et,Y.Ei(Pn,En),Pn.prototype.has=function(t){return!!this.source&&-1<this.source.getAllOverlays().indexOf(t)},Pn.prototype.clear=function(){var t;this.source&&(t=this.source.getAllOverlays(),this.remove(t.slice(0)))},Pn.prototype.setOptions=function(t){if(this.source)for(var i=0,n=this.source.getAllOverlays();i<n.length;i++)n[i].setOptions(t)},Pn.prototype.query=function(t){if(this.source)return this.source.rr({lnglat:t})},Pn.prototype.getBounds=function(){if(this.source){var t=this.getAllOverlays();if(0<t.length){for(var i,n=void 0,s=0;s<t.length;s++)n?(i=t[s].getBounds())&&n.union(i):n=(n=t[s].getBounds())&&n.clone();return n}}},Pn);function Pn(){return null!==En&&En.apply(this,arguments)||this}var jn,Bn=!1,Fn=(jn=Y.Event,Y.Ei(Wn,jn),Wn.prototype.va=function(t,n,i){var s,e=this,r=this.jD();return Y.Support.LZ&&r.UD?(window.amap_sdk_log&&(s=t.url+"t="+t.ya.join(";"),window.amap_sdk_log("loadNebulaTile"+s+"-"+Date.now())),AMap.getConfig().vdataProxy&&(t.url=AMap.getConfig().vdataProxy+"/"+t.url.split("/")[3]+"/"+t.url.split("/")[4]),r.send("loadNebulaSourceTile",t,function(t,i){t&&e._map.emit("TileDecodeError",{type:"nebula",err:t}),i&&i.nebulaDatas&&(Y.Support.amapRunTime&&(Y.Support.amapRunTime.workerTime=i.amapRunTime),n(i.nebulaDatas))})):this.DZ.va(t,n)},Wn.prototype.RD=function(t,i){return AMap.getConfig().vdataProxy&&(t.url=AMap.getConfig().vdataProxy+"/"+t.url.split("/")[3]+"/"+t.url.split("/")[4]),this.Uh.send("loadNebulaSourceTileSdf",t,i)},Wn.prototype.loadDistrictSourceTile=function(t,i,n){t.request=this.Uh.send("loadDistrictSourceTile",i,function(t,i){i&&n(i)})},Wn.prototype.gX=function(t,i,n){t.request=this.Uh.send("loadMapboxVTSourceTile",i,function(t,i){i&&n(i)})},Wn.prototype.kX=function(t,i,n,s){t.request=this.Uh.send("reBufferMapboxVTSource",{MX:i,styles:n},function(t,i){i&&s(i)})},Wn.prototype.aG=function(t,i,n){var s=this;t.request=this.Uh.send("loadMapboxSourceTile",i,function(t,i){t&&s._map.emit("TileDecodeError",{type:"mapbox",err:t}),i&&n(i)})},Wn.prototype._C=function(t){this.Uh.send("processLabels",{id:t})},Wn.prototype.deleteTileStaticSDF=function(t){this.Uh.send("deleteTileStaticSDF",t)},Wn.prototype.Ha=function(i){this.Uh.send("updateParams",i),Y.forEach(this.ED,function(t){t.send("updateParams",i)})},Wn.prototype.Ka=function(i){this.Uh.send("updateMapStyle",i),Y.forEach(this.ED,function(t){t.send("updateMapStyle",i)})},Wn.prototype.bn=function(t,i){this.Uh.send("updateUserStyle",{Kd:t},i)},Wn.prototype.Ja=function(i){this.Uh.send("sendHttp",{protocol:i}),Y.forEach(this.ED,function(t){t.send("sendHttp",{protocol:i})})},Wn.prototype.innerLabelsLoadData=function(t,i){this.Uh.send("innerLabelsLoadData",t,i)},Wn.prototype.signal=function(t,i){},Wn.prototype.dynamicTextSDFInfoLoaded=function(t,i){this.emit("dynamicTextSDFInfoLoaded",{data:i})},Wn.prototype.dynamicTextVerticeLoaded=function(t,i){this.emit("dynamicTextVerticeLoaded",i)},Wn.prototype.dynamicTextVerticeLoadedByTile=function(t,i){this.emit("dynamicTextVerticeLoadedByTile",i)},Wn.prototype.iconImageLoaded=function(t,i){this.emit("iconImageLoaded",i)},Wn.prototype.getSDFData=function(t,i){this.Uh.send("getSDFData",t,function(t){i&&i(t)})},Wn.prototype.loadWordsByFront=function(t,i,n){this.emit("loadWordsByFront",{mG:i,cb:n})},Wn.prototype.QB=function(t,i){this.jD().send("setPathWebgl",t,i)},Wn.prototype.JB=function(t,i){this.jD().send("sendIndoorRequest",t,i)},Wn.prototype.destroy=function(){this.jD().send("destroy","destroy"),this.Wh&&this.Wh.terminate();for(var t=0,i=this.HD;t<i.length;t++){var n=i[t];n&&n.terminate()}this.DZ&&delete this.DZ,this.Wh&&delete this.Wh},Wn.prototype.request=function(t,n,s){window.amap_sdk_log&&window.amap_sdk_log("data-request:"+n+"-"+Date.now());var e=new XMLHttpRequest;return e.onreadystatechange=function(){var t,i;4===e.readyState&&200===e.status&&(window.amap_sdk_log&&window.amap_sdk_log("data-loaded:"+n+"-"+Date.now()),t=e.getResponseHeader("content-type"),i=e.response,"application/x-protobuf"===t?s(null,i):Bn||(Bn=!0,console.log("<AMap JSAPI> KEY异常。")))},e.onerror=function(t){s("error")},e.open("GET",n,!0),e.responseType="arraybuffer",e.send(),{cancel:function(){e.abort()}}},Wn.prototype.jD=function(){var t=this.GD%this.ND;return this.GD=1+t,this.ED[t]},Wn.prototype.updateDataVersion=function(t,i){this.emit("updateDataVersion",{version:i})},Wn.prototype.tv=function(){var t=this;this._map.on("movestart",function(){t.iv=!0,t.ev()}),this._map.on("moveend",function(){t.iv=!1,t.ev()}),this._map.on("dragstart",function(){t._dragging=!0,t.ev()}),this._map.on("dragend",function(){t._dragging=!1,t.ev()}),this._map.on("zoomstart",function(){t.lt=!0,t.ev()}),this._map.on("zoomend",function(){t.lt=!1,t.ev()})},Wn.prototype.ev=function(){var i=!1;(this._dragging||this.lt||this.iv)&&(i=!0),this.nv!==i&&(this.Uh.send("setMainThreadBusy",i),Y.forEach(this.ED,function(t){t.send("setMainThreadBusy",i)})),this.nv=i},Wn.prototype.WD=function(){for(var t=0;t<this.ND;t++)if(!this.ED[t].UD)return!1;return!0},Wn);function Wn(t){var i=jn.call(this)||this;if(i._map=t,i.dE=!1,i._dragging=!1,i.lt=!1,i.nv=!1,i.iv=!1,i.GD=0,i.ND=1,i.HD=[],i.ED=[],i.VD=[],i.ZD=[],i.YD=0,i.DZ=new Gn(i),i.pE=function(){window.amap_sdk_log&&window.amap_sdk_log("initWorker:"+Date.now()),i.YD+=1,i.YD===i.ED.length+1&&(i.dE=!0,i._map.setNeedUpdate(!0))},window._PreLoadedWorker){var n=window._PreLoadedWorker,s=new Y.Bh(n,i,"AMap.nebula");i.HD.push(n),i.ED.push(s),s.UD=!0,i.pE()}else{for(var e=0;e<i.ND;e++)n=new Worker(AMap.getConfig().workerUrl),s=new Y.Bh(n,i,"AMap.nebula"),i.HD.push(n),i.ED.push(s);for(var r=0,h=i.ED;r<h.length;r++)!function(t){t.send("initCryptWorker",!0,function(){t.UD=!0,i.pE()})}(s=h[r])}return i.Wh=new Worker(AMap.getConfig().workerUrl),i.Uh=new Y.Bh(i.Wh,i,"AMap.SDF"),i.Uh.send("initCryptWorker",!0,function(){i.Uh.UD=!0,i.pE()}),i.tv(),i}var Gn=(Nn.prototype.va=function(n,s){var e=this;AMap.getConfig().vdataProxy&&(n.url=AMap.getConfig().vdataProxy+"/"+n.url.split("/")[3]+"/"+n.url.split("/")[4]);var r=(r=(r=n.url+("?key="+AMap.getConfig().key+"&flds="+n.hH)+"&t="+n.ya.join(";")).replace("nebula/v3","nebula/v2")).replace("oversea/v3","oversea/v2");r+="&p=3",window.amap_sdk_log&&window.amap_sdk_log("data-request:"+r+"-"+Date.now()),Y.Support.amapRunTime&&!Y.Support.amapRunTime.workerTime["data-request"]&&(Y.Support.amapRunTime.workerTime["data-request"]=Date.now());var h=new Y.vH,t=qt.Ajax(r,{responseType:"arraybuffer"},function(t,i){window.amap_sdk_log&&window.amap_sdk_log("data-loaded:"+r+"-"+Date.now()),Y.Support.amapRunTime&&!Y.Support.amapRunTime.workerTime["data-loaded"]&&(Y.Support.amapRunTime.workerTime["data-loaded"]=Date.now()),"complete"===t&&(n.buffer=i.data,i=e.parent.jD().send("decodeNebulaSourceTile",n,function(t,i){t&&e.parent._map.emit("TileDecodeError",{type:"nebula",err:t}),i&&i.nebulaDatas&&(Y.Support.amapRunTime&&!Y.Support.amapRunTime.workerTime["data-decode-begin"]&&(Y.Support.amapRunTime.workerTime["data-decode-begin"]=i.amapRunTime["data-decode-begin"]),Y.Support.amapRunTime&&!Y.Support.amapRunTime.workerTime["data-decode-end"]&&(Y.Support.amapRunTime.workerTime["data-decode-end"]=i.amapRunTime["data-decode-end"]),Y.Support.amapRunTime&&!Y.Support.amapRunTime.workerTime["style-parse-begin"]&&(Y.Support.amapRunTime.workerTime["style-parse-begin"]=i.amapRunTime["style-parse-begin"]),Y.Support.amapRunTime&&!Y.Support.amapRunTime.workerTime["style-parse-end"]&&(Y.Support.amapRunTime.workerTime["style-parse-end"]=i.amapRunTime["data-decode-end"]),s(i.nebulaDatas))}),h._H(i))});return h._H({cancel:t.abort.bind(t)}),h},Nn.prototype.RD=function(n,s){var e=this;t=(t=(t=n.url+("?key="+AMap.getConfig().key)+"&flds=poi,roadname&t="+n.ya.join(";")).replace("nebula/v3","nebula/v2")).replace("oversea/v3","oversea/v2"),t+="&p=3";var r=new Y.vH,t=qt.Ajax(t,{responseType:"arraybuffer"},function(t,i){"complete"===t&&(n.buffer=i.data,i=e.parent.Uh.send("decodeNebulaSourceTileSdf",n,function(t,i){s(t,i)}),r._H(i))});return r._H({cancel:t.abort.bind(t)}),r},Nn);function Nn(t){this.parent=t}var _n=(Un.prototype.ov=function(t){var i=t.gl;if(this.buffer||(this.buffer=new Y.yp(t,new Uint16Array(0),8)),this.texture||(this.texture=t.createTexture({height:1024,width:1024,data:null},{Yi:!0}),this.texture.bind(i.CLAMP_TO_EDGE,i.NEAREST,i.LINEAR)),this.av||(this.av=t.createFramebuffer(1024,1024)),!this.Pc){for(var n=new Uint16Array(192),s=0;s<32;s++){var e=6*s,r=4*s;n[e]=r,n[1+e]=1+r,n[2+e]=2+r,n[3+e]=r,n[4+e]=2+r,n[5+e]=3+r}this.Pc=t.ve(n)}},Un.prototype.sv=function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];this.rv[s.hv]=s.name,this.images[s.name]=s.img,this.lv.push(s.name),this.jG[s.name]={width:s.width,height:s.height}}},Un.prototype.update=function(t){this.ov(t.context),this.uv(t,this.lv),this.lv=[]},Un.prototype.uv=function(t,i){if(0!==i.length){for(var n=t.context,s=n.gl,e=0,r=i;e<r.length;e++){var h,o=r[e];this.De[o]||((h=n.createTexture(this.images[o],{Yi:!0})).bind(s.CLAMP_TO_EDGE,s.LINEAR,s.LINEAR),this.De[o]=h)}for(var a=[],u=0,f=this.rv.length;u<f;u++){var c=this.rv[u],d=void 0===(c=(l=this.jG[c]||{}).width)?512:c,v=void 0===(c=l.height)?1024:c,l=4*u*4,c=this.cv(u);a[l]=0,a[1+l]=0,a[2+l]=c[0],a[3+l]=c[1],a[4+l]=0,a[5+l]=v,a[6+l]=c[0],a[7+l]=c[1]+v,a[8+l]=d,a[9+l]=v,a[10+l]=c[0]+d,a[11+l]=c[1]+v,a[12+l]=d,a[13+l]=0,a[14+l]=c[0]+d,a[15+l]=c[1]}var p=n.fe(new Uint16Array(a),8),m=t.Hn();this.fv(),this.av.Wi.set(this.texture.texture);var y=this.getSize();for(n.bindFramebuffer.set(this.av.framebuffer),t=n.be.current,n.be.set([0,0,y[0],y[1]]),u=0,f=this.rv.length;u<f;u++){var b=this.rv[u],g=this.jG[b]||{},k=g.width,d=void 0===k?512:k,v=void 0===(g=g.height)?1024:g;b&&m.Ce({u_sourceTexture:this.De[b],u_sourceTextureSize:[d,v],u_targetTextureSize:y},{a_sourceTexturePos:{buffer:p,type:"vec2",Re:8,offset:0},a_targetTexturePos:{buffer:p,type:"vec2",Re:8,offset:4}},6,this.Pc,void 0,void 0,void 0,void 0,void 0,6*u)}n.bindTexture.set(null),this.texture.bind(s.CLAMP_TO_EDGE,s.NEAREST,s.LINEAR),n.be.set(t),n.bindFramebuffer.set(null)}},Un.prototype.getSize=function(){return[1024,1024*this.rv.length]},Un.prototype.destroy=function(){this.buffer&&(this.buffer.destroy(),delete this.buffer),this.texture&&(this.texture.destroy(),delete this.texture);for(var t=0,i=this.De;t<i.length;t++)i[t].destroy();this.av&&(this.av.destroy(),delete this.av),this.Pc&&(this.Pc.context.deleteBuffer(this.Pc),delete this.Pc),this.images={},this.lv=[],this.rv=[],this.De={}},Un.prototype.fv=function(){var t=this.getSize();this.texture.update({width:t[0],height:t[1],data:null},{resize:!0})},Un.prototype.cv=function(t){return[0,1024*t]},Un);function Un(){this.pv=0,this.lv=[],this.rv=[],this.images={},this.jG={},this.De={},this.dv=[256,256]}var Yn,Zn="labelsLayer",Hn={visible:!0,zIndex:120,opacity:1,collision:!0,animation:!0,allowCollision:!1,zooms:Y.zoomRange,VT:!1},jt=(Yn=Mt,Y.Ei(Jn,Yn),Jn.prototype.getSourceConfig=function(){return{id:this.hS,type:Zn}},Jn.prototype.getState=function(){return Yn.prototype.getLayerConfig.call(this)},Jn.prototype.co=function(){return this.hS},Jn.prototype.vi=function(t){var i=this.fz;return(t=i&&i.vi(t,this.hS)||"")?this.getSource().Ds(t):null},Jn.prototype.Do=function(t){return t=Yn.prototype.Do.call(this,t),this.map&&this.uz(this.map),t},Jn.prototype.v$=function(){this.fz&&this.fz.remove(this)},Jn.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},Jn.prototype.IL=function(t){var i=this.fz,n=this.source;return!!(t&&i&&n&&(i=i.$f||{},t=n.zL(t)))&&!!i[t]},Jn.prototype.uz=function(t){(this.fz=t.fS()).add(this)},Jn);function Jn(t){var i=Yn.call(this,t=void 0===t?{}:t)||this;return i.CLASS_NAME="AMap.LabelsLayer",i._opts={id:Zn,type:Zn,opacity:1,visible:1},i._opts=Y.assign({},Hn,t),i.xt=i._opts.zooms,i.Qh=void 0===t.zIndex?120:t.zIndex,i.il=void 0===t.visible||t.visible,i.tl=void 0===t.opacity?1:t.opacity,i}var Vn,qn=(Vn=jt,Y.Ei(Qn,Vn),Qn.prototype.getCollision=function(){return this._opts.collision},Qn.prototype.setCollision=function(t){this._opts.collision=t=void 0===t||t,this.to({vv:!1})},Qn.prototype.getAllowCollision=function(){return this._opts.allowCollision},Qn.prototype.setAllowCollision=function(t){this._opts.allowCollision=t=void 0===t||t,this.to({vv:!1})},Qn.prototype.getOpacity=function(){return this._opts.opacity},Qn.prototype.setOpacity=function(t){void 0!==t&&(this._opts.opacity=t,this.tl=t,this.to({vv:!0}))},Qn.prototype.getZooms=function(){return this._opts.zooms},Qn.prototype.setZooms=function(t){void 0!==t&&(this._opts.zooms=t,this.xt=t,this.to({vv:!0}))},Qn.prototype.getzIndex=function(){return this._opts.zIndex},Qn.prototype.setzIndex=function(t){void 0!==t&&(this._opts.zIndex=t,this.Qh=t,this.to({vv:!0}))},Qn.prototype.add=function(t){Array.isArray(t)||(t=[t]),this._add(t),(t=this.getSource())&&t.add(this.mv,this._opts,this.to.bind(this))},Qn.prototype.remove=function(t){Array.isArray(t)||(t=[t]),this._remove(t),(t=this.getSource())&&t.remove(this.mv,this._opts,this.to.bind(this))},Qn.prototype.clear=function(){this.mv={};var t=this.getSource();t&&(t.clear(),this.to({vv:!1}))},Qn.prototype.show=function(){Vn.prototype.show.call(this)},Qn.prototype.hide=function(){Vn.prototype.hide.call(this)},Qn.prototype.getAllOverlays=function(){var t,i,n=this.mv,s=[];for(t in n)!n.hasOwnProperty(t)||(i=n[t])&&s.push(i);return s},Qn.prototype.getState=function(){var t=this._opts;return{zIndex:this.Qh,zooms:this.xt,visible:this.il,opacity:this.tl,collision:t.collision,animation:t.animation,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},Qn.prototype.setTop=function(t,i){var n=this.Kl;t&&(i?(n&&n.hS!==t.hS&&n.setTop(!1),this.Kl=t):this.Kl=null)},Qn.prototype.Kh=function(t){Vn.prototype.Kh.call(this,t);var i=this.mv;Object.keys(i).length&&t.add(i,this._opts,this.to.bind(this,{vv:!1}))},Qn.prototype.to=function(t){var i=this,t=(t=void 0===t?{}:t).vv;this.map&&(void 0===t||t?(t=this.getSource())&&t.update(this._opts,function(){i.map&&i.map.setNeedUpdate(!0)}):this.map.setNeedUpdate(!0))},Qn.prototype.onAdd=function(){var t,i=this.mv;for(t in i)i.hasOwnProperty(t)&&i[t].Cs(this)},Qn.prototype.v$=function(){Vn.prototype.v$.call(this);var t,i=this.mv;for(t in i)i.hasOwnProperty(t)&&i[t].Cs(null)},Qn.prototype._add=function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];(this.mv[s.hS]=s).Cs(this)}},Qn.prototype._remove=function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];delete this.mv[s.hS],s.Cs(null)}},Y.dZ([Y.pZ("LabelsLayer")],Qn));function Qn(t){return(t=Vn.call(this,t=void 0===t?{}:t)||this).mv={},t}var Kn=($n.prototype.addImage=function(e,r){var h=this;this.getImage(e)?console.log("there is already a image named "+e):(this.zH.SH(e,function(t,i){r.cb&&r.cb(t,i)}),this.zH.has(e)||this.zH.nS(e,function(s){h.map.z_.loadImage(r.url,{name:e,type:"userImage",cb:function(t){var i,n;t&&t.img?(n=h.map.getContext())&&(i=n.createTexture(t.img,{Zi:!0}),t=r.filter?n.gl[r.filter]:n.gl.LINEAR,n=r.wrap?n.gl[r.wrap]:n.gl.CLAMP_TO_EDGE,i.bind(n,t,t),h.De[e]=i,s(null,i)):s(new Error("no img"))}})}))},$n.prototype.addImageBitmap=function(e,r){var h=this,o=r.url;this.getImage(o)?console.log("there is already a image named "+o):(this.zH.SH(o,function(t,i){r.cb&&r.cb(t,i)}),this.zH.has(o)||this.zH.nS(o,function(t){var i={img:e,startX:0,startY:0,status:Y.uc.LOADED,height:e.height,width:e.width,type:"userImage"};h.map.z_.addImageData(o,i);var s=(n=h.map.getContext()).createTexture(i.img,{Zi:!0}),i=r.filter?n.gl[r.filter]:n.gl.LINEAR,n=r.wrap?n.gl[r.wrap]:n.gl.CLAMP_TO_EDGE;s.bind(n,i,i),t(null,h.De[o]=s)}))},$n.prototype.getImage=function(t){return this.De[t]},$n.prototype.RH=function(t){var i=this.De[t];i&&(delete this.De[t],i.destroy())},$n.prototype.MH=function(t){return this.zH.has(t)},$n.prototype.L_=function(){var t=w.create("canvas",null);t.getContext||console.error("createArrowTexture error"),t.height=64,t.width=64;var i=t.getContext("2d");i?(i.fillStyle="white",i.beginPath(),i.moveTo(8,56),i.lineTo(32,36),i.lineTo(58,56),i.lineTo(58,36),i.lineTo(32,14),i.lineTo(8,36),i.fill(),(t=(i=this.map.getContext()).createTexture(t,{Zi:!0})).bind(i.gl.CLAMP_TO_EDGE,i.gl.LINEAR,i.gl.LINEAR),this.De.AMapArrow=t):console.error("createArrowTexture error")},$n.prototype.AH=function(){this.addImage("emptyTexture",{url:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"})},$n);function $n(t){this.map=t,this.De={},this.zH=new Y.IH,this.L_(),this.AH()}var ts,is=(ts=Mt,Y.Ei(ns,ts),ns.prototype.getSourceConfig=function(){return{id:this._id,type:"sky"}},ns.prototype.destroy=function(){this._id&&(this._id="")},ns.prototype.co=function(){return this._id},ns.prototype.getState=function(){return{visible:this.il,opacity:1,skyColor:this.$C,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},ns.prototype.lo=function(){return!0},ns);function ns(t){var i=ts.call(this,t=void 0===t?{visible:!0}:t)||this;return i.CLASS_NAME="AMap.SkyLayer",i._id="sky_"+Y.Util.uuid(),i.il=void 0===t.visible||t.visible,i.$C=t.skyColor,i.$C=i.$C&&Y.Util.color2RgbaArray(i.$C),i.Qh=t.zIndex||500,i._rejectMapMask=!0,i}var ss=(es.prototype.cS=function(t,i,n){var s=(this.wf=i).viewState,e=s.projectionId,r=s.viewMode;s.zoom,this.If=Y.V[e],this._viewMode=r,this.reset(),this.Of();for(var h=this._map,o={},a=0,u=this.Tw();a<u.length;a++){var f=u[a],c=f.getLayerConfig(),l=f._opts,d=f.hS,v=f.getRender();if(v){var p,m=n[d];if(m)for(var y in m)m.hasOwnProperty(y)&&(p=m[y],"AMap.Inner.LabelsLayer"===f.CLASS_NAME&&"other"===y||"AMap.LabelsLayer"===f.CLASS_NAME&&"tile"===y||!p||(p=v.Hz(t,i,this,p,h,c))&&(o[d]=p,(l.collision||l.allowCollision)&&(this.YL=!1),l.allowCollision&&(this.UT=!1)))}}this.Ps=o,e=(s=this._map.getMapState()).rotating,r=s.zooming,s=s.panning,r||s||this.reset(),this.YL&&this.UT&&(e||r||s)||this.Ff(),s=void 0===(s=(r=this.Ef()).Uf)?{}:s,r=r.$f,this.$f=void 0===r?{}:r,this.Uf=s},es.prototype.uS=function(){return this.LC},es.prototype.add=function(t){this.LC[t.hS]=t},es.prototype.remove=function(t){t&&delete this.LC[t.hS]},es.prototype.destroy=function(){this.LC&&(this.LC={}),this.Uf&&(this.Uf={},delete this.Uf),this.$f&&(this.$f={},delete this.$f)},es.prototype.vi=function(t,i,n){if(void 0===n&&(n=!1),!this._map)return null;if(!this._map.getStatus().pickWhenMoving&&this._map.TL())return null;if(t&&this._p){var s=this._map.getMapsContainer(),t=(s=w.mousePos(s,t,this._map))[0],s=s[1];if((t=this._p.search({ja:t-1,Fa:s-1,Oa:t+1,Ea:s+1})).length){if(s=this.NL(t,i),!(t=this.sP(s)))return null;if(i=t.id,(s=this.DC(i))&&s.Nf&&(s=(t=s.Nf[i])&&t.data.extData||{},this.Uf[i])){if(n)return[s.Lp,s.Ap];if("poi"===s.type)return{type:s.type,id:s.id,lnglat:t.data.position,name:t.data.name};if(!s.type)return s.id}}}return null},es.prototype.search=function(t){for(var i=[],n=0,s=this._p.search(t);n<s.length;n++){var e,r=s[n],h=r.id;(e=this.FC(h))&&"AMap.Inner.LabelsLayer"===e.CLASS_NAME&&this.TC(h)&&i.push(r)}return i},es.prototype.reset=function(){this.Uf={},this.$f={}},es.prototype.tC=function(){return this._p},es.prototype.iC=function(t,i){var s=void 0===(n=(t=void 0===t?{}:t).x)?0:n,r=void 0===(e=t.y)?0:e,h=t.width,o=t.height,a=(i=void 0===i?{}:i).id,u=i.rank,n=i.padding,e=i.type,t=i.name,i=Y.tc._d;return{id:a,name:t,type:void 0===e?"":e,rank:u||1,ja:s-(i=n||i||0),Fa:r-i,Oa:s+(void 0===h?0:h)+i,Ea:r+(void 0===o?0:o)+i}},es.prototype.NL=function(t,i){for(var n=[],s=0,e=t=void 0===t?[]:t;s<e.length;s++){var r,h=e[s];!h.id||(r=this.FC(h.id))&&r.hS===i&&n.push(h)}return n},es.prototype.sP=function(t){for(var i=this.Uf||{},n=[],s=0,e=t;s<e.length;s++){var r=e[s];i[r.id]&&n.push(r)}for(var h=-1/0,o=null,a=0,u=n;a<u.length;a++){var f=u[a],c=f.rank;h<c&&(h=c,o=f)}return o},es.prototype.Tw=function(){var t,i,n=this.LC,s=[];for(t in n)n.hasOwnProperty(t)&&(i=n[t],s.push(i));return s.sort(function(t,i){return i.Qh-t.Qh}),s},es.prototype.rd=function(t,i){var n=i.anchorOffset,i=void 0===(i=i.size)?[0,0]:i;return{x:(n=Y.vector.add(t,n))[0],y:n[1],width:i[0],height:i[1]}},es.prototype.hd=function(t,i,n){var s=i.offsetX,e=i.offsetY,r=i.w,i=i.h;return{x:t[0]+(void 0===s?0:s)*n,y:t[1]+(void 0===e?0:e)*n,width:(void 0===r?0:r)*n,height:(void 0===i?0:i)*n}},es.prototype.Ff=function(){var t=this.Ps,i=this.wf&&this.wf.viewState,n=this.ad,s=this.$f;if(i){var e,r={viewState:i,size:this.wf.size,transform:this.If,view:this._view,viewMode:this._viewMode,positionType:"relative"},h=i.zoom;for(e in t)if(t.hasOwnProperty(e)&&t[e]){var o=t[e],a=o.coords,u=o.style,f=o.Nf;if(o=this.LC[e]){var c,l,d,v,p,m,y,b,g,k,M=o.getRender().Jz(),w=M.Sa,x=o.Qh;for(c in a)a.hasOwnProperty(c)&&(d=(k=a[c]).origin,m=k.icon,b=k.padding,(l=u[c]).forceShow,this.TC(c)||(s[c]=1),s[c]||(v=(p=(y=f[c]).data.extData||{}).Sa||w||[0,0],d=(k=Y.vector.add(d,[v[0],v[1],0]))[0],v=k[1],k=k[2],r.centerCoord=M.centerCoord,v=Y.LabelsRenderUtil.r0(d,v,k,h,r),k={id:c,rank:Y.LabelsRenderUtil.getRank(y,{forceShow:l.forceShow,_z:x}),name:y.data.name,type:p.type||""},p=this.rd(v,m),m=this.PC(l)||Y.zoomRange,m=Y.Util.dS(h,m),l.showIcon&&m&&p.width&&p.height&&(g=this.iC(p,k),n.push(g)),g=1,y.data.extData.Lp&&y.data.extData.Ap&&(g=(y=this._map.mapStyle.dn(y.data.extData.Lp,y.data.extData.Ap,i.optimalZoom))&&l.text?y.fontSize/l.text.style.fontSize:1),b=this.hd(v,b,g),g=this.OC(l)||[2,20],g=Y.Util.dS(h,g),l.showText&&g&&b.width&&b.height&&(k=this.iC(b,k),n.push(k))))}}this.ld(n)}},es.prototype.Ef=function(){var t={},i=this.$f;if(!this.wf)return{};var n=(this.wf&&this.wf.viewState).zoom,s=this.Ps,e={};if(this.YL){for(var r in s)if(s.hasOwnProperty(r)&&s[r]){var h,o=s[r],a=o.Nf,u=void 0===a?{}:a;for(h in o.coords,o.style,u)u.hasOwnProperty(h)&&(t[h]=1)}return{Uf:t,$f:i}}for(r in s)if(s.hasOwnProperty(r)&&s[r]){var f,c,l=s[r],d=l.Nf,v=void 0===d?{}:d,p=void 0===(l=(l.coords,l.style))?{}:l,m=(z=this.LC[r]).Qh;for(f in v)v.hasOwnProperty(f)&&(c=p[f],e[c=Y.LabelsRenderUtil.getRank(v[f],{forceShow:c.forceShow,_z:m})]||(e[c]={}),e[c][f]=v[f])}for(var y=Y.labelsUtil.rank(Object.keys(e)),b=y.length,g=this.wf,k={viewState:g.viewState,size:g.size,transform:this.If,view:this._view,viewMode:this._viewMode,positionType:"relative"},M=b-1;0<=M;M--)for(var w,x=e[y[M]],A=(w=Object.keys(x)).length-1;0<=A;A--){var z,C=w[A];if(!i[C]&&(z=this.FC(C))){var S=z._opts||{};if(!S.collision&&this.UT||S.VT)t[C]=1;else{var L,T,I=z.getRender().Jz(),D=I.Sa,O=(L=this.DC(C)).style,E=L.coords,R=L.Nf;if((T=O[C])&&T.forceShow)t[C]=1;else{if(L=(S=E[C]).icon||{},O=S.padding||{},E=S.origin||{},R=((S=R[C]).data.extData||{}).Sa||D||[0,0],E=(D=Y.vector.add(E,[R[0],R[1],0]))[0],R=D[1],D=D[2],k.centerCoord=I.centerCoord,R=Y.LabelsRenderUtil.r0(E,R,D,n,k),(D=L.size)[0]&&D[1])for(var P,j=this.rd(R,L),B=this.iC(j),F=(P=this._p.search(B)).length,W=0;W<F;W++){var G=P[W];G.id===C?t[G.id]=1:this.BC(C,G.id)&&(i[G.id]=1)}j=this.wf&&this.wf.viewState,B=1;if(S.data.extData.Lp&&S.data.extData.Ap&&(B=(j=this._map.mapStyle.dn(S.data.extData.Lp,S.data.extData.Ap,j.optimalZoom))&&T.text?j.fontSize/T.text.style.fontSize:1),(B=this.hd(R,O,B)).width&&B.height)for(var N,B=this.iC(B),_=(N=this._p.search(B)).length,W=0;W<_;W++){var U=N[W];U.id===C?t[U.id]=1:this.BC(C,U.id)&&(i[U.id]=1)}}}}}return{Uf:t,$f:i}},es.prototype.ld=function(t){this._p&&(this._p.clear(),this._p.load(t))},es.prototype.Of=function(){this._p&&(this._p.clear(),this.ad=[])},es.prototype.DC=function(t){var i,n,s=this.Ps;for(n in s)if(s.hasOwnProperty(n)){var e=s[n];if(e&&e.Nf&&e.Nf[t]){i=e;break}}return i||{}},es.prototype.jC=function(t){var i,n=this.Ps,s="";for(i in n)if(n.hasOwnProperty(i)){var e=n[i]||{};if(e.Nf&&e.Nf[t]){s=i;break}}return s},es.prototype.FC=function(t){return(t=this.jC(t))?this.LC[t]:null},es.prototype.TC=function(t){var i=this.DC(t),n=this._map.qz(),s=this._map.getLayerByClass("AMap.MaskLayer"),e=this._map.jH();if(i){var r=i.Nf,h=i.style[t];if(!h)return!1;if("poi"===(i=r[t].data.extData||{}).type&&!1===n)return!1;if(!h.visible)return!1;if(n=this.EC(h),h=this.wf.viewState.zoom,!Y.Util.dS(h,n))return!1;if(n=this._map.getLayerByClass("AMap.IndoorMap"),r[t]&&i.bz&&n&&n.yD().show)return!1;if(s){if(s=s.getRender(),e)return!0;if(s&&!s.EH(r[t].data.position,this.wf))return!1}return!0}return!1},es.prototype.BC=function(t,i,n){if(void 0===n&&(n=!1),s=this.DC(i)){var s,e=s.style,r=this.FC(t),h=r&&r._opts||{},t=(s=this.FC(i))&&s._opts||{};if(e[i].forceShow)return n&&console.log("","   -1- ",1),!1;if(r&&s){if(r.hS!==s.hS&&!h.allowCollision&&!t.allowCollision)return n&&console.log("","   -2- ",1),!1;if(r.hS===s.hS&&!t.collision)return n&&console.log("","   -3- ",1),!1}}return n&&console.log("","   -4- ",1),!0},es.prototype.EC=function(t){var n=(i=this.PC(t)||[])[0],s=i[1],e=this.OC(t)||[],i=e[0],t=e[1];return[e=n&&i?n<=i?n:i:n||i||2,t=n&&i?s<=t?t:s:s||t||Y.zoomRange[1]]},es.prototype.PC=function(t){return t.icon&&t.icon[0]&&t.icon[0].zooms},es.prototype.OC=function(t){return t.text&&t.text.zooms},Y.dZ([Y.pZ("LabelsManager")],es));function es(t){this.LC={},this.Uf={},this.$f={},this.Ps={},this._p=Y.rbush(),this.ad=[],this._viewMode="2D",this.YL=!0,this.UT=!0,this._map=t,this._view=t.getView()}var rs,hs=(rs=Mt,Y.Ei(os,rs),os.prototype.getState=function(){return{visible:this.il,opacity:this.tl,zIndex:this.Qh,layer:this,path:this.$x,depthTest:this.AF,ce:this.IF}},os.prototype.setMask=function(t){t&&(this.$x=t,this.getSource().CS(),null!==(t=this.map)&&void 0!==t&&t.setNeedUpdate(!1))},os.prototype.getSourceConfig=function(){return{id:this._id,type:"mask",zooms:Y.zoomRange}},os.prototype.co=function(){return this._id},os.prototype.lo=function(){return!0},os);function os(t){var i=rs.call(this,t)||this;return i.CLASS_NAME="AMap.MaskLayer",i.$x=t.path,i.Qh=t.zIndex||-100,i.tl=void 0===t.opacity?1:t.opacity,i.il=void 0===t.visible||t.visible,i.xt=t.zooms||Y.zoomRange,i}var as,us="Nebula.labelsLayer",cs="nebulaLabel",ls=(as=Mt,Y.Ei(ds,as),ds.prototype.getState=function(){return Y.assign({},{layer:this,rejectMapMask:this._rejectMapMask},as.prototype.getLayerConfig.call(this))},ds.prototype.getSourceConfig=function(){var t=AMap.getConfig().protocol;return{id:cs,type:cs,tileUrl:t+(Y.Support.wasm?"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v3":"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2"),tileSize:0,zooms:Y.zoomRange}},ds.prototype.co=function(){return cs},ds.prototype.vi=function(t){return null},ds.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},ds.prototype.Do=function(t){return as.prototype.Do.call(this,t)},ds);function ds(t){var i=as.call(this,t=void 0===t?{}:t)||this;return i.CLASS_NAME="AMap.Nebula.LabelsLayer",i._opts={id:us,type:us,opacity:1,visible:1,collision:!0,allowCollision:!1},i._opts=Y.assign({},i._opts,t),i.Qh=t.labelzIndex||100,i.il=!1!==t.showLabel,i.tl=void 0===t.opacity?1:t.opacity,i}var vs=(ps.prototype.qk=function(t){return t=Object.keys(t),this.Uk+t.length<this.uf},ps.prototype.getSize=function(){return[this.maxWidth,this.Uk/this.Hk*this.unit]},ps.prototype.clear=function(){},ps.prototype.destroy=function(){},ps.prototype.Rk=function(t){var i=this.Vk,n=this.$k,s=t[Y.dY.iconWidth],t=t[Y.dY.iconHeight];return this.pY<t&&(this.pY=t),i+s<=this.maxWidth||(this.$k+=this.pY,n=this.$k,this.Vk=i=0,this.pY=t),this.Vk+=s,this.nU=[i,n],{startX:i,startY:n}},ps);function ps(){this.Uk=0,this.unit=32,this.Hk=128,this.maxWidth=this.unit*this.Hk,this.maxHeight=this.unit*this.Hk,this.uf=this.maxWidth/this.unit*(this.maxHeight/this.unit),this.Kv=!1,this.Vk=0,this.$k=0,this.pY=0,this.nU=[0,0],this.Es={};var t=document.createElement("canvas");t.width=this.maxWidth,t.height=this.maxHeight,this.mY=t,this.Nz=t.getContext("2d")}var ms=(ys.prototype.play=function(t){for(var i=t,n=Date.now();0<i&&this.offset!==this.mG.length;){var s=this.mG[this.offset],e=this.bY.Rk(s.info),r=s.info[Y.dY.iconWidth],h=s.info[Y.dY.iconHeight];0<r&&0<h&&this.bY.Nz.putImageData(function(t,i,n,s){for(var e=(s=t.createImageData(n,s)).data,r=0;r<i.length;r++)e[4*r+0]=i[r],e[4*r+1]=i[r],e[4*r+2]=i[r],e[4*r+3]=255;return s}(this.bY.Nz,s.data,s.info[Y.dY.iconWidth],s.info[Y.dY.iconHeight]),e.startX,e.startY),s.pos=e,delete s.data,this.result.push(s),this.offset++,i=t-(Date.now()-n)}return this.offset===this.mG.length&&(this.bY.Kv=!0),this.result},Object.defineProperty(ys.prototype,"status",{get:function(){return this.offset>=this.mG.length?Y.vY.finish:Y.vY.pause},eb:!1,nb:!0}),ys);function ys(t,i){this.bY=t,this.mG=i,this.type="SDFCombineTask",this.offset=0,this.result=[]}var bs=(gs.prototype.dynamicTextSDFInfoLoaded=function(t){var i=this.map.R_;i&&"SDFManagerBase"!==i.CLASS_NAME&&(i.Ju(t.data),this.Eo())},gs.prototype.iconImageLoaded=function(t){for(var i=this,t=t.data,e=[],r={},n=0,s=t;n<s.length;n++)!function(n){r[n.url]=1;var s=n.data;e.push(new Promise(function(t){var i=new Image;i.src=n.data.data.data,i.onload=function(){t({img:i,name:n.data.data.hash,hv:n.data.ext.hv,width:s.width,height:s.height})}}))}(s[n]);Promise.all(e).then(function(t){i.map.so.sv(t)}),this.Eo()},gs.prototype.updateDataVersion=function(t){this.map.UH(t.version)},gs.prototype.destroy=function(){this.$$()},gs.prototype.Ia=function(){this.map.gn.on("dynamicTextSDFInfoLoaded",this.dynamicTextSDFInfoLoaded.bind(this)),this.map.gn.on("iconImageLoaded",this.iconImageLoaded.bind(this)),this.map.gn.on("updateDataVersion",this.updateDataVersion.bind(this))},gs.prototype.$$=function(){this.map.gn.clearEvents("dynamicTextSDFInfoLoaded"),this.map.gn.clearEvents("commonWordLoaded"),this.map.gn.clearEvents("iconImageLoaded"),this.map.gn.clearEvents("updateDataVersion")},gs.prototype.Eo=function(){this.map.setNeedUpdate(!0)},gs);function gs(t){this.map=t,this.Ia()}var ks=(Ms.prototype.CS=function(){this.AS=!1},Ms.prototype.getData=function(){var r=this,t=this.$E;if(this.AS)return this.AS;if(t){var i,e,h,o,a,n=Y.GeometryUtil.typePolygon(t),u={type:"Polygon",$S:new Array,polygons:new Array,BM:new Array,LS:{x:0,y:0}};return n&&"Polygon"===n?(t[0][0]instanceof Y.LngLat?u.LS=Y.lcs.getLocalByLnglat(t[0][0].toString()):u.LS=Y.lcs.getLocalByLnglat(t[0][0]),i=u.LS,e=i.x,h=i.y,Y.forEach(t,function(t,i){var s;0===i?Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(e,h,i.x,i.y))[0],n=n[1];u.$S.push(i.Sa[0]+t,i.Sa[1]+n)}):(s=[],Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(e,h,i.x,i.y))[0],n=n[1];s.push(i.Sa[0]+t,i.Sa[1]+n)}),u.BM.push(s))})):n&&"MultiPolygon"===n&&(u.type="MultiPolygon",t[0][0][0]instanceof Y.LngLat?u.LS=Y.lcs.getLocalByLnglat(t[0][0][0].toArray()):u.LS=Y.lcs.getLocalByLnglat(t[0][0][0]),n=u.LS,o=n.x,a=n.y,Y.forEach(t,function(t){var e=[],n=[];Y.forEach(t,function(t,i){var s;0===i?Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(o,a,i.x,i.y))[0],n=n[1];e.push(i.Sa[0]+t,i.Sa[1]+n)}):(s=[],Y.forEach(t,function(t){t instanceof Y.LngLat&&(t=t.toArray());var i=Y.lcs.getLocalByLnglat(t),t=(n=r.DS(o,a,i.x,i.y))[0],n=n[1];s.push(i.Sa[0]+t,i.Sa[1]+n)}),n.push(s))}),u.BM.push(n),u.polygons.push(e)})),this.AS=this.zw(u),this.AS}return!0},Ms.prototype.DS=function(t,i,n,s){return s-=i,[(t=n-t)*(i=Y.lcs.getSize())[0],s*i[1]]},Ms.prototype.zw=function(t){if(t.Oc=new Y._w,!t.Dc){t.Dc=new Y.K_;var i=[],n=[];"Polygon"===t.type?(i=[t.$S],n=[t.BM]):"MultiPolygon"===t.type&&(i=t.polygons,n=t.BM);for(var s=0;s<i.length;s++){for(var e=i[s],r=[],h=0;h<n[s].length;h++){var o=n[s][h];r.push(e.length/2),e.push.apply(e,o)}var a=t.Dc.Nx(e,r);0<a&&t.Oc.add(99,99,a,Y.zoomRange[0],Y.zoomRange[1])}return t}},Ms.prototype.EE=function(t){if(!t)return null;for(var i=[],n=t.length,s=0;s<n;s++){var e=t[s],e=[(e=this.map.pixelToLngLat(e,16)).lng,e.lat];i.push(e)}return[i]},Ms);function Ms(t,i,n){this.map=i,this.$E=t}var ws=(xs.prototype.destroy=function(){for(var t=0,i=this.MZ;t<i.length;t++){var n=i[t];"function"==typeof n.destroy&&n.destroy.call(n)}},xs);function xs(t){this.MZ=t,this.dynamic=new zs}var As,zs=(As=Y.Event,Y.Ei(Cs,As),Cs.prototype.has=function(t){return this.gV.has(t)},Cs.prototype.set=function(t,i,n){(n=void 0===n||n)?(n=this.gV.get(t),this.gV.set(t,i),n!==i&&this.emit(t,i)):this.gV.set(t,i)},Cs.prototype.get=function(t){return this.gV.get(t)},Cs.prototype.subscribe=function(t,i,n,s){var e=this;return this.on(t,i,n,s=void 0!==s&&s),function(){return e.off(t,i,n)}},Cs);function Cs(){var t=null!==As&&As.apply(this,arguments)||this;return t.gV=new Y.OZ,t}function Ss(t){var i=this;this.map=t,this.gZ=function(){return i.stencil.getData()},t=t.getOutseaDataType(),t=Y.vZ(t).boundsP16,this.stencil=new ks(t,this.map)}var Ls=(Ts.prototype.update=function(t){var i=this;void 0===t?this.PZ.forEach(function(t){i.jZ(t)}):(t=this.WZ(t))&&this.jZ(t)},Ts.prototype.add=function(t){if(this.PZ.has(t.group)){var i=this.PZ.get(t.group);if(null==i||!i.includes(t))return null!==(i=this.PZ.get(t.group))&&void 0!==i&&i.push(t),!0}return!1},Ts.prototype.remove=function(t){if(this.PZ.has(t.group)){var i=null===(i=this.PZ.get(t.group))||void 0===i?void 0:i.indexOf(t);if(-1!==i)return null!==(t=this.PZ.get(t.group))&&void 0!==t&&t.splice(i,1),!0}return!1},Ts.prototype.BZ=function(t){var i=0;return void 0===t?this.PZ.forEach(function(t){i+=t.length}):i+=null!==(t=null===(t=this.WZ(t))||void 0===t?void 0:t.length)&&void 0!==t?t:0,i},Ts.prototype.RZ=function(t,i,n){if(void 0===n&&(n=1),!this.WZ(t)||this.BZ(t)<=0)return!1;for(var s=0;s<n&&0<this.BZ(t);s++){var e=this.GZ(t,!0);void 0!==e&&(!i||null!=i&&i(e)?e.NZ():this.add(e))}return!0},Ts.prototype.GZ=function(t,i){var n,s;return void 0===i&&(i=!1),this.WZ(t)&&(s=null===(s=this.WZ(t))||void 0===s?void 0:s.pop(),i&&s&&null!==(n=s.UZ)&&void 0!==n&&n.call(s))?this.GZ(t,i):s},Ts.prototype.sort=function(t,i){return i.FZ()-t.FZ()},Ts.prototype.WZ=function(t){return this.PZ.get(t)},Ts.prototype.jZ=function(t){for(var i,n=0;n<t.length;n++){var s=t[n];null!==(i=null==s?void 0:s.UZ)&&void 0!==i&&i.call(s)&&(t.splice(n,1),n--)}t.sort(this.sort)},Ts.prototype.destroy=function(){this.PZ.clear()},Ts);function Ts(t){var i=this;this.PZ=new Y.OZ,this.ZZ=t,null!==(t=this.ZZ.Fz)&&void 0!==t&&t.forEach(function(t){i.PZ.set(t,[])}),this.ZZ._Z&&(this.sort=this.ZZ._Z)}var Is=(Ds.oX=function(t){var i=document.createElement("canvas");i.width=256,i.height=256;var n=i.getContext("2d");if(n){n.beginPath();for(var s="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]/255+")",e=0;e<9;e++){n.lineWidth=1,n.strokeStyle=s;var r=256*e/8;8===e?(n.moveTo(.5,r-.5),n.lineTo(255.5,r-.5),n.moveTo(r-.5,.5),n.lineTo(r-.5,255.5)):(n.moveTo(.5,.5+r),n.lineTo(255.5,.5+r),n.moveTo(.5+r,.5),n.lineTo(.5+r,255.5))}return n.stroke(),"url("+i.toDataURL("image/png")+")"}},Ds.hX=function(t,i){var n=t.toLowerCase();if(n&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(n)){if(4===n.length){for(var s="#",e=1;e<4;e+=1)s+=n.slice(e,e+1).concat(n.slice(e,e+1));n=s}for(var r=[],e=1;e<7;e+=2)r.push(parseInt("0x"+n.slice(e,e+2),10));return i&&(i=parseFloat((parseInt(i,16)/255).toFixed(2)),r.push(i)),"RGB("+r.join(",")+")"}return n},Ds);function Ds(){}new Y.rW({});var Os=(Es.addLayerRender=function(t,i,n){i&&(this.YZ[t]=i),n&&(this.JZ[t]=n),this.XZ(!0)},Es.XZ=function(t){this.HZ=t},Es.VZ=function(){return this.HZ},Es.HZ=!0,Es.YZ={},Es.JZ={},Y.dZ([Y.pZ("LayerRenderManager")],Es));function Es(){}var Rs,Ps=(Rs=Y.Event,Y.Ei(js,Rs),js.prototype.TL=function(){return!window.movingDraw&&(this.gm||this.Lv||this.lt||this.Cv)},js.prototype.getContext=function(){var t;return null===(t=this.mm)||void 0===t?void 0:t.context},js.prototype.getGL=function(){return this.gl},js.prototype.getView=function(){return this._view},js.prototype.loadData=function(){return this.IY},js.prototype.wX=function(){return{hardwareAccEnabled:Y.Support.hardwareAccEnabled}},js.prototype.getContainer=function(){return this.kv},js.prototype.getSize=function(){var t=this._view.getStatus().size;return new Y.Size(t[0],t[1])},js.prototype.addLayer=function(t){var i,n,s,e;"d"===Y.Support.baseRender&&/^(AMap\.DistrictLayer)|(AMap\.MapboxLayer)$/g.test(t.CLASS_NAME)?console.log("浏览器版本过低，请升级最新版本的浏览器，或使用高版本火狐、谷歌等浏览器。"):(t.map=this,i=t.getSourceConfig(),n=this.Mv.addSource(i,this._view.au(),t),t.Hh(this.Mv),t.Kh(n),s=this.Rv(t,{}),t.Do(s),this.zv.push(t),this.zv.sort(function(t,i){return t.getOptions().zIndex-i.getOptions().zIndex}),"AMap.NebulaLayer"!==t.CLASS_NAME&&"AMap.TileLayer.RoadNet"!==t.CLASS_NAME||!1===this.showLabel||"w"!==this.baseRender||(e=this.getLayerByClass("AMap.Nebula.LabelsLayer"))||(e=new ls(Y.Ln(Y.Ln({},this.options),{rejectMapMask:!0})),this.addLayer(e)),"AMap.Nebula.LabelsLayer"!==t.CLASS_NAME&&"AMap.MapboxLayer"!==t.CLASS_NAME||!1===this.showLabel||"w"!==this.baseRender||((e=this.getLayerByClass("AMap.Inner.LabelsLayer"))?e.oP()&&e.show():(e=new Ii(Y.Ln(Y.Ln({},this.options),{rejectMapMask:!0})),this.addLayer(e)),e.getSource().addSource(i.id,n)),"AMap.NebulaLayer"===t.CLASS_NAME&&this.yS()&&(Y.some(this.zv,function(t){return"AMap.Buildings"===t.CLASS_NAME})||this.addLayer(new AMap.Buildings({zooms:[16.8,Y.zoomRange[1]],rejectMapMask:!0,zIndex:10,visible:!0,u$:!0}))),this.c$&&(Y.some(this.zv,function(t){return"AMap.MaskLayer"===t.CLASS_NAME})||this.d$||(this.d$=new hs({zIndex:-10,visible:!0,path:this.c$}),this.addLayer(this.d$))),"3D"===this.getView().type&&(Y.some(this.zv,function(t){return"AMap.SkyLayer"===t.CLASS_NAME})||this.addLayer(new is({zIndex:-1,visible:!0,skyColor:this.$C}))),t.onAdd&&t.onAdd(),this.d_(),this.setNeedUpdate(!0))},js.prototype.removeLayer=function(t){for(var i,n=0;n<this.zv.length;n++)this.zv[n]===t&&(this.zv.splice(n,1),t.v$&&(t.v$(),"d"===Y.Support.baseRender&&null!==(i=t.getRender())&&void 0!==i&&i.destroy()),t.map=null,--n);this.d_(),this.setNeedUpdate(!0)},js.prototype.setLayers=function(t){for(var i=0;i<this.zv.length;i++)"AMap.VectorLayer"!==(n=this.zv[i]).CLASS_NAME&&this.removeLayer(n);for(var n,i=0;i<t.length;i++)(n=t[i]).setMap(this)},js.prototype.getLayers=function(){return this.zv.filter(function(t){return!t._opts||!t._opts.TF})},js.prototype.DF=function(){return this.zv},js.prototype.getDefaultLayer=function(){for(var t=this.getLayers(),i=0;i<t.length;i++){var n=t[i];if(n instanceof Ai||"_defaultLayer"===n.getLayerConfig().id)return n}},js.prototype.getLayerByClass=function(t){for(var i=this.getLayers(),n=0;n<i.length;n++){var s=i[n];if(s.CLASS_NAME===t)return s}},js.prototype.isDOMRender=function(){return!Y.Support.isWebGL||"d"===this.baseRender},js.prototype.isDOMMode=function(){return!Y.Support.isWebGL||"d"===this.baseRender},js.prototype.getMapState=function(){return{zooming:this.lt,panning:this.Cv,rotating:this.Lv,pitching:this.gm}},js.prototype.getControlContainer=function(){return this.Tv},js.prototype.getMapsContainer=function(){return this.Iv},js.prototype.getStatus=function(){return{dragEnable:this.Dv,zoomEnable:this.Pv,doubleClickZoom:this.fi,keyboardEnable:this.jv,jogEnable:this.Ov,scrollWheel:this.Fv,zoomSpeed:this.fZ,animateEnable:this.Ev,touchZoomCenter:this.Nv,touchZoom:this.$v,pitchEnable:this.Uv,rotateEnable:this.Bv,showBuildingBlock:this.m$,isHotspot:this.Wv,mapstyleUrl:this.c_,features:this.Cw,allBubble:this.HL,pickWhenMoving:this.UB}},js.prototype.setStatus=function(t){this.Dv=void 0!==t.dragEnable?t.dragEnable:this.Dv,this.Pv=void 0!==t.zoomEnable?t.zoomEnable:this.Pv,this.fi=void 0!==t.doubleClickZoom?t.doubleClickZoom:this.fi,this.jv=void 0!==t.keyboardEnable?t.keyboardEnable:this.jv,this.Ov=void 0!==t.jogEnable?t.jogEnable:this.Ov,this.Fv=void 0!==t.scrollWheel?t.scrollWheel:this.Fv,this.Ev=void 0===t.animateEnable?this.Ev:t.animateEnable,this.Uv=void 0===t.pitchEnable?this.Uv:t.pitchEnable,this.$v=void 0===t.touchZoom?this.$v:t.touchZoom,this.Wv=void 0===t.isHotspot?this.Wv:t.isHotspot,this.Bv=void 0===t.rotateEnable?this.Bv:t.rotateEnable,this.HL=void 0===t.allBubble?this.HL:t.allBubble},js.prototype.getBuildingColor=function(){return{buildingColor:this.az,roofColor:this.rz,wallColor:this.sz}},js.prototype.getMask=function(){return this.c$},js.prototype.getOutseaState=function(){return this.YG},js.prototype.getOutseaDataType=function(){return this.QZ},js.prototype.getMapboxStyle=function(){return this.JG},js.prototype._setStyle=function(t){this.mapStyle.setStyle(t,!1,this)},js.prototype.RY=function(t){"d"!==this.baseRender&&(this.mapStyle.setStyleByPlat(t,this),this.u0(t))},js.prototype.f_=function(t){var i=this;if(!t)return!1;"d"!==this.baseRender?(this.c_=t,this.mapStyle.pn(function(){i._getUserStyle(t),i.d_(),i.setNeedUpdate(!0)})):console.log("浏览器版本过低，请升级最新版本的浏览器，或使用高版本火狐、谷歌等浏览器。")},js.prototype.getProjection=function(){return Y.ProjectionManager.getProjection(this._view.au())},js.prototype.getDefaultCursor=function(){return this.Zv},js.prototype.setDefaultCursor=function(t){this.Zv=t,this.setCursor()},js.prototype.setCursor=function(t){this.kv&&(t=t||this.getDefaultCursor())!==this.qv&&(Y.Support.$e||(this.kv.style.cursor=t),this.qv=t)},js.prototype.destroy=function(){this.G("beforeDestroy"),this.y$=!0,this.bZ&&(this.bZ.destroy(),delete this.bZ),this.x$&&(this.x$.destroy(),delete this.x$),this.gn&&(this.gn.destroy(),delete this.gn),this.mapStyle&&this.mapStyle.destroy&&(this.mapStyle.destroy(),delete this.mapStyle),this.b$&&this.b$.destroy&&(this.b$.destroy(),delete this.b$),this.$F&&this.$F.destroy&&(this.$F.destroy(),delete this.$F),this.wm&&delete this.wm,this.z_&&this.z_.destory&&(this.z_.destory(),delete this.z_),this._view&&delete this._view,this.I_&&delete this.I_,this.yH&&delete this.yH,this.m_&&delete this.m_,this.gl&&delete this.gl,this.canvas&&delete this.canvas,this.lcs&&(this.lcs=null),this.Vv(),this.Xv(),this.Hv(),this.G("afterDestroy")},js.prototype.getLimitBounds=function(){return this.it},js.prototype.setLimitBounds=function(t){this.it=t instanceof lt?t:new lt(t)},js.prototype.clearLimitBounds=function(){this.it=void 0},js.prototype.getZooms=function(){return[Math.max(this.xt[0],Y.zoomRange[0]),Math.min(Y.zoomRange[1],this.xt[1])]},js.prototype.setZooms=function(t){this.xt=t},js.prototype.setNeedUpdate=function(t){this.zX||(this.Jv=5,t&&!this.Kv&&(this.Kv=t,Y.Util.cancelAnimFrame(this.Qv),this.Qv=0,this.Eo()),this.Kv=t,this.bZ&&this.bZ.MZ.yY.setNeedUpdate(t))},js.prototype.render=function(){this.setNeedUpdate(!0)},js.prototype.qz=function(){return!1!==this.showLabel&&(!this.Cw||-1<this.Cw.indexOf("point"))},js.prototype.Qz=function(){return!1!==this.showLabel&&(!this.Cw||-1<this.Cw.indexOf("road"))},js.prototype.yS=function(){return!!this.m$||void 0===this.m$&&(!this.Cw||-1<this.Cw.indexOf("building"))},js.prototype.getViewMode_=function(){return this._view.type},js.prototype.fS=function(){return this.b$},js.prototype.XT=function(t){this.QT=t},js.prototype.JF=function(t){return this.mapStyle.vn?((t=this.mapStyle.vn.nX("00001","1","color",t))&&(t=Y.Util.Hex2Rgba(t),t=Y.vector.Up(t,255)),this.$C||t||[.329,.549,.839,1]):this.$C||[.329,.549,.839,1]},js.prototype.sX=function(t){if(!this.mapStyle.vn)return this.$C||[.329,.549,.839,1];var i=this.mapStyle.vn.nX("00001","2","color",t);return(i=i||this.mapStyle.vn.nX("00001","1","color",t))&&(i=Y.Util.Hex2Rgba(i),i=Y.vector.Up(i,255)),this.$C||i||[.329,.549,.839,1]},js.prototype.qF=function(){return this.tB},js.prototype.qY=function(t,i){if(!t||2!==t.length)return null;var n=t[0],t=t[1];return this.mapStyle.dn(n,t,i)},js.prototype.ra=function(t){return{2:3,3:3,4:3,5:3,6:6,7:6,8:8,9:8,10:10,11:10,12:10,13:12,14:12,15:14,16:14,17:14,18:14,19:14,20:14,21:14,22:14}[t]},js.prototype.getCustomTypeByPos=function(t){var i=this.ym().viewState.optimalZoom,i=this.ra(i),t=[(t=t.lnglat).lng,t.lat,t.lng,t.lat];return Y.Util.WY(t,i)},js.prototype.jH=function(){return this.NH},js.prototype.UH=function(t){this.Mv.UH(t)},js.prototype.setHighlight=function(t,i){var n;!this.bZ||(n=this.bZ.MZ.KY)&&n.setHighlight(t,i)},js.prototype.start=function(){this.zX=!1,this.setNeedUpdate(!0)},js.prototype.stop=function(){this.setNeedUpdate(!1),this.zX=!0},js.prototype.im=function(){return this.Mv},js.prototype.em=function(t,i,n){if(void 0===i&&(i=[0,0,0,0]),void 0===n&&(n=Y.zoomRange[1]),!t)return[116.39708007097433,39.874529056682476,12];var s=Y.ProjectionManager.getProjection(this._view.au()),e=Y.V[this._view.au()],r=s.project(t[0],t[1]),h=s.project(t[2],t[3]),o=[h[0]-r[0],h[1]-r[1]],a=this.getSize().toArray(),u=this._view.getStatus().pitch,f=this._view.getStatus().rotation;f*=Math.PI/180;var c=(i[2]-i[3])/2,s=(i[0]-i[1])/2,t=c*Math.cos(f)+Math.sin(f)*s,c=-Math.sin(f)*c+Math.cos(f)*s,s=o[0];return 0!=f&&(o[0]=Math.abs(o[0]*Math.cos(f))+Math.abs(o[1]*Math.sin(f)),o[1]=Math.abs(o[1]*Math.cos(f))+Math.abs(s*Math.sin(f))),f=Math.max(10,a[0]-i[2]-i[3]),i=Math.max(10,a[1]-i[0]-i[1]),f=Math.log(156543.03392804097/o[0]*f)/Math.log(2),i=Math.log(156543.03392804097/o[1]*i)/Math.log(2),i=Math.min(f,i),0<u&&(i-=u/60),i=Math.min(i,n),h=[(r[0]+h[0])/2,(r[1]+h[1])/2],(h=e.transform(h[0],h[1],i))[0]-=t,h[1]-=c,h=e.unproject(h[0],h[1],i),Y.Pt(h,[i])},js.prototype.nm=function(t){if(0<t.length){for(var i,n=void 0,s=0;s<t.length;s++)n?(i=t[s].getBounds())&&n.union(i):n=(n=t[s].getBounds())&&n.clone();return n}},js.prototype.om=function(t,i){void 0===i&&(i=!0),this._view&&this._view.setOptions(t,i)},js.prototype.Eo=function(){this.zX||(this.Qv||(this.Qv=Y.Util.requestAnimFrame(this.Yf.bind(this))),this.bZ&&this.bZ.MZ.yY.to())},js.prototype.rm=function(){return this.hm||(this.hm=new qn,this.addLayer(this.hm)),this.hm},js.prototype.sm=function(){return this.$F.source},js.prototype.FY=function(t){if(Y.Module.eS.BY)return this.getLayerByClass("AMap.Inner.LabelsLayer").vi(t,!0)},js.prototype._getUserStyle=function(t){t&&this._changeStyle(t)},js.prototype._changeStyle=function(t){var s=this,i=t.split("amap://styles/")[1],n=AMap.getConfig(),e=n.protocol,r=n.key;(n=-1!==t.indexOf("?isPublic=true"))&&(i=i.split("?isPublic")[0]);var t=null,h=!1;i.length<32?(h=!0,t=e+"://webapi.amap.com/style2?name="+i+"&key="+r):(t=e+"://webapi.amap.com/v4/map/styles2?styleid="+i+"&s=rsv3&key="+r+(n?"&ispublic=1":""),AMap.getConfig().jscode?t+="&jscode="+AMap.getConfig().jscode:AMap.getConfig().gaodeserver&&(t=AMap.getConfig().gaodeserver+"/v4/map/styles2?styleid="+i+"&s=rsv3&key="+r+(n?"&ispublic=1":""))),qt.JSONP(t,function(t,i){var n;"complete"===t&&(i=i.data)&&i.data&&i.data.content?(n=JSON.parse(i.data.content),t=JSON.parse(i.data.layer||"{}"),s.QR=n,s.mapStyle&&(s.mapStyle.setStyle(n,h,s),t&&s.mapStyle.vn.EY(t)),s.u0(i.data)):s.emit("styleChanged")})},js.prototype._getMapboxStyle=function(n){var s=this,t=AMap.getConfig(),i=t.protocol;t.key,qt.Ajax(i+"://a.amap.com/jsapi/static/json/web_v8_2.0_"+n+".json",{type:"GET",requestContentType:"application/json"},function(t,i){"complete"===t?(i=i.data,s.JG={styles:i,vectorMapForeign:n},s.gn&&s.gn.Ha({QG:s.JG}),s.Eo()):s.JG=null})},js.prototype.um=function(t){for(var i=0,n=t.length;i<n;i+=1)this.addLayer(t[i])},js.prototype.u0=function(t){var i=this;t&&t.third_layer&&Y.Module.module("AMap.StyleParser",function(){setTimeout(function(){i.y$||(i.f0||(i.f0=new AMap.StyleParser(i)),i.emit("styleLoaded",t))},0)})},js.prototype.cm=function(){var n=this;w.addClass(this.kv,"amap-container"),this.l0=w.watchSize(this.kv,function(t,i){n.om({size:[t,i]})},this);var t=this.kv;this.Iv=w.create("div",null,"amap-maps"),this.do=w.create("div",this.Iv,"amap-layers"),this.fm=w.create("div",this.Iv,"amap-overlays"),t.appendChild(this.Iv),this.Tv=w.create("div",this.kv,"amap-controls"),this.Iv.tabIndex=0;var i={};i.p_=w.create("a",t,"amap-logo"),w.create("img",i.p_).src=Y.Support.Ue?AMap.getConfig().protocol+"://"+AMap.getConfig().domain+"/theme/v2.0/logo@2x.png":AMap.getConfig().protocol+"://"+AMap.getConfig().domain+"/theme/v2.0/logo@1x.png",i.v_=w.create("div",t,"amap-copyright"),i.v_.style.display="none",350<w.getViewport(this.kv)[0]&&(i.v_.innerHTML=AMap.getConfig().v_,i.v_.mapNumber=w.create("span",i.v_,"amap-mcode")),this.m_=i},js.prototype.d_=function(){var t=this.getLayers();if(t){for(var i=-1,n="",s=0;s<t.length;s+=1){var e=t[s].get("mapNumber"),r=t[s].get("zIndex");e&&i<r&&t[s].get("visible")&&(n=e,i=r)}var h=this.c_;return(n=!this.g$||"GS(2021)6375"===n&&h&&"normal"!==h&&"amap://styles/normal"!==h?"":n)&&this.tE!==n&&this.m_&&this.m_.v_&&this.m_.v_.mapNumber&&(this.m_.v_.mapNumber.innerHTML="- "+n+"号"),this.tE=n}},js.prototype.pm=function(t){var i={size:w.getViewport(this.kv),zoom:t.zoom,center:t.center,rotation:t.rotation,projectionId:t.projection,pitch:t.pitch};return new(t.viewMode&&"3D"===t.viewMode?bn:ln)(i,this)},js.prototype.dm=function(){},js.prototype.Hv=function(){for(w.remove(this.Iv),delete this.Iv,this.do&&(w.remove(this.do),delete this.do),this.Tv&&(w.remove(this.Tv),delete this.Tv),this.fm&&(w.remove(this.fm),delete this.fm),this.l0&&(this.l0(),delete this.l0);this.kv&&this.kv.firstChild;)this.kv.removeChild(this.kv.firstChild);this.kv&&delete this.kv},js.prototype.Vv=function(){this.pi&&(this.pi.destroy(),delete this.pi),this.di&&(this.di.destroy(),delete this.di),this.vm&&(this.vm.destroy(),delete this.vm)},js.prototype.Xv=function(){this.mm&&this.mm.destroy&&(this.mm.destroy(),delete this.mm);for(var t=0,i=this.getLayers();t<i.length;t++)i[t].destroy();this.so&&this.so.destroy(),this.R_&&(this.R_.destroy(),delete this.R_),this.zv=[],this.Mv&&this.Mv.destroy&&(this.Mv.destroy(),delete this.Mv)},js.prototype.ym=function(){var t=this._view.getStatus();return{debug:this.debug,layers:this.zv,uo:this.Mv,size:t.size,do:this.do,viewState:t,map:this}},js.prototype.Yf=function(){if(!this.zX&&(this.w$(),!this.y$)){if(Os.VZ())for(var t=0,i=this.ym().layers;t<i.length;t++){var n,s=i[t];s.getRender()||(n=this.Rv(s,{}),s.Do(n))}this.pi&&this.pi.iy({}),this.di&&this.di.iy({});var e=this.ym();if(this.bm(e),this.tB=(new Date).getTime(),this.Mv.loadData(e.viewState,this,this.mm?this.mm.context:null),this.mm&&this.mm.renderFrame(e),this.Jv&&this.Kv)this.Qv=Y.Util.requestAnimFrame(this.Yf.bind(this));else if((this.Jv<=0||!this.Kv)&&(this.Kv=!1,Y.Util.cancelAnimFrame(this.Qv),this.Qv=0,this.gm||this.Lv||this.lt||this.Cv)){if(this.lt&&-1!==this.k$){if("d"===Y.Support.baseRender&&0<=this.k$){if(this.KT(),!this.tD)return void(this.tD=!0);this.tD=!1}this.G("zoomend",{target:e.map})}this.Cv&&-1!==this._$&&this.G("moveend",{target:e.map}),this.Lv&&-1!==this.M$&&this.G("rotateend"),this.gm&&-1!==this.S$&&this.G("pitchend"),this.Lv=!1,this.gm=!1,this.lt=!1,this.Cv=!1,this.Qv||(this.Mv.loadData(e.viewState,this,this.mm?this.mm.context:null),this.mm&&this.mm.renderFrame(e))}this.Jv--}},js.prototype.bm=function(t){var i=t.viewState,s=(n=this.wm).center,e=n.rotation,r=n.zoom,h=n.pitch,o=i.center,a=i.zoom,u=i.rotation,n=i.pitch;if(s[0]!==o[0]||s[1]!==o[1]?(this._$=1,this.Cv||this.G("movestart",{target:t.map}),this.Cv=!0,this.G("mapmove",{target:t.map})):1<=this._$&&this._$++,r!==a?(this.lt||this.G("zoomstart",{target:t.map}),this.G("zoomchange",{target:t.map}),this.lt=!0,this.k$=1):1<=this.k$&&this.k$++,e!==u?(this.Lv||this.G("rotatestart"),this.G("rotatechange"),this.Lv=!0,this.M$=1):1<=this.M$&&this.M$++,h!==n?(this.gm||this.G("pitchstart"),this.G("pitchchange"),this.gm=!0,this.S$=1):1<=this.S$&&this.S$++,5<=this._$&&(this.Cv=!1,this._$=-1,this.G("moveend",{target:t.map})),5<=this.k$&&(this.lt=!1,this.k$=-1,this.G("zoomend",{target:t.map})),5<=this.M$&&(this.Lv=!1,this.M$=-1,this.G("rotateend")),5<=this.S$&&(this.gm=!1,this.S$=-1,this.G("pitchend")),"d"===Y.Support.baseRender&&4<=this.k$){if(this.KT(),!this.tD)return void(this.tD=!0);this.tD=!1}this.Qv||this.mm&&(this.Mv.loadData(t.viewState,this,this.mm.context),this.mm.renderFrame(t)),this.wm=i},js.prototype.G=function(t,i){this.emit(t,i=void 0===i?{}:i)},js.prototype.Rm=function(){var r=this;this.on("styleChanged",function(){if(r.kv){var t=void 0;t=r.options.backgroundColor||(r.mapStyle?(i="fast"===r.bZ.MZ.drawMode?Y.Util.getOptimalZoom(r.getZoom()):r.getZoom(),(i=r.mapStyle.dn(30001,1,i))&&i.faceColor?((t=i.faceColor.rgba.slice(0))[3]=t[3]/255,"rgba( "+t.join(",")+")"):"#f7f7f7"):"#f7f7f7"),r.kv.style.backgroundColor=t;var i=r.mapStyle.vn.nX("00001","3","visible",10),t=r.mapStyle.vn.nX("00001","3","lineColor",10);i&&t?(t=Y.Util.Hex2Rgba(t),(t=Is.oX(t))&&(r.kv.style.backgroundImage=t,r.kv.style.backgroundSize="100px 100px")):!1===i&&(r.kv.style.backgroundImage="none");for(var n=0,s=r.zv;n<s.length;n++){var e=s[n];Y.qG(e)&&e.sl()}}r.xm=!0,r.Eo()}),this.on("repaint",function(){r.Eo()})},js.prototype.w$=function(){var t=this;this.R$||("d"===this.baseRender?(this.R$=!0,Y.Module.module("DomRender",function(){setTimeout(function(){t.y$||(t.mm=new Y.Module.DomRender(t),t.Eo())},0)})):(this.R$=!0,Y.Module.module("WebGLRender",function(){setTimeout(function(){t.y$||(AMap.Browser.isWebGL&&!t.KZ?(t.KZ=!0,t.mm=new Y.Module.WebGLRender(t),t.I_=new Kn(t),t.yH=new Y.LH(t,t.I_,t.gn),t.Eo()):t.R$=!1)},0)})))},js.prototype.Rv=function(t,i){return this.isDOMMode()?Os.JZ[t.CLASS_NAME]?new Os.JZ[t.CLASS_NAME](this,t):void 0:Os.YZ[t.CLASS_NAME]?new Os.YZ[t.CLASS_NAME]:void 0},js.prototype.KT=function(){var e,r,h,o,a,u,f=this,t=this._view.getStatus(),c=t.zoom,l=t.centerCoord,d=c,v=0;0!=(v=(d=this.bo>c?Math.floor(c):Math.ceil(c))-c)&&(this.bo=d,e=Y.V[this._view.au()],r=200*Math.abs(v)+100,h=new L(0,.6,.15,1),u=o=0,a=function(){o+=16;var t=f._view.getStatus().zoom,i=c+v*h.h(o/r);r<o&&(i=d);var n=e.nt(f.QT[0],f.QT[1],t),s=e.nt(f.QT[0],f.QT[1],i),t=s[0]-n[0]+l[0],n=s[1]-n[1]+l[1],n=f.getProjection().unproject(t,n);if(f.setZoomAndCenter(i,n,!0),d<=i&&0<v||v<0&&i<=d)return f.setZoom(d,!0),void Y.Util.cancelAnimFrame(u);o<r&&(u=Y.Util.requestAnimFrame(a))},u=Y.Util.requestAnimFrame(a))},js.prototype.iB=function(){window.onbeforeload=this.destroy,window.onunload=this.destroy,window.onbeforeunload=this.destroy},js.t_=[2,20],js);function js(t,i){var n=Rs.call(this)||this;n.className="AMap.Map",n.so=new _n,n.lcs=Y.lcs,n.debug=!1,n.complete=!1,n.Kv=!1,n.controls=[],n.langForeign="zh_cn",n.fE=!0,n.IY="normal",n.az=[.92,.92,.9,.9],n.sz=[.94,.94,.94,.9],n.rz=[.94,.94,.94,.9],n.$C=[.329,.549,.839,1],n.Ov=!0,n.Dv=!0,n.Pv=!0,n.Fv=!0,n.fZ=1,n.fi=!0,n.jv=!0,n.Ev=!0,n.Uv=!0,n.Bv=!0,n.$v=!0,n.Nv=0,n.Sm=!1,n.c_="",n.Zv="default",n.qv="",n.xt=[2,20],n.YG=!1,n.QZ="",n.zv=[],n.A$=!1,n.R$=!1,n.Qv=0,n.f0=void 0,n.xm=!1,n.lt=!1,n.Cv=!1,n.Lv=!1,n.gm=!1,n.km=0,n.Jv=5,n.y$=!1,n.Wv=!Y.Support.$e,n.g$=!0,n.tB=(new Date).getTime(),n._$=-1,n.M$=-1,n.S$=-1,n.k$=-1,n.HL=!1,n.bo=10,n.tD=!1,n.QT=[0,0],n.UB=!1,n.tE="",n.KZ=!1,n.zX=!1,Y.Support.hardwareAccEnabled||console&&console.log&&console.log("检测到您已关闭硬件加速模式，开启以获得更好的体验！"),n.Rm(),n.options=i,n.xX=i.cacheSize,n.g$=void 0===i.I$?n.g$:i.I$,n.az=Y.Util.color2RgbaArray(i.buildingColor=i.buildingColor),n.sz=Y.Util.color2RgbaArray(i.wallColor),n.rz=Y.Util.color2RgbaArray(i.roofColor),n.$C=Y.Util.color2RgbaArray(i.skyColor),n.Dv=void 0===i.dragEnable?n.Dv:i.dragEnable,n.Pv=void 0===i.zoomEnable?n.Pv:i.zoomEnable,n.Fv=void 0===i.scrollWheel?n.Fv:i.scrollWheel,n.fZ=void 0===i.zoomSpeed?n.fZ:i.zoomSpeed,n.Ov=void 0===i.jogEnable?n.Ov:i.jogEnable,n.fi=void 0===i.doubleClickZoom?n.fi:i.doubleClickZoom,n.jv=void 0===i.keyboardEnable?n.jv:i.keyboardEnable,n.Ev=void 0===i.animateEnable?n.Ev:i.animateEnable,n.Uv=void 0===i.pitchEnable?n.Uv:i.pitchEnable,n.$v=void 0!==i.touchZoom?i.touchZoom:n.$v,n.Nv=void 0!==i.touchZoomCenter?i.touchZoomCenter:n.Nv,n.Zv=i.defaultCursor||n.Zv,n.QZ=i.overseaDataType||n.QZ,n.IY=i.loadData||"normal",i.limitBounds&&n.setLimitBounds(i.limitBounds),n.Sm=i.Lm||!1,n.xt=i.zooms||n.xt,n.bo=i.zoom||n.bo,n.baseRender=Y.Support.baseRender,i.viewMode="d"===Y.Support.baseRender?"2D":i.viewMode,n.Bv=!("3D"!==i.viewMode),n.Bv=void 0===i.rotateEnable?n.Bv:i.rotateEnable,n.debug=i.debug||!1,n.m$="3D"===i.viewMode&&i.showBuildingBlock,n.Wv=void 0===i.isHotspot?n.Wv:i.isHotspot,n.UB=void 0===i.pickWhenMoving?n.UB:i.pickWhenMoving,n.fE=void 0===i.asyncOverlay?n.fE:i.asyncOverlay,n.showLabel=void 0===i.showLabel||Boolean(i.showLabel),n.Cw=i.features||["bg","point","road","building"],n.c$=i.mask,n.NH=void 0!==i.labelRejectMask&&Boolean(i.labelRejectMask),n.bZ=new ws({lY:new Y.MY,gY:new vs,yY:new Y.wY({check:function(){return!!n.bZ&&n.bZ.MZ.lY.xY()},render:function(){if(n.TL())return!1;n.bZ&&n.bZ.MZ.lY.exec(20)}}),drawMode:i.drawMode||"normal",tY:new Ls({Fz:["default"]}),wZ:new Ss(n),KY:new Bs(n)}),n.WebGLParams=void 0===i.WebGLParams?{}:i.WebGLParams,"d"!==n.baseRender?(n.bZ.dynamic.subscribe("firstPaint",function(){n.emit("firstPaint",Y.Support.amapRunTime)},n,!0),n.bZ.MZ.lY.on("taskclear",function(){n.setNeedUpdate(!0)}),n.bZ.MZ.lY.register("SDFCombine",function(t){return new ms(n.bZ.MZ.gY,t)},{kY:10}),n.bZ.MZ.lY.register("LangSDF",function(t){return new Cn(n.R_.yG,t)},{kY:10}),n.mapStyle=new Mn(n),n.mapStyle.pn(function(){var t=i.mapStyle;t?n._getUserStyle(t):n.emit("styleChanged")}),n.Eo(),e=n.z_=new Ln,n.gn=new Fn(n),n.R_=new An(e,n),n.x$=new bs(n)):(n.z_=new Ln,n.R_=new Y.vG,n.emit("styleChanged")),(s=i.vectorMapForeign)&&n._getMapboxStyle(s),i.langForeign&&(n.langForeign=i.langForeign),n.gn&&n.gn.Ha({langForeign:n.langForeign}),t&&(t.amap&&t.amap.destroy(),t.amap=n),n.kv=t,n._view=n.pm(i),n.b$=new ss(n),n.Mv=new gi(n),n.c_=i.mapStyle||"normal",n.QR=null;var e=Y.Support.isWebGL,s=AMap.getConfig().y_,t=i.layers||[];return n.cm(),e&&"d"!==n.baseRender&&(n.canvas=w.create("canvas",n.do,"amap-layer"),n.canvas.width=0,n.canvas.height=0,n.gl=Y.Support.getContext(n.canvas,n.WebGLParams)),n.w$(),0===t.length?n.isDOMMode()?(n.addLayer(new Xi({id:"_defaultLayer",tileUrl:s})),n.Bv=!1):e&&n.addLayer(new Ai({cacheSize:n.xX})):n.um(t),n.d_(),n.$F=new Rn({map:n}),n.addLayer(n.$F),t=n._view.getStatus(),n.wm=t,n.setCursor(n.Zv),n}var Bs=(Fs.prototype.setHighlight=function(t,i){this.Lp=t,this.Ap=i,this._Y.setNeedUpdate(!0)},Fs.prototype.destroy=function(){this.map.off("hotspotclick",this.$Y),this.map.off("hotspotover",this.$Y),this.map.off("hotspotout",this.tX)},Fs.prototype.$Y=function(t){this.iX=t.id,this.map.setNeedUpdate(!0)},Fs.prototype.tX=function(t){this.iX="",this.map.setNeedUpdate(!0)},Fs);function Fs(t){var i=this;this.map=t,this.Lp=-2,this.Ap=[],this.iX="",this.$Y=this.$Y.bind(this),this.tX=this.tX.bind(this),this.map.on("hotspotclick",this.$Y),this.map.on("hotspotover",this.$Y),this.map.on("hotspotout",this.tX),this.GY=Date.now(),this.NY=0,this.UY=!0,this._Y=new Y.wY({check:function(){return-1<i.Lp},render:function(){var t=Date.now()-i.GY;i.NY=2400<t%3e3?0:.5-Math.abs(t%3e3/2400-.5),i.map.setNeedUpdate(!0)}}),this._Y.setNeedUpdate(!0)}var Ws=(Gs.prototype.setImageSize=function(t){t instanceof Y.Size&&(t=t.toArray()),this._opts.imageSize=t},Gs.prototype.getImageSize=function(){var t=this._opts.imageSize,i=this.Om;return t||(i.length?i:[])},Gs.prototype.setSize=function(t){t instanceof Y.Size&&(t=t.toArray()),this._opts.size=t},Gs.prototype.getSize=function(){return this._opts.size},Gs.prototype.setImageOffset=function(t){t instanceof Y.Pixel&&(t=t.toArray()),this._opts.imageOffset=t},Gs.prototype.getImageOffset=function(){return this._opts.imageOffset||[0,0]},Gs.prototype.getImage=function(){return this._opts.image},Gs.prototype.setImage=function(t){this._opts.image=t},Gs.prototype.Fm=function(){return this.Om||[]},Gs.prototype.Em=function(t){t instanceof Y.Size&&(t=t.toArray()),this.Om=t},Gs);function Gs(t){this.CLASS_NAME="AMap.Icon",this._opts={size:[0,0],imageOffset:new Y.Pixel(0,0),image:AMap.getConfig().protocol+"://webapi.amap./theme/v1.3/markers/0.png"},this.Om=[];var i=t.size,n=t.imageSize,s=t.image,t=t.imageOffset;i&&this.setSize(i),n&&this.setImageSize(n),t&&this.setImageOffset(t),s&&this.setImage(s)}var Ns,_s="AMap.Overlay",bt=(Ns=Y.Event,Y.Ei(Us,Ns),Us);function Us(){var t=null!==Ns&&Ns.apply(this,arguments)||this;return t.type=_s,t.className=_s,t}var Ys,Jt=(Ys=Y.Event,Y.Ei(Zs,Ys),Zs);function Zs(){var t=null!==Ys&&Ys.apply(this,arguments)||this;return t.type=_s,t.className=_s,t}var Xs,Hs="AMap.DOMOverlay",Ks={top:"top",right:"right",bottom:"bottom",left:"left",Nm:"top-left",$m:"top-center",Um:"top-right",Bm:"middle-left",center:"center",Wm:"middle-right",Gm:"bottom-left",Zm:"bottom-center",qm:"bottom-right"},$s_Ym="viewchange",te=[10,0,0,0],ie={map:null,visible:!0,offset:[0,0],anchor:"top-left",rotate:0,orientation:null,scale:1,zooms:Y.zoomRange,noSelect:!1,innerOverlay:!1,isCustom:!1},ni=(Xs=Jt,Y.Ei(ne,Xs),ne.prototype.getOptions=function(){return this._options},ne.prototype.add=function(t){for(var i=this._map,n=0,s=t=void 0===t?[]:t;n<s.length;n++)s[n].add(i)},ne.prototype.remove=function(t){for(var i=0,n=t=void 0===t?[]:t;i<n.length;i++)n[i].remove()},ne.prototype.updateOverlay=function(t){if(t)for(var i=0,n=t;i<n.length;i++)n[i].updateOverlay();else{var s=!this.aZ&&this.viewChange;this.aZ=!1;var e,r=this._overlays;for(e in r)r.hasOwnProperty(e)&&r[e].updateOverlay({viewChange:s})}},ne.prototype.iy=function(t){this.updateOverlay()},ne.prototype.addToGroup=function(t){var i=this._container,n=this._overlays,s=t.hS,e=t.dom;i.appendChild(e),n[s]=t},ne.prototype.removeFromGroup=function(t){var i=this._container,n=this._overlays,s=t.hS,t=t.dom;i.removeChild(t),delete n[s]},ne.prototype.vi=function(t){return null},ne.prototype.destroy=function(){this.ey();var t,i=this._overlays;for(t in i)i.hasOwnProperty(t)&&i[t].remove();this._overlays={},this._container&&w.remove(this._container)},ne.prototype.getAllOverlays=function(){var t,i,n=this._overlays,s=[];for(t in n)!n.hasOwnProperty(t)||(i=n[t])&&s.push(i);return s},ne.prototype.ny=function(){this._map},ne.prototype.ey=function(){var t=this._map,i=$s_Ym;t.off(i,this.iy)},ne);function ne(t,i){void 0===i&&(i={});var n=Xs.call(this)||this;return n.type="AMap.DOMOverlayGroup",n.viewChange=!1,n.aZ=!1,n._options={zIndex:120},n._overlays={},t=(n._map=t).kv,n._parent=t.querySelector(".amap-layers"),i=i.className,n._className=i,n.iy=n.iy.bind(n),n.ny(),n}var se,St=(se=bt,Y.Ei(ee,se),Object.defineProperty(ee.prototype,"CLASS_NAME",{get:function(){return this.className},eb:!1,nb:!0}),ee.prototype.getMap=function(){return this._map||null},ee.prototype.setMap=function(t){t instanceof Xe?this.add(t):null==t&&this.remove()},ee.prototype.addTo=function(t){this.add(t)},ee.prototype.add=function(t){t&&(this._add(t),this._parent&&(this._parent.addToGroup(this),this.updateOverlay()))},ee.prototype.remove=function(){this._map&&this._parent&&(this._parent.removeFromGroup(this),this._remove())},ee.prototype.show=function(){this._opts.visible=!0,this.updateOverlay()},ee.prototype.hide=function(){this._opts.visible=!1,this.updateOverlay()},ee.prototype.getPosition=function(){var t=this._position;return t?Y.Bs(t)?t:new Y.LngLat(t[0],t[1]):null},ee.prototype.setPosition=function(t){this._position=t,this.updateOverlay()},ee.prototype.getAnchor=function(){return this._opts.anchor||Ks.Nm},ee.prototype.setAnchor=function(t){t&&(this._opts.anchor=t,this.updateOverlay())},ee.prototype.getOffset=function(){var t=this._opts.offset||[0,0];return new Y.Pixel(t[0],t[1])},ee.prototype.setOffset=function(t){t&&(t instanceof Array||void 0===t.x||void 0===t.y||(this._opts.offset=[t.x,t.y]),this.updateOverlay())},ee.prototype.getAngle=function(){return this._opts.rotate||0},ee.prototype.setAngle=function(t){this._opts.rotate=t,this.updateOverlay()},ee.prototype.getOrientation=function(){return this._opts.orientation},ee.prototype.setOrientation=function(t){"number"==typeof t?(this._opts.orientation=t,this._opts.rotate=this.dP(t)):(this._opts.orientation=void 0,this._opts.rotate=0),this.updateOverlay()},ee.prototype.getSize=function(){return this._getSize()},ee.prototype.setSize=function(t){this._opts.size=Y.ay(t)?t.toArray():t,this.updateOverlay()},ee.prototype.getzIndex=function(){return this._opts.zIndex},ee.prototype.setzIndex=function(t){this._opts.zIndex=t,this.updateOverlay()},ee.prototype.getOptions=function(){return this._opts},ee.prototype.getContent=function(){return this._opts.content||""},ee.prototype.setContent=function(t){this._opts.content=t=void 0===t?"":t,this._size=[0,0],this._removeContent(),this._createDom(this.dom,t),this.updateOverlay()},ee.prototype.getBounds=function(){var t=this._position;return new lt(t,t)},ee.prototype.getVisible=function(){return void 0===this._opts.visible||this._opts.visible},ee.prototype.updateOverlay=function(t){t=void 0!==(t=(t=void 0===t?{}:t).viewChange)&&t,this._map&&this._setStyle(t)&&this._applyStyle(t)},ee.prototype.uZ=function(t){t=void 0!==(t=(t=void 0===t?{}:t).viewChange)&&t,this._map&&(this._setStyle(t),this._applyStyle(t))},ee.prototype.destroy=function(){this.dom&&w.remove(this.dom)},ee.prototype.getCursor=function(){if(this._map)return this._map.getDefaultCursor()},ee.prototype.getContentDom=function(){return this.dom},ee.prototype._add=function(t){},ee.prototype._remove=function(){this._map=null,this._parent=null},ee.prototype._createContainer=function(){var t=document.createElement("div");return w.addClass(t,this._className),t},ee.prototype._createDefaultInnerDom=function(){return document.createElement("div")},ee.prototype._setStyle=function(t){void 0===t&&(t=!1);var i=this._position,n=this._points=this._map&&i&&this._map.lngLatToContainer(i).toArray(),s=(this._map&&this._map.getRotation(),this._style),e=this._map&&this._map.getZoom(),r=this._opts.zooms||[2,20],h=void 0===this._opts.visible||this._opts.visible,o=e&&(e<r[0]||e>r[1]),a=s.visible;void 0!==h&&(s.visible=h),h&&(s.visible=!o);var u=this.ZF(n);s.visible&&(s.visible=!u);var c=(f=this._opts).zIndex,e=void 0===(i=f.anchor)?Ks.Nm:i,h=void 0===(r=f.offset)?[0,0]:r,o=f.rotate,u=f.scale,i=f.noSelect,r=f.orientation,f=[0,0];return"number"==typeof r?s.rotate=this.dP(r):void 0!==o&&(s.rotate=o),a!==s.visible&&this._map&&(this._map.render(),this._parent)?!(this._parent.aZ=!0):(t?n&&(s.left=n[0]+"px",s.top=n[1]+"px",f=s.translate):(this._getContentSize(),(c=this._getStyleZIndex(c))&&(s.zIndex=c),void 0!==u&&(s.scale=u),n&&(s.left=n[0]+"px",s.top=n[1]+"px"),(e||h)&&(f=this._getOffset(e,h),s.translate=f,s.transformOrigin=-f[0]+"px "+-f[1]+"px"),s.pointerEvents=!0===i?"none":"auto"),f="translate("+f[0]+"px, "+f[1]+"px) scale("+s.scale+") rotate("+s.rotate+"deg)",Y.Support.ie&&(s.msTransform=f),s.transform=f,!0)},ee.prototype._getStyleZIndex=function(t){return t},ee.prototype._getSize=function(){var n=void 0===(i=(t=(t=this._opts.size||[])instanceof Y.Size?t.toArray():t)[0])?0:i,i=void 0===(s=t[1])?0:s,s=(t=this._size)[0],t=t[1];return[n||(void 0===s?0:s),i||(void 0===t?0:t)]},ee.prototype._getContentSize=function(){var t=this._style,i=this._getSize(),n=0,s=0;i[0]&&i[1]?(n=i[0],s=i[1]):this.dom&&(i=this.dom,n=Math.ceil(i.offsetWidth)||0,s=Math.ceil(i.offsetHeight)||0,this._size=[n,s]),t.width=n+"px",t.height=s+"px",t.size=[n,s]},ee.prototype._applyStyle=function(t){void 0===t&&(t=!1);var i,n,s=this._style,e=this.dom;for(i in s)s.hasOwnProperty(i)&&("visible"!==i?t?"top"!==i&&"left"!==i&&"transform"!==i&&"msTransform"!==i||(e.style[i]=s[i]):"width"!==i&&"height"!==i?"translate"!==i&&"scale"!==i&&"rotate"!==i&&(e.style[i]=s[i]):"0px"===s[i]||(n=this._opts.size)&&"AMap.InfoWindow"!==this.type&&("width"===i&&(e.style[i]=n[0]+"px"),"height"===i&&(e.style[i]=n[1]+"px")):(n=s[i]?"block":"none",e.style.display=n))},ee.prototype._getOffset=function(t,i){var t=(n=this._getAnchorOffset(t))[0],n=n[1];return[t+i[0],n+i[1]]},ee.prototype._getAnchorOffset=function(t){var n=(i=this._style.size)[0],s=i[1],i=Ks,e=0,r=0;if(Array.isArray(t))return t;switch(t){case i.Nm:e=0;break;case i.$m:e=-n/2;break;case i.Um:e=-n;break;case i.Bm:e=0,r=-s/2;break;case i.center:e=-n/2,r=-s/2;break;case i.Wm:e=-n,r=-s/2;break;case i.Gm:r=-s;break;case i.Zm:e=-n/2,r=-s;break;case i.qm:e=-n,r=-s}return[e,r]},ee.prototype._createDom=function(t,i){return i&&("object"==typeof i&&i instanceof HTMLElement?t.appendChild(i):t.innerHTML=i),t},ee.prototype._removeContent=function(){this.dom.innerHTML=""},ee.prototype._formatSize=function(t){return[t.getWidth(),t.getHeight()]},ee.prototype.ZF=function(t){var i,n=this._map,s=!1;return n&&t&&"3D"===(i=n.getView()).type&&(n=i.Uu(),i=te,t&&t[1]-n-i[0]<=0&&(s=!0)),s},ee.prototype._getRotationByPoints=function(t,i){var n=i.y-t.y,s=i.x-t.x,e=0;return(0!=n||0!=s)&&(i.x-t.x!=0?(e=Math.atan((i.y-t.y)/(i.x-t.x)),0<=n&&s<0||n<0&&s<=0?e=Math.PI+e:n<0&&0<=s&&(e=2*Math.PI+e)):e=i.y>t.y?Math.PI/2:3*Math.PI/2,Math.round(180*e/Math.PI*10)/10)},ee.prototype._getRotationByLngLats=function(t,i){var n=null===(n=this._map)||void 0===n?void 0:n.getProjection().project(t.KL,t.kT),i=(t=null===(t=this._map)||void 0===t?void 0:t.getProjection().project(i.KL,i.kT))[0]-n[0],t=t[1]-n[1],n=0;return(0!=i||0!=t)&&(0!=t?(n=Math.atan(i/t),0<=i&&0<t||(0<=i&&t<0||i<0&&t<0?n=Math.PI+n:i<0&&0<t&&(n=2*Math.PI+n))):n=0<i?Math.PI/2:3*Math.PI/2,Math.round(180*n/Math.PI*10)/10)},ee.prototype.dP=function(t){var i=0,n=this._position,s=this._map;return s&&n&&(t=this.pP(n,t),n=s.lngLatToContainer(n),t=s.lngLatToContainer(t),i=!1===(t=this._getRotationByPoints(n,t))?0:t+Math.PI),i+90},ee.prototype.pP=function(t,i){var n;return(t=null===(n=this._map)||void 0===n?void 0:n.getProjection().project(t[0],t[1]))[0]+=Math.sin(i*Math.PI/180)*Math.pow(2,18-this._map.getZoom()),t[1]+=Math.cos(i*Math.PI/180)*Math.pow(2,18-this._map.getZoom()),null===(i=this._map)||void 0===i?void 0:i.getProjection().unproject(t[0],t[1])},ee.prototype.vP=function(t){return 10/Math.pow(2,t-2)},ee);function ee(t,i){void 0===t&&(t={}),void 0===i&&(i={});var n=se.call(this)||this;n.type=Hs,n.className=Hs,n._style={width:0,height:0,size:[0,0],position:"absolute",top:0,left:0,translate:[0,0],rotate:0,scale:1,transformOrigin:[0,0],zIndex:12,visible:!0,draggable:!1,zooms:Y.zoomRange,noSelect:!1},n._size=[0,0],n._dragObjects={sy:[0,0],hy:[0,0],ly:[0,0]},n._className="amap-overlay",n._originOpts=t,n._opts=Y.assign({},ie,t),n._opts.angle&&(n._opts.rotate=n._opts.angle),!t.offset||t.offset instanceof Array||void 0===t.offset.x||void 0===t.offset.y||(n._opts.offset=[t.offset.x,t.offset.y]),n.hS=Y.Util.stamp(n);var s=i.className,i=i.anchor;return n._className=s,!t.anchor&&i&&(n._opts.anchor=i),s=t.content,i=n._createContainer(),n.dom=n._createDom(i,s),n._position=t.position,n.updateOverlay(),n}var re,he={uy:"AMap.Marker",py:"amap-markers",vy:"amap-marker",my:"//webapi.amap.com/theme/v1.3/markers/b/mark_bs.png",yy:120,xy:12,by:2,gy:Math.pow(2,31)},oe=Y.assign({},ie,{title:"",clickable:!0,draggable:!1,bubble:!1,topWhenClick:!1,zIndex:he.xy,cursor:"pointer",extData:{}}),ae=(re=ni,Y.Ei(ue,re),ue.prototype.vi=function(t){if(t=t.target,Y.isEmpty(this._overlays)||!t)return null;var i=w.closest(t,"amap-marker"),t=this._overlays,n=null;return i&&Y.forEach(t,function(t){t.dom===i&&(n=t)}),n},ue.prototype.setTop=function(t){var i;t&&((i=this.Kl)&&i!==t&&i.setTop(!1),this.Kl=t)},ue.prototype._createContainer=function(t){var i=document.createElement("div");return w.addClass(i,this._className),t.appendChild(i),i},ue);function ue(t){return(t=re.call(this,t,{className:he.py})||this).type=he.uy,t.className=he.uy,t._container=t._createContainer(t._parent),t}var fe,ce=(fe=St,Y.Ei(le,fe),le.prototype.getTitle=function(){return this._opts.title},le.prototype.setTitle=function(t){this._opts.title=t,this.dom&&this.dom.setAttribute("title",t)},le.prototype.getIcon=function(){return this._opts.icon},le.prototype.setIcon=function(t){t&&(this._opts.icon=t,this._opts.content||this._removeContent(),"AMap.Icon"===t.CLASS_NAME&&(this._opts.size=t.getSize()),this.wy(),this.updateOverlay())},le.prototype.getLabel=function(){return this._opts.label||{}},le.prototype.setLabel=function(t){var i=this._opts.label||{};this._opts.label=Y.assign(i,t);var n=i.content,i=void 0===(t=i._needUpdate)||t;n?(t=void 0,!(t=this._y?this.ky(n,this._y):this._y=this.ky(n))||(11<=(n=void 0,n=this.v0())||n<0)&&this.d0(),this.dom&&this.dom.appendChild(t),i&&this.updateOverlay()):this._y&&(w.remove(this._y),this._y=null)},le.prototype.getClickable=function(){var t=this._opts.clickable;return!(void 0!==t&&!t)},le.prototype.setClickable=function(t){this._opts.clickable=!!(t=void 0===t||t)},le.prototype.getDraggable=function(){var t=this._opts.draggable;return void 0!==t&&t},le.prototype.setDraggable=function(t){(this._opts.draggable=t)?this._bindEvents():this.T_()},le.prototype.getTop=function(){return this._isTop},le.prototype.setTop=function(t){this._isTop=t=void 0!==t&&t;var i=this._parent;i&&t&&i.setTop(this),this.updateOverlay()},le.prototype.getCursor=function(){var t=this._opts.cursor;return!t&&this._map?this._map.getDefaultCursor():t},le.prototype.setCursor=function(t){t&&(this._opts.cursor=t)},le.prototype.getExtData=function(){return this._opts.extData},le.prototype.setExtData=function(t){this._opts.extData=t},le.prototype.remove=function(){this.T_(),this.ZH(),fe.prototype.remove.call(this)},le.prototype.moveTo=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];console.log("Should implement AMap.moveAnimation plugin first.")},le.prototype.moveAlong=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];console.log("Should implement AMap.moveAnimation plugin first.")},le.prototype.startMove=function(){console.log("Should implement AMap.moveAnimation plugin first.")},le.prototype.stopMove=function(){console.log("Should implement AMap.moveAnimation plugin first.")},le.prototype.pauseMove=function(){console.log("Should implement AMap.moveAnimation plugin first.")},le.prototype.resumeMove=function(){console.log("Should implement AMap.moveAnimation plugin first.")},le.prototype.setOptions=function(t){this._opts=Y.assign({},oe,this._opts,t),t.content&&this.setContent(t.content),t.offset&&this.setOffset(t.offset),t.title&&this.setTitle(t.title),t.label&&this.setLabel(t.label),t.draggable&&this.setDraggable(!0),this.updateOverlay()},le.prototype.updateOverlay=function(t){fe.prototype.updateOverlay.call(this,t=void 0===t?{}:t),t=this._y,this._opts.label&&t&&(!t.parentElement&&this.dom&&this.dom.appendChild(t),0<(t=void 0,t=this.v0())&&t<11&&this.My(),this.Ry())},le.prototype.emit=function(t,i){var n=this.getCursor();return this._map&&("mouseout"===t?this._map.setCursor():this._map.setCursor(n)),"click"===t?this.getClickable()&&(fe.prototype.emit.call(this,t,i),void 0!==(n=this.getOptions().topWhenClick)&&n&&this.setTop(!0)):"dragstart"===t||"dragging"===t||"dragend"===t?(Y.Support.$e||i.originEvent.buttons&&2!==i.originEvent.buttons&&i.originEvent.preventDefault(),this.getDraggable()&&fe.prototype.emit.call(this,t,i)):fe.prototype.emit.call(this,t,i),this},le.prototype.toGeometry=function(){var t=this.getPosition();if(t)return{type:"Point",coordinates:t&&t.toJSON()}},le.prototype.v0=function(){var t=navigator.userAgent,i=-1<t.indexOf("compatible")&&-1<t.indexOf("MSIE"),n=-1<t.indexOf("Edge")&&!i,s=-1<t.indexOf("Trident")&&-1<t.indexOf("rv:11.0");return i?(new RegExp("MSIE (\\d+\\.\\d+);").test(t),7===(t=parseFloat(RegExp.$1))?7:8===t?8:9===t?9:10===t?10:6):n?"edge":s?11:-1},le.prototype.d0=function(){var t=this;new MutationObserver(function(){t._opts.label&&t.My()}).observe(this._y,{attributes:!0,characterData:!0,childList:!0,subtree:!0})},le.prototype._add=function(t){this._map=t,this._parent=t.pi,this.updateOverlay()},le.prototype._createDom=function(t,i){return this.dom=fe.prototype._createDom.call(this,t,i),this.wy(),t},le.prototype._createDefaultInnerDom=function(){var t=document.createElement("img");return t.setAttribute("width","19px"),t.setAttribute("height","32px"),t.setAttribute("src",he.my),this._size=[19,32],t},le.prototype._getMarkerOffset=function(t,i){return i},le.prototype._getStyleZIndex=function(t){var i;return this._isTop?i=he.gy:void 0!==t&&(i=t),i},le.prototype._createIcon=function(n,s){var e=this,t=n.getImage(),i=n.getSize(),r=n.getImageSize(),h=n.getImageOffset(),o=document.createElement("div");o.className="amap-icon",o.style.overflow="hidden";var a=document.createElement("img");return a.onload=function(){var t=a.width,i=a.height;n.Em([t,i]),e._size=r&&r.length?r:[t,i],i=e._getSize(),e._setIconSize(o,a,i,r),s&&s()},a.onerror=function(){},o.appendChild(a),this._setIconStyle(o,a,{size:i,imageSize:r,imageOffset:h}),a.src=t,o},le.prototype._setIconStyle=function(t,i,n){var e=void 0===(s=n.size)?[0,0]:s,s=void 0===(s=n.imageSize)?[0,0]:s,n=void 0===(n=n.imageOffset)?[0,0]:n;i.style.top=n[1]+"px",i.style.left=n[0]+"px",this._setIconSize(t,i,e,s)},le.prototype._setIconSize=function(t,i,n,s){var e=n[0],r=n[1],n=s[0],s=s[1];e&&(t.style.width=e+"px"),r&&(t.style.height=r+"px"),n&&s&&(i.style.width=n+"px",i.style.height=s+"px")},le.prototype._removeContent=function(){this.dom.innerHTML="",this._opts.label&&this.setLabel(this._opts.label)},le.prototype._getD=function(){return this.dom},le.prototype.wy=function(){var t=this,i=this._opts,n=i.content,s=i.icon,e=i.text;!n&&s?(i="string"==typeof s?new Ws({image:s}):s,i=this._createIcon(i,function(){t.updateOverlay(),t._opts.label&&t.My()}),this.dom.appendChild(i)):n||s||e||(e=this._createDefaultInnerDom(),this._originOpts.anchor||(this._opts.anchor="bottom-center"),this.dom.appendChild(e))},le.prototype.ky=function(t,i){return i||((i=document.createElement("div")).className="amap-marker-label"),i.innerHTML=t,i},le.prototype.My=function(){var t=this._style.size,i=this._opts.label,s=void 0===(n=i.offset)?[0,0]:n,r=(e=s=Y.oy(s)?s.toArray():s)[0],n=e[1],s=this._y.offsetWidth,e=this._y.offsetHeight,e=this.zy.size=[s,e],n=(e=[(e=this.Sy(i,t,e))[0]+r,e[1]+n])[0];this.zy.top=e[1],this.zy.left=n},le.prototype.Sy=function(t,i,n){var t=t.direction,e=i[0],r=i[1],h=n[0],o=n[1],a=0,u=0;switch(void 0===t?"right":t){case Ks.Nm:a=0,u=-o;break;case Ks.top:case Ks.$m:a=e/2-h/2,u=-o;break;case Ks.Um:a=e,u=-o;break;case Ks.right:case Ks.Wm:a=e,u=r/2-o/2;break;case Ks.center:a=e/2-h/2,u=r/2-o/2;break;case Ks.left:case Ks.Bm:a=-h,u=r/2-o/2;break;case Ks.Gm:a=0,u=r;break;case Ks.bottom:case Ks.Zm:a=e/2-h/2,u=r;break;case Ks.qm:a=e,u=r;break;default:a=e/2-h/2,u=-o}return[a,u]},le.prototype.Ry=function(){var t=this.zy,i=t.top,n=t.left;(t=this._y).style.top=i+"px",t.style.left=n+"px"},le.prototype._bindEvents=function(){this.on("dragstart",this.Cy.bind(this)),this.on("dragging",this._dragging.bind(this)),this.on("dragend",this.Ly.bind(this))},le.prototype.XH=function(){this.dom&&(this.dom.ondragstart=function(){return!1})},le.prototype.T_=function(){this.off("dragstart",this.Cy.bind(this)),this.off("dragging",this._dragging.bind(this)),this.off("dragend",this.Ly.bind(this))},le.prototype.ZH=function(){this.dom&&(this.dom.ondragstart=null)},le.prototype.Cy=function(t){this.Ay(t)},le.prototype._dragging=function(t){var n=(i=this._dragObjects.sy).x,s=i.y,i=(e=t.pixel).x,e=e.y,s=(n=Y.vector.Ip([i,e],[n,s]))[0],n=n[1],n=(s=Y.vector.add([s,n],this._points))[0],s=s[1];this._map&&(s=this._map.containerToLngLat([n,s]),this.setPosition(s.toJSON()),this.Ay(t))},le.prototype.Ly=function(t){},le.prototype.Ay=function(t){this._dragObjects={sy:t.pixel,hy:t.pos,ly:t.lnglat}},le);function le(t){var i=fe.call(this,t=void 0===t?{}:t,{className:he.vy})||this;i.type=he.uy,i.className=he.uy,i._isTop=!1,i.zy={width:0,height:0,size:[0,0],top:0,left:0,translate:[0,0],zIndex:he.by},i._opts=Y.assign({},oe,i._opts);var n=i._opts.size,s=i._opts.icon;return!n&&s instanceof Ws&&(n=s.getSize(),i._opts.size=n),n instanceof Y.Size&&(i._opts.size=i._formatSize(n)),t.title&&i.setTitle(t.title),t.label&&i.setLabel(t.label),t.draggable&&i.setDraggable(!0),(t=t.map)&&t instanceof Xe&&i.add(t),i.XH(),i}var de,ve,pe={getViewport:function(t){return t?[t.clientWidth,t.clientHeight]:[0,0]},getStyle:function(t,i){var n,s=t.style[i];return"auto"===(s=(s=(s=s&&"auto"!==s||!document.defaultView?s:(n=document.defaultView.getComputedStyle(t,null))?n[i]:null)&&"auto"!==s||"height"!==i?s:t.clientHeight+"px")&&"auto"!==s||"width"!==i?s:t.clientWidth+"px")?null:s},getViewportOffset:function(t){var i,n=0,s=0,e=t,r=document.body,h=document.documentElement;do{if(n+=e.offsetTop||0,s+=e.offsetLeft||0,n+=parseInt(pe.getStyle(e,"borderTopWidth"),10)||0,s+=parseInt(pe.getStyle(e,"borderLeftWidth"),10)||0,i=pe.getStyle(e,"position"),e.offsetParent===r&&"absolute"===i)break;if("fixed"===i){n+=r.scrollTop||h.scrollTop||0,s+=r.scrollLeft||h.scrollLeft||0;break}}while(e=e.offsetParent);for(e=t;e!==r&&(n-=e.scrollTop||0,s-=e.scrollLeft||0,!pe.m()&&Y.Support.webkit&&(s+=e.scrollWidth-e.clientWidth),e=e.parentNode););return[s,n]},m:function(){return de||(ve="ltr"===pe.getStyle(document.body,"direction"),de=!0),ve},create:function(t,i,n,s){return t=document.createElement(t),n&&(t.className=n),i&&(s&&"before"===s?(s=i.firstChild,i.insertBefore(t,s)):i.appendChild(t)),t},toggleClass:function(t,i,n){n?this.addClass(t,i):this.removeClass(t,i)},hasClass:function(t,i){if(t&&i)return 0<t.className.length&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(t.className)},addClass:function(t,i){t&&i&&(t.classList&&t.classList.add?t.classList.add(i):this.hasClass(t,i)||(t.className+=(t.className?" ":"")+i))},setClass:function(t,i){t&&(t.className=i||"")},removeClass:function(t,n){t&&n&&(t.classList&&t.classList.remove?t.classList.remove(n):t.className=t.className.replace(/(\S+)\s*/g,function(t,i){return i===n?"":t}).replace(/(^\s+|\s+$)/,""))},watchSize:function(n,s,e){var i=document.createElement("iframe");i.style.cssText="width: 100%;height: 100%;position: absolute;pointEvents:none; opacity:0; margin: 0;padding: 0;border: none;",i.onload=function(){i&&(i.contentWindow.onresize=t)},n.appendChild(i),i.src="about:blank";var r=0,h=0;function t(){e.k=n.getBoundingClientRect(),e.M=[n.clientLeft,n.clientTop];var t=n.offsetWidth,i=n.offsetHeight;t===r&&i===h||(s(t,i),r=t,h=i)}return t(),e.resize=t,window.onscroll=t,function(){var t;e.resize&&(e.resize=null),window.onscroll&&(window.onscroll=null),i.contentWindow&&(i.contentWindow.onresize=null,i.contentWindow.document.write(""),i.parentNode.removeChild(i),null!==(t=i.contentWindow)&&void 0!==t&&t.close())}},watchSize2:function(n,s,e){var r=document.createElement("_");r.className="expand";var h=r.appendChild(document.createElement("_"));h.className="shrink";var o=r.appendChild(document.createElement("_"));o.className="expandChild";var a,u,t=h.appendChild(document.createElement("_"));return t.className="shrinkChild",h.style.cssText=r.style.cssText="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1",t.style.cssText=o.style.cssText="display:block;height:100%;transition:0s;width:100%",t.style.width=t.style.height="200%",n.appendChild(r),f(),function(){c(),n.removeChild(r)};function f(){c(),e.k=n.getBoundingClientRect(),e.M=[n.clientLeft,n.clientTop];var t=n.offsetWidth,i=n.offsetHeight;t===a&&i===u||(a=t,u=i,o.style.width=2*t+"px",o.style.height=2*i+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,h.scrollLeft=h.scrollWidth,h.scrollTop=h.scrollHeight,s(t,i)),h.addEventListener("scroll",f),r.addEventListener("scroll",f)}function c(){h.removeEventListener("scroll",f),r.removeEventListener("scroll",f)}},mousePos:function(t,i,n){return t&&(n.k=t.getBoundingClientRect(),n.M=[t.clientLeft,t.clientTop]),t=n.k,[(i=i.touches&&i.changedTouches?0<i.touches.length?i.touches[0]:i.changedTouches[i.changedTouches.length-1]:i).clientX-t.left-n.M[0],i.clientY-t.top-n.M[1]]},remove:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},closest:function(t,i){return t?this.hasClass(t,i)?t:(t=t.parentElement)?pe.closest(t,i):null:null},fillText:function(t,i){if(t)return void 0!==t.textContent?t.textContent=i:void 0!==t.innerText?t.innerText=i:t.innerHTML=i,t},_L:function(t){for(var i=document.documentElement.style,n=0;n<t.length;n+=1)if(t[n]in i)return t[n];return!1},rotate:function(t,i,n){var s,e=pe.kL;n=n||{x:t.clientWidth/2,y:t.clientHeight/2},e?(s="",t.style[e]=s+=" rotate("+i+"deg)",t.style[pe.ML[e]+"-origin"]=n.x+"px "+n.y+"px"):(e=Math.cos(i*Math.PI/180),i=Math.sin(i*Math.PI/180),t.style.filter="progid:DXImageTransform.Microsoft.Matrix()",0<t.filters.length&&((t=t.filters.item(0)).Dx=-n.x*e+n.y*i+n.x,t.Dy=-n.x*i-n.y*e+n.y,t.M11=t.M22=e,t.M12=-(t.M21=i)))},setCss:function(t,i){t=t instanceof Array?t:[t];for(var n=0;n<t.length;n+=1)for(var s in i)i.hasOwnProperty(s)&&(t[n].style[s]=i[s]);return this},setOpacity:function(t,i){t.style&&("opacity"in t.style?t.style.opacity=""+i:"filter"in t.style&&(i=Math.round(100*i),t.style.filter="",100!==i&&(t.style.filter=" progid:DXImageTransform.Microsoft.Alpha(opacity="+i+")")))},ML:{},kL:ve=de=!1};pe.kL=pe._L(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]),pe.ML={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};var me,ye={uy:"AMap.InfoWindow",JP:"",XP:"amap-info",QP:121,KP:8,tF:8,iF:[20,20,20,20]},be=Y.assign({},ie,{isCustom:!1,closeWhenClickMap:!1,anchor:"bottom-center",autoMove:!0,avoid:ye.iF}),ge=(me=ni,Y.Ei(ke,me),ke.prototype.addToGroup=function(t){this.Iy&&this._overlays[this.Iy]&&this.Iy!==t.hS&&this._overlays[this.Iy].remove(),this.Iy=t.hS,me.prototype.addToGroup.call(this,t)},ke.prototype.removeFromGroup=function(t){me.prototype.removeFromGroup.call(this,t),this.Iy=0},ke.prototype.close=function(){var t=this.Iy;(t=this._overlays[t])&&(this.Iy=0,t.close())},ke.prototype.vi=function(t){return t=t.target,this.Iy&&t&&pe.closest(t,"amap-info")?this._overlays[this.Iy]:null},ke.prototype.destroy=function(){this.Dy(),me.prototype.destroy.call(this)},ke.prototype.Rm=function(){this._map.on("click",this.Py)},ke.prototype.Dy=function(){this._map.off("click",this.Py)},ke);function ke(t){var n=me.call(this,t,{className:ye.JP})||this;return n.type=ye.uy,n.Py=function(t){var i=n.Iy,i=n._overlays[i];!pe.closest(t.originEvent.target,"amap-info")&&i&&i.getOptions().closeWhenClickMap&&(n.Iy=0,i.close())},n._container=n._parent,n.Rm(),n}var Me,we=(Me=St,Y.Ei(xe,Me),xe.prototype.open=function(t,i,n){t&&t instanceof Xe&&i?(this._opts.visible=!0,this.add(t),this.setPosition(i),this.jy(),this.emit("open"),this.GF()):t&&this._position?(this._opts.visible=!0,this.add(t),this.jy(),this.emit("open"),this.GF()):this._map&&this._position&&(this._opts.visible=!0,this.updateOverlay(),this.emit("open"),this.GF())},xe.prototype.close=function(){this._parent&&(this._opts.visible=!1,this.updateOverlay(),this.emit("close"))},xe.prototype.getIsOpen=function(){return!(!this._map||!this._opts.visible)},xe.prototype.setSize=function(t){t instanceof Y.Size&&(t=t.toArray()),this._opts.size=t,this.updateOverlay()},xe.prototype.setContent=function(t){Me.prototype.setContent.call(this,t=void 0===t?"":t),this.jy()},xe.prototype.setAnchor=function(t){var i,n=this.dom&&this.dom.querySelector(".amap-info-contentContainer");t&&n&&((i=this.g_([].slice.call(n.className.split(" "))))&&pe.removeClass(n,i),this._size=[0,0],pe.addClass(n,t)),Me.prototype.setAnchor.call(this,t)},xe.prototype.getDraggable=function(){return!1},xe.prototype.setOptions=function(t){this._opts=Y.assign({},be,this._opts,t)},xe.prototype.updateOverlay=function(t){void 0===t&&(t={}),this._map&&(t=t.viewChange,this._setStyle(t=void 0!==t&&t),this._applyStyle(t),t=this._getSize(),this.Fy&&t[0]&&window.getComputedStyle(this.Fy).boxSizing)},xe.prototype.getBounds=function(){return null},xe.prototype.getExtData=function(){return this._opts.extData||null},xe.prototype.setExtData=function(t){this._opts.extData=t},xe.prototype._add=function(t){this._map=t,this._parent=t.di,this.updateOverlay()},xe.prototype._remove=function(){Me.prototype._remove.call(this),this.Ey()},xe.prototype._createDefaultInnerDom=function(){return document.createElement("div")},xe.prototype._createDom=function(t,i){var n=this.Ny(t);return this.$y(n,i),t},xe.prototype._getContentSize=function(){var t,i,n=this._style,s=this._getSize();s[0]&&s[1]&&!this._opts.isCustom?(t=s[0],i=s[1]):(s=this.dom.querySelector(".amap-info-contentContainer"))&&(t=s.clientWidth,i=s.clientHeight,this._size=[t,i]),n.width=t+"px",n.height=i+"px",n.size=[t,i]},xe.prototype._getAnchorOffset=function(t){return[(t=Me.prototype._getAnchorOffset.call(this,t))[0],t[1]]},xe.prototype.Ny=function(t){var i=document.createElement("div");pe.addClass(i,"amap-info-shadowContainer");var n=document.createElement("div");return pe.addClass(n,"amap-info-contentContainer"),n.addEventListener("touchstart",function(t){t.cH="infoWindow"}),t.style.position="absolute",i.style.position="absolute",t.appendChild(i),t.appendChild(n),n},xe.prototype.$y=function(t,i){var s=(n=this._opts).isCustom,n=n.anchor;void 0!==s&&s?"object"==typeof i&&i instanceof HTMLElement?t.appendChild(i):t.innerHTML=i+"":(s=this.Fy=document.createElement("div"),pe.addClass(s,"amap-info-content"),pe.addClass(s,"amap-info-outer"),"object"==typeof i&&i instanceof HTMLElement?s.appendChild(i):s.innerHTML=i?i+"":"",i=document.createElement("a"),pe.addClass(i,"amap-info-close"),i.innerText="×",s.appendChild(i),i=document.createElement("div"),pe.addClass(i,"amap-info-sharp"),pe.addClass(t,n),t.appendChild(s),t.appendChild(i))},xe.prototype.jy=function(){var t=this.dom.querySelector(".amap-info-close");t&&t.addEventListener("click",this.close.bind(this))},xe.prototype.Ey=function(){var t=this,i=this.dom.querySelector(".amap-info-close");i&&i.removeEventListener("click",function(){t.close()})},xe.prototype.Oy=function(){if(this._position){var t=this._map;if(t&&this._opts.autoMove&&this.dom){for(var i=this._getSize(),n=new Y.Size(i[0],i[1]),s=t.lngLatToContainer(this._position).toArray(),e=this._getOffset(this.getAnchor(),this.getOffset().toArray()),r=Y.vector.add(s,e),h=Y.vector.add(r,i),o=t.getSize(),a=[this._opts.avoid||ye.iF],u=0,f=0,c=0;c<a.length;c+=1){var l=a[c],d=0,v=0;0!==l[3]&&0<(d=l[3]-(r[0]+u))&&(u+=d),0!==l[1]&&(d=o.getWidth()-l[1]-(h[0]+u))<0&&(u+=d),0!==l[0]&&0<(v=l[0]-(r[1]+f))&&(f+=v),0!==l[2]&&(v=o.getHeight()-l[2]-(h[1]+f))<0&&(f+=v)}r=Y.vector.add(r,[u,f]),h=Y.vector.add(h,[u,f]),r[i=e=0]<0||n.getWidth()>o.getWidth()?e=20-r[0]:o.getWidth()<h[0]&&(e=o.getWidth()-h[0]-25),r[1]<0||n.getHeight()>o.getHeight()?i=5-r[1]:o.getHeight()<h[1]&&(i=o.getHeight()-h[1]-15),i+=f,((e+=u)||i)&&t.panBy(e,i)}}},xe.prototype.GF=function(){var t,i,n,s,e,r,h,o,a,u,f,c;!this._position||(t=this._map)&&this._opts.autoMove&&this.dom&&(f=this._position,Y.Bs(f)&&(f=f.toArray()),i=(a=t.getSize()).getWidth()||0,n=a.getHeight()||0,s=this._getSize(),u=t.lngLatToContainer(f).toArray(),c=this._getOffset(this.getAnchor(),this.getOffset().toArray()),e=Y.vector.add(u,c),r=Y.vector.add(e,s),h=this._opts.avoid||ye.iF,o=e[0],a=e[1],u=!1,e[1]-h[0]<0&&(a=h[0],u=!0),r[0]+h[1]>i&&(o=i-s[0]-h[1],u=!0),r[1]+h[2]>n&&(a=n-h[2]-s[1],u=!0),e[0]-h[3]<0&&(o=h[3],u=!0),u&&(c=Y.vector.Ip([o,a],c),c=t.containerToLngLat(c).toArray(),c=Y.vector.Ip(c,f),f=t.getCenter().toArray(),c=Y.vector.Ip(f,c),t.panTo(c)))},xe.prototype.g_=function(t){var i,n,s=Ks;for(n in s)if(s.hasOwnProperty(n)){var e=s[n];if(-1!==t.indexOf(e)){i=e;break}}return i},xe);function xe(t){var i=Me.call(this,t=void 0===t?{}:t,{className:ye.XP,anchor:be.anchor})||this;return i.type=ye.uy,i._opts=Y.assign({},be,i._opts),i._originOpts.zIndex||(i._opts.zIndex=ye.QP),(t=i._opts.size)instanceof Y.Size&&(i._opts.size=i._formatSize(t)),i.jy(),i}var Ae,ze="AMap.ContextMenu",Ie=(Ae=ni,Y.Ei(De,Ae),De.prototype.addToGroup=function(t){this.Iy&&this._overlays[this.Iy]&&this.Iy!==t.hS&&this._overlays[this.Iy].remove(),this.Iy=t.hS,Ae.prototype.addToGroup.call(this,t)},De.prototype.removeFromGroup=function(t){Ae.prototype.removeFromGroup.call(this,t),this.Iy=0},De.prototype.vi=function(t){return t=t.target,this.Iy&&t&&w.closest(t,"amap-menu")?this._overlays[this.Iy]:null},De.prototype.destroy=function(){this.Uy(),Ae.prototype.destroy.call(this)},De.prototype.By=function(){this._map.on("viewchange",this.Wy),this._map.on("click",this.Py)},De.prototype.Uy=function(){this._map.off("viewchange",this.Wy),this._map.off("click",this.Py)},De);function De(t){var n=Ae.call(this,t,{className:""})||this;return n.type=ze,n.className=ze,n.Wy=function(){var t;!n.Iy||(t=n._overlays[n.Iy])&&!t.getOptions().aliveWhenMapClick&&n.removeFromGroup(t)},n.Py=function(t){var i=n.Iy,i=n._overlays[i];w.closest(t.originEvent.target,"amap-info")||!i||i.getOptions().aliveWhenMapClick||(n.Iy=0,i.close())},n._container=n._parent,n.By(),n}var Oe,Ee=(Oe=St,Y.Ei(Re,Oe),Re.prototype.open=function(t,i){t&&i?(this._opts.visible=!0,this.add(t),this.setPosition(i),this.emit("open")):this._map&&this._position&&(this._opts.visible=!0,this.updateOverlay(),this.emit("open"))},Re.prototype.close=function(){this._parent&&(this._opts.visible=!1,this.uZ(),this.emit("close"))},Re.prototype.addItem=function(t,i,n){this.Zy.push({content:t,fn:i,order:n}),this.qy(this.dom),this.updateOverlay()},Re.prototype.removeItem=function(t,i){for(var n=this.Zy,s=0;s<n.length;s++){var e=n[s];e.content===t&&e.fn===i&&(n.splice(s,1),s--)}this.qy(this.dom),this.updateOverlay()},Re.prototype.getBounds=function(){return null},Re.prototype.getDraggable=function(){return!1},Re.prototype._add=function(t){this._map=t,this._parent=t.vm,this.updateOverlay()},Re.prototype._createDefaultInnerDom=function(){return document.createElement("div")},Re.prototype._createDom=function(t,i){var n=this.dom=this.Yy();return this._opts.isCustom&&this._opts.content?Oe.prototype._createDom.call(this,n,this._opts.content):this.qy(n),n},Re.prototype.Yy=function(){var t=document.createElement("div");return w.addClass(t,this._className),t},Re.prototype.qy=function(t){var i=this.Vy(this.Zy),n=document.createElement("ul");w.addClass(n,"amap-menu-outer");for(var s=0,e=i;s<e.length;s++){var r=e[s],r=this.Xy(r);n.appendChild(r)}t.innerHTML="",t.appendChild(n)},Re.prototype.Vy=function(t){return(t=void 0===t?[]:t).sort(function(t,i){return isNaN(t.order)||isNaN(i.order)?0:t.order-i.order}),t},Re.prototype.Xy=function(i){var n=this,t=document.createElement("li");return t.innerHTML=i.content,t.addEventListener("click",function(t){i.fn(t),n._opts.aliveWhenMapClick||n.hide()}),t},Re);function Re(t){var i=Oe.call(this,t=void 0===t?{}:t,{className:"amap-menu"})||this;return i.type=ze,i.className=ze,i._opts={},i.Zy=[],i._opts=t,i._style.zIndex=140,i}function Pe(){this.Hy=!1,this.ex=null,this.Ky=this.nx()}Pe.prototype.open=function(t,i,n){var s,e,r,h,o,a,u,f,c,l=this;this.Hy||(s=this.Jy,e=AMap.getConfig().server+"/verify/",Y.Support.$e?(this.Ky.style.marginLeft=-Math.min(330,screen.width)/2+"px",document.body.appendChild(this.Ky)):(r=this.Qy("amap-container",document.body)[0])&&322<r.clientWidth&&346<r.clientHeight?(this.Ky.style.position="absolute",r.appendChild(this.Ky)):(o=h=0,r&&(r=w.getViewportOffset(r),h=r[0],o=r[1]),this.Ky.style.top="0%",this.Ky.style.left="0%",a=(.5-h)/5,u=(.5-o)/5,f=setInterval(function(){o+=u,.5-(h+=a)<.05&&.5-o<.05?(l.Ky.style.top="50%",l.Ky.style.left="50%",clearInterval(f)):(l.Ky.style.top=100*o+"%",l.Ky.style.left=100*h+"%")},25),document.body.appendChild(this.Ky)),c=!0,s.onload=function(){c?c=!1:l.Hy&&(l.Ky.parentNode&&l.Ky.parentNode.removeChild(l.Ky),l.Hy=!1,l.tx())},s.src=e+"jsapi.html?channel=JSAPI-"+t+"&from="+encodeURIComponent(e+"success.html")+"&th="+i+"&restUrl="+encodeURIComponent(n),this.Hy=!0)},Pe.prototype.ix=function(t){this.ex=t},Pe.prototype.tx=function(){this.ex&&this.ex()},Pe.prototype.Qy=function(t,i){if(window.getElementsByClassName)return window.getElementsByClassName(t,i);for(var n=(i||document).getElementsByTagName("*"),s=[],e=0;e<n.length;e+=1)for(var r=n[e],h=r.className.split(" "),o=0;o<h.length;o+=1)if(h[o]===t){s.push(r);break}return s},Pe.prototype.nx=function(){var t=document.createElement("div");t.className="amap-popup",t.style.zIndex="2147483647";var i=document.createElement("iframe");return i.className="amap-popup-content",t.appendChild(i),i.style.width=Math.min(330,screen.width)+"px",this.Jy=i,t};var je={"restapi.amap.com/v3/place/text":"KEYWORD","restapi.amap.com/v3/place/polygon":"POLYGON","restapi.amap.com/v3/place/around":"NEARBY","restapi.amap.com/v3/place/detail":"ID","restapi.amap.com/v3/geocode/regeo":"REGEO"},Be=new(It=Pe);Be.ix(function(){Fe.ox=!1;for(var t=Fe.ax,i=0,n=t.length;i<n;i+=1){var s=t[i];10<n-i?t[2]({status:"error",info:"TIME_OUT_A"}):Fe.get(s[0],s[1],s[2])}Fe.ax=[]});var Fe=(We.get=function(n,s,e,t){if(void 0===t&&(t={}),We.ox)We.ax.push([n,s,e]);else{var i,r=n.split("://")[1],h=je[r],o=void 0!==h,u=(a=AMap.getConfig()).key,f=a.version,c=a.appname,l=a.jscode,a=a.gaodeserver,d=n+"?platform=JS&s=rsv3&logversion=2.0&key="+u+"&sdkversion="+f+"&appname="+c+"&csid="+Y.Util.uuid();for(i in l?d+="&jscode="+l:a&&r&&"restapi.amap.com"===r.split("/")[0]&&(d=r.replace(r.split("/")[0],a)+"?platform=JS&s=rsv3&logversion=2.0&key="+u+"&sdkversion="+f+"&appname="+c+"&csid="+Y.Util.uuid()),s)s.hasOwnProperty(i)&&(d+="&"+i+"="+s[i]);qt.JSONP(d,function(t,i){"complete"===t?(i=i.data,o&&3e4===i.errcode&&i.data?(We.ox=!0,We.ax.push([n,s,e]),Be.open(h,i.data.host,d)):e(t,i)):e(t,i)},t)}},We.post=function(t,i,n){var e=(s=AMap.getConfig()).key,r=s.version,h=s.appname,o=s.jscode,a=s.gaodeserver,s=t.split("://")[1],t=t+"?platform=JS&s=rsv3&logversion=2.0&key="+e+"&sdkversion="+r+"&appname="+h+"&csid="+Y.Util.uuid();o?t+="&jscode="+o:a&&s&&"restapi.amap.com"===s.split("/")[0]&&(t=s.replace(s.split("/")[0],a)+"?platform=JS&s=rsv3&logversion=2.0&key="+e+"&sdkversion="+r+"&appname="+h+"&csid="+Y.Util.uuid()),qt.Ajax(t,{type:"POST",content:JSON.stringify(i),requestContentType:"text/plain"},function(t,i){"complete"===t?(i=i.data,n(t,JSON.parse(i))):n(t,i)})},We.ox=!1,We.ax=[],We);function We(){}function Ge(t,i,r){var n=AMap.getConfig(),s=n.server+"/v3/assistant/coordinate/convert",e=AMap.Util.parseLngLatData(t),h=[];if(e instanceof Array){for(var o=0,a=e.length;o<a;o+=1)h.push(e[o]+"");h=h.join(";")}else h=e+"";i={key:n.key,s:"rsv3",locations:h,coordsys:i||"gps"},AMap.WebService.get(s,i,function(t,i){if("complete"===t&&i.status&&"1"===i.status){for(var n=i.locations.split(";"),s=0;s<n.length;s+=1){var e=n[s].split(",");n[s]=new AMap.LngLat(e[0],e[1])}r&&"function"==typeof r&&r("complete",{info:"ok",locations:n})}else r&&"function"==typeof r&&r("error",i.info);"error"===t&&r("error",i.info)})}var Ne,_e=(Ue.prototype.setCenter=function(t){t instanceof Y.LngLat?this.cB=t.toArray():this.cB=t,this.dB=(t=this.map.getProjection()).project.apply(t,this.cB)},Ue.prototype.getCenter=function(){return this.cB},Ue.prototype.lngLatToCoord=function(t){var i=this.map.getProjection().project;return t instanceof Y.LngLat&&(t=t.toArray()),this.cB||this.setCenter(t),this.pB(i(t[0],t[1]),this.dB)},Ue.prototype.lngLatsToCoords=function(t){if(Y.Util.isArray(t)){var i=this.map.getProjection().project,n=[];if(Y.Util.vB(t[0]))this.cB||this.setCenter(t),n[0]=this.pB(i(t[0],t[1]),this.dB);else for(var s=0,e=t.length;s<e;s++){var r=t[s];if(Y.Util.vB(r[0]))this.cB||this.setCenter(r),n[s]=this.pB(i(r[0],r[1]),this.dB);else{for(var h=[],o=0,a=r.length;o<a;o++){var u=r[o];if(Y.Util.vB(u[0]))this.cB||this.setCenter(u),h[o]=this.pB(i(u[0],u[1]),this.dB);else{for(var f=[],c=0,l=r.length;c<l;c++){var d=u[c];Y.Util.vB(d[0])&&(this.cB||this.setCenter(d),f[c]=this.pB(i(d[0],d[1]),this.dB))}h[o]=f}}n[s]=h}}return 0<n.length?n:t}return t},Ue.prototype.getCameraParams=function(){this.mB();var t=this.map.getView(),i=t.pz(),n=this.pB(this.dB,this.Us);if("3D"===t.type){var s=i.lB(),e=s.fov,r=s.near,h=s.far,o=s.position,a=s.target,u=s.up;return{fov:e/Math.PI*180,near:r,far:h,position:Y.Pt(this.pB(o,n),[o[2]]),lookAt:Y.Pt(this.pB(a,n),[a[2]]),up:u}}if("2D"===t.type)return e=(s=i.lB()).rotation,r=s.near,h=s.far,a=s.top,u=s.bottom,t=s.left,i=s.right,o=s.position,{rotation:e,near:r,far:h,top:a,bottom:u,left:t,right:i,position:Y.Pt(this.pB(o,n),[o[2]])}},Ue.prototype.getMVPMatrix=function(){this.mB();var t=this.map.getView().pz(),i=this.pB(this.dB,this.Us),n=Y.Il();return this.Xl=t.Vl(),n.set([1,0,0,0,0,1,0,0,0,0,1,0,i[0],i[1],0,1]),Y.multiply(this.Xl,this.Xl,n),this.Xl},Ue.prototype.mB=function(){var i=(t=this.map.getView().getStatus()).optimalZoom,t=t.centerCoord;i>=Y.Ra?(t=Y.lcs.getLocalByCoord([t[0],t[1]]),this.Us=t.center):this.Us=[0,0]},Ue.prototype.pB=function(t,i){var n=[0,0];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n},Ue);function Ue(t){this.Us=[0,0],t||console.error("需要传入 map 实例对象。new AMap.CustomCoords(map);"),this.map=t,this.mB()}var Ze,Ye=[116.397128,39.916527],Xe=(Ze=Ps,Y.Ei(He,Ze),He.prototype.setCenter=function(t,i,n){void 0===i&&(i=!1),t instanceof Y.LngLat&&(t=t.toJSON()),!i&&this.Ev?this.viewChange({lng:t[0],lat:t[1]},n):this.om({center:t})},He.prototype.getStyleByUserId=function(t,i){return this.qY(t,i)},He.prototype.getCustomTypeByContainerPos=function(t){if(!(i=this.getCustomTypeByPos(t))||!i[0])return null;var n={},s=i[0][0],e={x:i[0][1],y:i[0][2],z:s},t=(i=t.lnglat).lng,i=i.lat,i=Y.ZY(s,s,t,i,e);return n.tileInnerCoord=i,n.tileCoord=e,n},He.prototype.getScreenShot=function(t,i){var n=this.getSize(),s=document.createElement("canvas"),e=s.getContext("2d");t=t||n.width,i=i||n.height,s.width=t,s.height=i,n.width,n.height;for(var r=this.do.childNodes,h=[],o=0;o<r.length;o+=1)h.push(r[o]);for(o=0;o<h.length;o+=1){var a=h[o];"CANVAS"===a.tagName&&e.drawImage(a,0,0,t,i)}return s.toDataURL()},He.prototype.updateView=function(t,i){this.om(t,i=void 0===i||i)},He.prototype.destroy=function(){delete this.hx,Ze.prototype.destroy.call(this)},He.prototype.setZoomAndCenter=function(t,i,n,s){void 0===n&&(n=!1),this.Pv||(t=this.getZoom()),i instanceof Y.LngLat&&(i=i.toJSON()),!n&&this.Ev?this.viewChange({lng:i[0],lat:i[1],zoom:t},s):this.om({center:i,zoom:t})},He.prototype.getBounds=function(){return new lt(this._view.getStatus().bounds)},He.prototype.getCenter=function(){var i=(t=this._view.getOptions().center)[0],t=t[1];return new Y.LngLat(+i.toFixed(6),+t.toFixed(6))},He.prototype.getGraphicInfo=function(){return this.wX()},He.prototype.setZoom=function(t,i,n){void 0===i&&(i=!1),this.Pv&&(!i&&this.Ev?this.viewChange({zoom:t},n):this.om({zoom:t}))},He.prototype.getZoom=function(t){return void 0===t&&(t=2),+this._view.getOptions().zoom.toFixed(t)},He.prototype.zoomIn=function(){this.setZoom(this.getZoom()+1)},He.prototype.zoomOut=function(){this.setZoom(this.getZoom()-1)},He.prototype.getPitch=function(){return this._view.getOptions().pitch},He.prototype.setPitch=function(t,i,n){!(i=void 0!==i&&i)&&this.Ev?this.viewChange({pitch:t},n):this.om({pitch:t})},He.prototype.getRotation=function(){return this._view.getOptions().rotation},He.prototype.setRotation=function(t,i,n){void 0===t&&(t=0),!(i=void 0!==i&&i)&&this.Ev?this.viewChange({rotation:t},n):this.om({rotation:t})},He.prototype.setBounds=function(t,i,n){void 0===i&&(i=!1),n=(void 0===n?[0,0,0,0]:n)||[0,0,0,0],t instanceof lt&&(t=t.toJSON()),n=this.em(t,n),this.setZoomAndCenter(n[2],[n[0],n[1]],i)},He.prototype.panTo=function(t,i){t instanceof Y.LngLat&&(t=t.toJSON()),this.viewChange({lng:t[0],lat:t[1]},i)},He.prototype.getBindHandler=function(){return this.hx},He.prototype.panBy=function(t,i,n){var s,e,r,h,o,a,u,f=this.getSize(),c=f.width/2-t,l=f.height/2-i,d=this.getCenter();this.lx&&this.ux&&(s=Math.sqrt(t*t+i*i),u=this.getProjection(),e=(void 0===this.ux.lng?d:this.ux).lng,r=(void 0===this.ux.lat?d:this.ux).lat,h=void 0===this.ux.zoom?this.getZoom():this.ux.zoom,o=void 0===this.ux.rotation?this.getRotation():this.ux.rotation,a=void 0===this.ux.pitch?this.getPitch():this.ux.pitch,f=u.getResolution(h),d=u.project(e,r),u=o/180*Math.PI,u=Math.atan(t/i)-u,i<0&&(u+=Math.PI),i=s*Math.sin(u),u=s*Math.cos(u),d[0]-=f*i,d[1]+=f*u,this.setCenter([e,r],!0),this.setZoom(h,!0),this.setRotation(o,!0),this.setPitch(a,!0)),this.panTo(this.containerToLngLat([c,l]),n)},He.prototype.viewChange=function(t,i){var n,s,e,r=new L(.4,0,.15,1),h=(new L(.67,0,1,.42),new L(.95,.25,.79,1)),o=new L(.18,.66,.55,.86),a=this.getZoom(),u=this.getPitch(),f=this.getRotation(),c=this.getCenter().toJSON(),l=0,d=0,v=0,p=0;this.lx?(Y.Util.cancelAnimFrame(this.lx),this.ux=Y.assign(this.ux,t)):this.ux=t;var m,y,b,g=this.ux,k=g.zoom,M=g.pitch,w=g.rotation,x=g.lng,A=g.lat;void 0!==k&&(n=k-a,l=r.h(Math.abs(n/10)),l=1e3*Math.max(Math.min(1,l),.1)),void 0!==M&&(s=M-u,d=Math.abs(16.7*s)),void 0!==w&&(e=w-f,v=Math.abs(16.7*e)),void 0!==x&&void 0!==A&&(m=[],t=this._view.getStatus().centerCoord,y=x-c[0],b=A-c[1],g=this.getProjection().project(x,A),m[0]=Math.abs(g[0]-t[0])/this.getResolution(),m[1]=Math.abs(g[1]-t[1])/this.getResolution(),t=0,g=r.h(Math.min(m[0]/this.getSize().width,1)),t=r.h(Math.min(m[1]/this.getSize().height,1)),p=1e3*Math.max(Math.min(1,t,g),.05,g,t));var z=Math.max(l,d,v,p),C=0;function S(){var t={};if(z<=C)return void 0!==k&&(t.zoom=k),void 0!==M&&(t.pitch=M),void 0!==w&&(t.rotation=w),void 0!==x&&void 0!==A&&(t.center=[x,A]),this.om(t),Y.Util.cancelAnimFrame(this.lx),this.lx=!1,void(this.ux={});C+=16.7;var i=Math.min(1,r.p(C/z));void 0!==M&&(t.pitch=s*i+u),void 0!==w&&(t.rotation=e*i+f),void 0!==x&&void 0!==A&&(n&&.5<n?i=o.h(C/z):n&&n<-.5&&(i=h.h(C/z)),t.center=[y*i+c[0],b*i+c[1]]),void 0!==k&&(i=(n<0?o:h).h(C/z),t.zoom=n*i+a),this.om(t),this.lx=Y.Util.requestAnimFrame(S.bind(this))}void 0!==i&&(z=i),this.Ev||(z=-1),S.call(this)},He.prototype.getContainer=function(){return this.kv},He.prototype.add=function(t){for(var i=[],n=[],s=[],e=[],r=0,h=t=Array.isArray(t)?t:[t];r<h.length;r++){var o=h[r];if(Y.px(o))this.addLayer(o);else if(Y.er(o))Y.RF(o)?(this.add(o.getOverlays()),o.setMap(this)):this.am(o);else switch(o.type){case"AMap.Marker":case"AMap.ElasticMarker":case"AMap.Text":i.push(o);break;case"AMap.InfoWindow":n.push(o);break;case"AMap.ContextMenu":s.push(o);break;case"AMap.LabelMarker":e.push(o)}}this.pi.add(i),this.di.add(n),this.vm.add(s),e.length&&this.rm().add(e),this.setNeedUpdate(!0)},He.prototype.remove=function(t){for(var i=[],n=[],s=[],e=[],r=0,h=t=Array.isArray(t)?t:[t];r<h.length;r++){var o=h[r];if(Y.er(o))Y.RF(o)?(this.remove(o.getOverlays()),o.setMap(null)):this.$F.remove(o);else if(Y.px(o))this.removeLayer(o);else switch(o.type){case"AMap.Marker":case"AMap.ElasticMarker":case"AMap.Text":i.push(o);break;case"AMap.InfoWindow":n.push(o);break;case"AMap.ContextMenu":s.push(o);break;case"AMap.LabelMarker":e.push(o)}}e.length&&this.rm().remove(e),this.pi&&this.pi.remove(i),this.di&&this.di.remove(n),this.vm&&this.vm.remove(s),this.setNeedUpdate(!0)},He.prototype.lngLatToCoords=function(t){var i;return Y.Bs(t)&&(t=[t.lng,t.lat]),(i=this.getProjection()).project.apply(i,t)},He.prototype.coordsToLngLat=function(t){var i,t=(i=this.getProjection()).unproject.apply(i,t);return new AMap.LngLat(t[0],t[1])},He.prototype.lngLatToContainer=function(t){var i=(t=Y.Bs(t)?[t.lng,t.lat]:t)[0],n=t[1],e=void 0===(s=t[2])?0:s,s=(t=this._view).getOptions().zoom||this.xt[1],s=(e=t.lnglatToContainer(+i,+n,e,s))[0],e=e[1];return new Y.Pixel(s,e)},He.prototype.lnglatToContainer=function(){console.log&&console.log("请使用 lngLatToContainer 方法替代。")},He.prototype.containerTolnglat=function(){console.log&&console.log("请使用 containerToLngLat 方法替代。")},He.prototype.containerToLngLat=function(t){var t=t instanceof Array?(i=t[0],t[1]):(i=t.x,t.y),t=(i=this._view.containerTolnglat(i,t))[0],i=i[1];return new Y.LngLat(t,i)},He.prototype.coordToContainer=function(t){var i;return(i=this._view)._u.apply(i,t)},He.prototype.containerToCoord=function(t){return t instanceof Y.Pixel&&(t=t.toArray()),this._view.ku(t[0],t[1])},He.prototype.pixelToLngLat=function(t,i){var n;return void 0===i&&(i=this.getZoom()),t=t instanceof Array?(n=t[0],t[1]):(n=t.x,t.y),i=(t=Y.V[this._view.au()].unproject(n,t,i))[0],t=t[1],new Y.LngLat(i,t)},He.prototype.pixelTolnglat=function(){console.log&&console.log("请使用 pixelToLngLat 方法替代。")},He.prototype.unproject=function(){console.log&&console.log("请使用 pixelToLngLat 方法替代。")},He.prototype.lngLatToPixel=function(t,i){var n=(t=t instanceof Y.LngLat?t.toJSON():t)[0],t=t[1];return void 0===i&&(i=this.getZoom()),i=(t=Y.V[this._view.au()].project(n,t,i))[0],t=t[1],new Y.Pixel(i,t)},He.prototype.project=function(t,i){return console.log&&console.log("请使用 lngLatToPixel 方法替代。"),this.lngLatToPixel(t,i)},He.prototype.lnglatToPixel=function(t,i){return console.log&&console.log("请使用 lngLatToPixel 方法替代。"),this.lngLatToPixel(t,i)},He.prototype.lnglatToPixelArray=function(t,i){var n=(t=t instanceof Y.LngLat?t.toJSON():t)[0],t=t[1];return void 0===i&&(i=this.getZoom()),Y.V[this.getView().au()].project(n,t,i)},He.prototype.getTileCoordByLngLat=function(t,i,n){var s=(t=t instanceof Y.LngLat?t.toJSON():t)[0],t=t[1],s=Y.V[this.getView().au()].project(s,t,n),t=Math.floor(s[0]/256),s=Math.floor(s[1]/256);return new Y.ca(n,t,s)},He.prototype.addOverlay=function(t){this.am(t),this.setNeedUpdate(!0)},He.prototype.removeOverlay=function(t){this.ar(t),this.setNeedUpdate(!0)},He.prototype.getResolution=function(t){return t=(t||this.getCenter()).kT,this.getProjection().getResolution(this.getZoom())*Math.cos(t*Math.PI/180)},He.prototype.getScale=function(t){return this.getResolution()*(t||96)/.0254},He.prototype.getCity=function(n,t){Fe.get(AMap.getConfig().server+"/v3/geocode/regeo",{extensions:"",output:"json",location:t||this.getCenter().toJSON()},function(t,i){"complete"===t&&i.status+""=="1"?(i=i.regeocode.addressComponent,n({province:i.province,city:i.city instanceof Array?"":i.city,citycode:i.citycode instanceof Array?"":i.citycode,district:i.district instanceof Array?"":i.district})):n({})})},He.prototype.setCity=function(r,h){var o=this;Fe.get(AMap.getConfig().server+"/v3/config/district",{output:"json",subdistrict:"0",extensions:"all",keywords:r},function(t,i){if("complete"===t&&i.status+""=="1"){if((t=i.districts)&&t.length){i=t[0],!/[^\w]+/.test(r)||(t=Y.find(t,function(t){return t.name===r}))&&t!==i&&(i=t);try{var n=i.center.split(","),s=i.level,e=void 0;switch(s){case"city":e=10;break;case"province":e=7;break;case"district":e=12;break;case"country":e=4;break;default:e=12}-1!==i.name.indexOf("市")&&(e=10),o.setZoomAndCenter(e,n),h&&h.call(o,n,e)}catch(t){}}}else h(null,null)})},He.prototype.setFitView=function(t,i,n,s){if(void 0===i&&(i=!1),void 0===n&&(n=[60,60,60,60]),void 0===s&&(s=Math.min(17.5,Ps.t_[1])),!((t=Y.FF(t)?t.getAllOverlays():t)instanceof Array&&0===t.length)){n=Boolean(n)?n:[60,60,60,60],(t=!(t=t||[])||t instanceof Array?t:[t])&&0!==t.length||(t=this.getAllOverlays());var e=this.nm(t);if(e){var r,t=e.toJSON(),s=this.em(t,n,s);return"d"===Y.Support.baseRender&&(s[2]=Math.floor(s[2])),this.viewChange({lng:s[0],lat:s[1],zoom:s[2]},r=i?0:r),e}}},He.prototype.getFitZoomAndCenterByOverlays=function(t,i,n){if(void 0===i&&(i=[0,0,0,0]),void 0===n&&(n=Y.zoomRange[1]),t=this.nm(t))return t=t.toJSON(),[(n=this.em(t,i,n))[2],new Y.LngLat(n[0],n[1])]},He.prototype.getFitZoomAndCenterByBounds=function(t,i,n){return void 0===i&&(i=[0,0,0,0]),void 0===n&&(n=Y.zoomRange[1]),t instanceof lt&&(t=t.toJSON()),[(n=this.em(t,i,n))[2],new Y.LngLat(n[0],n[1])]},He.prototype.addControl=function(t){t.addTo(this),this.controls.push(t)},He.prototype.removeControl=function(t){t.remove?t.remove():t.removeFrom&&t.removeFrom(this,this.controls);for(var i=0;i<this.controls.length;i++)if(this.controls[i]===t)return void this.controls.splice(i-1,1)},He.prototype.L$=function(){},He.prototype.D$=function(){return"zh_cn"},He.prototype.set=function(t,i){switch(t){case"layers":this.setLayers(i);break;case"projection":break;case"pitch":this.setPitch(i);break;case"debug":this.debug=i;break;case"showLabel":this.showLabel=i;break;case"zoom":this.setZoom(i);break;case"center":this.setCenter(i);break;case"rotation":this.setRotation(i);break;case"dragEnable":this.setStatus({dragEnable:i});break;case"zoomEnable":this.setStatus({zoomEnable:i});break;case"scrollWheel":this.setStatus({scrollWheel:i});break;case"jogEnable":this.setStatus({jogEnable:i});break;case"doubleClickZoom":this.setStatus({doubleClickZoom:i});break;case"keyboardEnable":this.setStatus({keyboardEnable:i});break;case"animateEnable":this.setStatus({animateEnable:i});break;case"pitchEnable":this.setStatus({pitchEnable:i});break;case"touchZoom":this.setStatus({touchZoom:i});break;case"isHotspot":this.setStatus({isHotspot:i});break;case"style":this.setStyleByPlat(i)}},He.prototype.setMapStyle=function(t){this.f_(t),this.setStatus({mapStyle:t}),this.indoorMap&&this.indoorMap.hide()},He.prototype.getMapStyle=function(){var t=this.getStatus();if(t&&t.mapstyleUrl){var i=t.mapstyleUrl;return"normal"===t.mapstyleUrl?"amap://styles/normal":i}return""},He.prototype.getAllOverlays=function(i){var t=this.$F.getAllOverlays(),n=Y.Pt(t),s=this.pi.getAllOverlays(),t=this.di.getAllOverlays();Y.vx(s,function(t){n.push(t)}),t&&t.length&&Y.Util.Ig(n,t);for(var e=0,r=this.zv;e<r.length;e++){var h=r[e];h instanceof qn&&Y.Util.Ig(n,h.getAllOverlays())}return n=n.filter(function(t){return(!t._opts||!t._opts.innerOverlay)&&((!i||-1<t.className.toLocaleLowerCase().indexOf(i))&&!0)})},He.prototype.clearMap=function(){for(var t=this.getAllOverlays(),i=0;i<t.length;i++){var n=t[i];n&&n.remove&&n.remove()}},He.prototype.clearInfoWindow=function(){this.di&&this.di.close()},He.prototype.addImage=function(t,i){this.I_&&this.I_.addImage(t,i)},He.prototype.getImage=function(t){if(this.I_)return this.I_.getImage(t)},He.prototype.getFeatures=function(){return this.Cw},He.prototype.setFeatures=function(t){this.Cw=t;for(var i=this.yS(),n=this.getLayers(),s=0;s<n.length;s++){var e=n[s];"AMap.Buildings"===e.CLASS_NAME&&e.getState().u$&&(i?e.show():e.hide())}this.setNeedUpdate(!0)},He.prototype.hasLayer=function(i){var t=this.getLayers();return-1<Y.findIndex(t,function(t){return t===i})},He.prototype.getMapApprovalNumber=function(){var t=this.c_,i={satellite:"GS(2021)6342",district:"GS(2021)6375"};return t&&("normal"===t||"amap://styles/normal"===t)||(i.base="GS(2021)6375"),i},He.prototype.setMask=function(t){t&&(this.c$=t,this.d$||(this.d$=new hs({zIndex:-10,visible:!0,path:this.c$}),this.addLayer(this.d$)),null!==(t=this.d$)&&void 0!==t&&t.setMask(this.c$))},He.prototype.cancelMapAnimate=function(){this.lx&&(Y.Util.cancelAnimFrame(this.lx),this.lx=-1,this.ux={})},He.prototype.setLabelRejectMask=function(t){void 0!==t&&(this.NH=t,this.setNeedUpdate(!0))},He.prototype.queryOverlayByPosition=function(t){return this.FY(t)},He.prototype.am=function(t){this.$F.add(t)},He.prototype.ar=function(t){this.sm().remove(t)},He.prototype.setStyle=function(t){this.RY(t)},He.prototype.setStyleByPlat=function(t){this.RY(t)},He);function He(t,i){void 0===i&&(i={zoom:9,center:[116.397128,39.916527],rotation:0,pitch:0,viewMode:"2D"});var n=this,s=null;if(t instanceof HTMLDivElement?s=t:null!==(e=document.getElementById(t))&&(s=e),null===s)throw Error("Map container div not exist");i.zooms=i.zooms||Ps.t_;var e=!1;void 0===i.zoom&&(e=!0,i.zoom=Math.max(Math.min(i.zooms[1],12),i.zooms[0])),i.center=i.center?Y.Bs(i.center)?i.center.toJSON():i.center:Ye,i.rotation=i.rotation||0,i.layers=i.layers||[],i.baseRender=Y.Support.isWebGL?"w":"d",i.showIndoorMap=i.showIndoorMap||!1,i.vectorMapForeign=i.vectorMapForeign||!1,i.overseaDataType=i.overseaDataType||"",i.vdataProxy=i.vdataProxy||"",i.vdataProxy&&(AMap.getConfig().vdataProxy=i.vdataProxy),n=Ze.call(this,s,i)||this,e&&(e=n.em(Ne)[2],n.setZoom(e,!0)),n.pi=new ae(n),n.di=new ge(n),n.vm=new Ie(n),n.hx=new S(n),n.hx.Xt(),n.plugin=AMap.plugin;for(var r=0;r<i.layers.length;r++){var h=i.layers[r];h&&"AMap.IndoorMap"===h.CLASS_NAME&&h.setMap(n)}return!i.showIndoorMap||"normal"!==n.c_&&"amap://styles/normal"!==n.c_||n.isDOMMode()||n.addLayer(n.indoorMap=new AMap.IndoorMap({zIndex:8,opacity:1,map:n})),n.YG=i.vectorMapForeign,n.QZ=i.overseaDataType,i.vectorMapForeign&&n.addLayer(new AMap.Mapbox({zIndex:8,opacity:1,visible:!0,map:n})),n.lcs.setMap(n),n.customCoords=new _e(n),n.getOutseaState()&&n.bZ.MZ.tY.add({NZ:function(){n.bZ.MZ.wZ.gZ()},group:"default",UZ:function(){return n.bZ.MZ.wZ.stencil.AS},FZ:function(){return 0}}),n}var Je,Ve=(Je=Mt,Y.Ei(qe,Je),qe.prototype.getSourceConfig=function(){return{id:this._id,type:"image",tileUrl:this.Be,bounds:this.ir,canvas:this.canvas,zooms:this.xt}},qe.prototype.co=function(){return this._id},qe.prototype.getState=function(){return{visible:this.il,opacity:this.tl,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},qe);function qe(t){var i=Je.call(this,t)||this;return i.CLASS_NAME="AMap.ImageLayer",i.Be=t.url||t.tileUrl,i.ir=t.bounds,i.Qh=t.zIndex||6,i.tl=void 0===t.opacity?1:t.opacity,i.il=void 0===t.visible||t.visible,i.xt=void 0===t.zooms?Y.zoomRange:t.zooms,i.canvas=t.canvas,i}var Qe,Ke={tileUrl:"",url:"",bounds:[0,0,0,0],opacity:1,visible:!0,zIndex:4,zooms:Y.zoomRange},$e=(Qe=Ve,Y.Ei(tr,Qe),tr.prototype.getImageUrl=function(){return this.Be},tr.prototype.setImageUrl=function(t){t&&(this.Be=t,this.uo.getSource(this._id).Fo(!1),this.map.setNeedUpdate(!0))},tr.prototype.getBounds=function(){return this.ir},tr.prototype.setBounds=function(t){t&&(this.ir=t,this.map.setNeedUpdate(!0))},tr);function tr(t){var i=this;if(!(t=void 0===t?Ke:t).tileUrl&&!t.url)throw new Error("ImageLayer need an Url");return t.bounds=t.bounds||Ke.bounds,t.opacity=(void 0===t.opacity?Ke:t).opacity,t.visible=(void 0===t.visible?Ke:t).visible,t.zIndex=(void 0===t.zIndex?Ke:t).zIndex,t.canvas=void 0,(i=Qe.call(this,t)||this).onCreated(),i}var ir,nr={url:"",tileUrl:"",bounds:[0,0,0,0],opacity:1,visible:!0,zooms:Y.zoomRange,zIndex:6},sr=(ir=Ve,Y.Ei(er,ir),er.prototype.setCanvas=function(t){this.canvas=t,this.reFresh()},er.prototype.getElement=function(){return this.canvas},er.prototype.getBounds=function(){return this.ir},er.prototype.setBounds=function(t){t&&(this.ir=t,this.map.setNeedUpdate(!0))},er.prototype.reFresh=function(){this.map&&this.map.setNeedUpdate(!0)},er.prototype.destroy=function(){var t=this.getSource();t&&t.destroy&&t.destroy()},er);function er(t){var i=this;return(t=void 0===t?nr:t).bounds=t.bounds||nr.bounds,t.opacity=(void 0===t.opacity?nr:t).opacity,t.visible=(void 0===t.visible?nr:t).visible,t.tileUrl="",(i=ir.call(this,t)||this).onCreated(),i.CLASS_NAME="AMap.CanvasLayer",i}var rr,F=(rr=Mt,Y.Ei(hr,rr),hr.prototype.getState=function(){return!this.eP&&this.map&&this.gx(this.canvas),{visible:this.il,opacity:this.tl,zIndex:this.Qh,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF,kv:this._container,alwaysRender:this.UF}},hr.prototype.getSourceConfig=function(){return{id:this._id,type:"custom",zooms:this.xt}},hr.prototype.co=function(){return this._id},hr.prototype.setOpacity=function(t){rr.prototype.setOpacity.call(this,t),this.canvas.style.opacity=""+this.tl},hr.prototype.setMap=function(t){t||this.destroy(),rr.prototype.setMap.call(this,t),t&&this.gx(this.canvas)},hr.prototype.setzIndex=function(t){this.Qh=t,this._container&&(this._container.style.zIndex=this.Qh+"")},hr.prototype.destroy=function(){var t;this._container&&(this.map?this.map.do.removeChild(this._container):(t=document.querySelector(".amap-layers"))&&t.removeChild(this._container),this._container=null)},hr.prototype.gx=function(t){this._container||(this._container=document.createElement("div"),this._container.style.zIndex=this.Qh+"",this._container.className="amap-layer amap-e",this._container.appendChild(t),this.map.do.appendChild(this._container),this.eP=!0)},hr);function hr(t,i){var n=rr.call(this,i)||this;return n.CLASS_NAME="AMap.CustomLayer",n.eP=!1,n.UF=!1,n.render=i.render||function(){},n.canvas=t,n.Qh=i.zIndex||11,n.tl=void 0===i.opacity?1:i.opacity,n.il=void 0===i.visible||i.visible,n.UF=void 0!==i.alwaysRender&&i.alwaysRender,n.xt=i.zooms||Y.zoomRange,n.canvas.style.opacity=""+n.tl,n.canvas.style.display=n.il?"block":"none",n.map&&n.gx(n.canvas),n}var or,ar=(or=F,Y.Ei(ur,or),ur);function ur(t,i){return(i=or.call(this,t,i)||this).onCreated(),i}var fr,cr={zIndex:120,opacity:1,zooms:Y.zoomRange,cursor:"pointer",alwaysRender:!0},lr=(fr=Y.Event,Y.Ei(dr,fr),dr.prototype.setMap=function(t){t?(this._map=t).add(this.a$):this._map&&(this.clear(),this._map.remove(this.a$))},dr.prototype.getMap=function(){return this._map||null},dr.prototype.getData=function(){return this.VL},dr.prototype.setData=function(t){var i=this;t&&(this.VL=t,this.XD(),AMap.Util.requestAnimFrame(function(){i.emit("complete")}))},dr.prototype.getStyle=function(){return 1===this.Ze.length?this.Ze[0]:this.Ze},dr.prototype.setStyle=function(t){if(t){Array.isArray(t)||(t=[t]);var i=this.Ze,n=[];if(i&&i.length)for(var s=0;s<t.length;s++){var e=t[s],r=i[s]||i[0];n.push(AMap.extend({},r,e))}else n=t;this.Ze=n,this.XD()}},dr.prototype.getOpacity=function(){return this._opts.opacity},dr.prototype.setOpacity=function(t){this._opts.opacity=t,this.a$&&this.a$.setOpacity(t)},dr.prototype.getzIndex=function(){return this._opts.zIndex},dr.prototype.setzIndex=function(t){this._opts.zIndex=t,this.a$&&this.a$.setzIndex(t)},dr.prototype.getZooms=function(){return this._opts.zooms||[2,30]},dr.prototype.setZooms=function(t){this._opts.zooms=t,this.a$&&this.a$.setZooms(t)},dr.prototype.getCursor=function(){return this._opts.cursor||"default"},dr.prototype.show=function(){this.a$.show()},dr.prototype.hide=function(){this.a$.hide()},dr.prototype.clear=function(){this.a$.clear(),this.VL=[]},dr.prototype.XD=function(){var t=this.VL,i=this.Ze,n=[],s=this.getCursor();if(t&&i){for(var e=0,r=t;e<r.length;e++){var h,o,a,u=r[e],f=u.lnglat,c=u.style,l=void 0===c?0:c;f&&(h=(o=i[l]||i[0]).url,c=void 0===(a=o.anchor)?new AMap.Pixel(0,0):a,a=o.size,o.rotation,o=void 0===(o=o.zIndex)?l:o,a=a.width?a.toArray():a,c=c.x?c.toArray():c,(c=new AMap.LabelMarker({position:f,zIndex:o,cursor:s,icon:{image:h,size:a,anchor:c}})).qD=u,this.Rm(c),n.push(c))}this.jT=n,this.a$.clear(),this.a$.add(n)}},dr.prototype.Rm=function(t){var r=this;t.on(["click","dblclick","mouseover","mousemove","mouseout","mouseup","mousedown","touchstart","touchend"],function(t){var i,n=t.type,s=r._map,e=r.getCursor();"default"!==e&&s&&(i=s.getDefaultCursor(),"mouseover"===n?s.setCursor(e):"mouseout"===n&&s.setCursor(i)),r.QD(t)})},dr.prototype.QD=function(t){var i=t.type,t=this.KD(t);this.emit(i,t)},dr.prototype.KD=function(t){var i=t.target;return t.target=this,{target:t.target,type:t.type,data:i.qD||{}}},dr);function dr(t,i){var n=fr.call(this)||this;n.CLASS_NAME="AMap.MassMarks",n._opts=AMap.extend({},cr,i);var e=(s=n._opts).zIndex,r=s.opacity,i=s.zooms,s=s.style;return n.a$=new AMap.LabelsLayer({zIndex:e,opacity:r,zooms:i,collision:!1,allowCollision:!1,VT:!0}),n.setData(t),n.setStyle(s),n.XD(),n}var vr,pr="AMap.Text",mr="amap-overlay-text-container",yr=(vr=ce,Y.Ei(br,vr),br.prototype.getText=function(){return this._opts.text},br.prototype.setText=function(t){t=this.wx(t),this.setContent(t)},br.prototype.setStyle=function(t){t&&(this._x=t,this._size=[0,0],this.updateOverlay())},br.prototype.updateOverlay=function(t){void 0===t&&(t={}),this.dom&&!Y.isEmpty(this._x)&&this.kx(this._x),vr.prototype.updateOverlay.call(this,t)},br.prototype.wx=function(t){var i=document.createElement("div");return w.addClass(i,mr),i.innerHTML=t||"",i},br.prototype.kx=function(t){void 0===t&&(t={});var i=this.dom.querySelector("."+mr);if(i)for(var n in t)t.hasOwnProperty(n)&&(i.style[n]=t[n])},br);function br(t){var i=vr.call(this,t=void 0===t?{}:t)||this;return i.className=pr,i.type=pr,i._x={},i._size=[0,0],t.style&&(i._x=t.style),t.text&&i.setText(t.text),i}var gr,kr={zooms:Y.zoomRange,opacity:1,rank:1,bubble:!1,visible:!0,zIndex:1,cursor:"pointer",noSelect:!1,icon:{clipOrigin:[0,0],anchor:[0,0],retina:!0},innerOverlay:!1,text:{content:"",direction:"right",offset:[0,0],zooms:Y.zoomRange,style:{fontSize:12,fontFamily:"sans-serif",fontWeight:"normal",fillColor:"#000",strokeWidth:0,padding:"3",fold:!1}}},Mr={uy:"AMap.LabelMarker",gy:Math.pow(2,31)},wr=(gr=bt,Y.Ei(xr,gr),xr.prototype.nY=function(t){var i,n=Y.yn(t);for(i in kr)kr.hasOwnProperty(i)&&void 0===n[i]&&(n[i]=Y.clone(kr[i]));return n},xr.prototype.getName=function(){return this._opts.name},xr.prototype.setName=function(t){this._opts.name=t},xr.prototype.getBounds=function(){var t=this._position;return new lt(t,t)},xr.prototype.getPosition=function(){return new Y.LngLat(this._position[0],this._position[1])},xr.prototype.setPosition=function(t){t&&("string"==typeof t?t=Y.map(t.split(","),function(t){return parseFloat(t)}):Y.Bs(t)&&(t=t.toJSON()),this._position=t,this.to())},xr.prototype.getZooms=function(){return this._opts.zooms},xr.prototype.setZooms=function(t){void 0===t&&(t=Y.zoomRange),this._opts.zooms=t,this.to()},xr.prototype.getOpacity=function(){return this._opts.opacity},xr.prototype.setOpacity=function(t){void 0!==t&&(this._opts.opacity=t,this.to())},xr.prototype.getzIndex=function(){return this._opts.zIndex},xr.prototype.setzIndex=function(t){this._opts.zIndex=t,this.to()},xr.prototype.getRank=function(){return this._opts.rank},xr.prototype.setRank=function(t){this._opts.rank=t,this.to()},xr.prototype.getText=function(){return this._originOpts.text&&this._opts.text||null},xr.prototype.setText=function(t){t&&(Y.assign(this._opts.text,t),this.to())},xr.prototype.getIcon=function(){return this._originOpts.icon&&this._opts.icon||null},xr.prototype.setIcon=function(t){t&&(Y.assign(this._opts.icon,t),this.to())},xr.prototype.getOptions=function(){return this._opts},xr.prototype.getDraggable=function(){return!1},xr.prototype.getExtData=function(){return this._opts.extData||null},xr.prototype.setExtData=function(t){this._opts.extData=t},xr.prototype.setTop=function(t){void 0===t&&(t=!0),this._parent&&this._parent.setTop(this,t),t?(this.vL=this._opts.zIndex||1,this.setzIndex(Mr.gy)):(t=this.vL||this._opts.zIndex||1,this.setzIndex(t))},xr.prototype.setCursor=function(t){t&&(this._opts.cursor=t)},xr.prototype.getCursor=function(){return this._opts.cursor||"default"},xr.prototype.getVisible=function(){return this._opts.visible||!0},xr.prototype.getCollision=function(){var t,i=this.getVisible(),n=!1;return this._parent&&i&&(t=this.hS,n=this._parent.IL(t)),i&&n},xr.prototype.show=function(){this._opts.visible=!0,this.to()},xr.prototype.hide=function(){this._opts.visible=!1,this.to()},xr.prototype.emit=function(t,i){var n=this._opts||{},s=n.icon,e=n.text,r=e&&e.content,h=this.getCursor();return this._map&&("mouseout"===t?this._map.setCursor():this._map.setCursor(h)),e={data:{name:r,txt:r,position:this._position,extData:{},rank:n.rank,zooms:n.zooms},opts:{visible:n.visible,opacity:n.opacity,zooms:n.zooms,zIndex:n.zIndex,icon:s,text:e}},i.data=e,gr.prototype.emit.call(this,t,i),this},xr.prototype.remove=function(){this._parent&&this._parent.remove(this)},xr.prototype.to=function(){this._parent&&this._parent.to()},xr.prototype.Cs=function(t){(this._parent=t)&&t.map?this._map=t.map:this._map=null},xr);function xr(t){var i=gr.call(this)||this;return i.type=Mr.uy,i.className=Mr.uy,i.hS=Y.Util.stamp(i),i._originOpts=t,i._opts=i.nY(t),t.position&&i.setPosition(t.position),i}var Ar,zr=(Ar=Y.Event,Y.Ei(Cr,Ar),Cr.prototype.addTo=function(t){this.map=t,this.map.controls.push(this),t.getControlContainer().appendChild(this._container),t.on("beforeDestroy",this.remove.bind(this))},Cr.prototype.removeFrom=function(t){t?(t.off("beforeDestroy",this.remove.bind(this)),t.getControlContainer().removeChild(this._container),delete this.map):this.map&&(this.map.off("beforeDestroy",this.remove.bind(this)),this.map.getControlContainer().removeChild(this._container),delete this.map)},Cr.prototype.remove=function(){this.map&&(this.map.off("beforeDestroy",this.remove.bind(this)),this.map.getControlContainer().removeChild(this._container),delete this.map)},Cr.prototype.show=function(){this._container.style.display="block",this.emit("show"),this.il=!0},Cr.prototype.hide=function(){this._container.style.display="none",this.emit("hide"),this.il=!1},Cr.prototype.initContainer=function(){this._className?(this._container=w.create("div",null,"amap-control amap-"+this._className),void 0===this._config.visible||this._config.visible||(this._container.style.display="none")):this._container=w.create("div",null,"amap-control"),this.Pb()},Cr.prototype.Pb=function(){var t=0,i=0,n=0,s=0;switch(this._config.offset&&0<this._config.offset.length&&(t=this._config.offset[0]+t,i=this._config.offset[1]+i,n=this._config.offset[0]+n,s=this._config.offset[1]+s),t+="px",i+="px",n+="px",s+="px",this._config.position){case"LT":this._container.style.top=i,this._container.style.left=t,this._container.style.bottom="",this._container.style.right="";break;case"RT":this._container.style.top=i,this._container.style.right=n,this._container.style.bottom="",this._container.style.left="";break;case"LB":this._container.style.bottom=s,this._container.style.left=t,this._container.style.top="",this._container.style.right="";break;case"RB":this._container.style.bottom=s,this._container.style.right=n,this._container.style.top="",this._container.style.left="";break;default:this._container.style.top=this._config.position.top||"",this._container.style.left=this._config.position.left||"",this._container.style.right=this._config.position.right||"",this._container.style.bottom=this._config.position.bottom||""}},Cr);function Cr(t){var i=Ar.call(this)||this;return i.il=!0,i._config=t,i.il=void 0===t.visible||t.visible,i}var Sr,Lr={ua:(Et=window.navigator).userAgent,mobile:Y.Support.$e,plat:Y.Support.plat,mac:Y.Support.mac,windows:Y.Support.windows,ios:Y.Support.ios,iPad:Y.Support.iPad,iPhone:Y.Support.iPhone,android:Y.Support.android,android23:Y.Support.android23,chrome:Y.Support.chrome,firefox:Y.Support.firefox,safari:Y.Support.safari,wechat:Y.Support.wechat,uc:Y.Support.SL,qq:Y.Support.qq,ie:Y.Support.ie,ie6:Y.Support.ie6,ie7:Y.Support.ie7,ie8:Y.Support.ielt9&&!Y.Support.ie7&&!Y.Support.ie6,ie9:Y.Support.ie9,ie10:Y.Support.ie10,ie11:Y.Support.ie11,edge:Y.Support.edge,ielt9:Y.Support.ielt9,baidu:Y.Support.baidu,isLocalStorage:Y.Support.RL,isGeolocation:!!Et.geolocation,mobileWebkit:Y.Support.mobileWebkit,mobileWebkit3d:Y.Support.mobileWebkit3d,mobileOpera:!!Y.Support.mobileOpera,retina:Y.Support.Ue,touch:!!Y.Support.touch,msPointer:!!Y.Support.msPointer,pointer:!!Y.Support.pointer,baseRender:Y.Support.baseRender,wasm:Y.Support.wasm,webkit:Y.Support.webkit,ie3d:Y.Support.ie3d,webkit3d:Y.Support.webkit3d,gecko3d:Y.Support.gecko3d,opera3d:Y.Support.opera3d,any3d:Y.Support.any3d,isCanvas:Y.Support.isCanvas,isSvg:Y.Support.isSvg,isVML:Y.Support.ie,isWorker:!!window.Worker,isWebsocket:!!window.WebSocket,isWebGL:Y.Support.isWebGL,checkWebGL:function(){return Y.Support.isWebGL=Y.Support.sY(),Y.Support.isWebGL}},jt=(Sr=Mt,Y.Ei(Tr,Sr),Tr.prototype.getState=function(){return{zooms:this.xt,heightFactor:this.Q_,visible:this.il,zIndex:this.Qh,opacity:this.tl,wallColor:[],roofColor:[],layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},Tr.prototype.getLayerConfig=function(){return Sr.prototype.getLayerConfig.call(this)},Tr.prototype.getSourceConfig=function(){return{id:this._id,type:"building",tileUrl:AMap.getConfig().protocol+(Y.Support.wasm?"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v3":"://{vdata,vdata01,vdata02,vdata03,vdata04}.amap.com/nebula/v2"),tileSize:0,zooms:Y.zoomRange}},Tr.prototype.co=function(){return this._id},Tr.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},Tr);function Tr(){var t=Sr.call(this)||this;return t.CLASS_NAME="AMap.Buildings",t.Q_=1,t._id="building",t}var Ir,Dr={zooms:[14.8,Y.zoomRange[1]],opacity:1,heightFactor:1,visible:!0,zIndex:11,wallColor:[.94,.94,.94,.9],roofColor:[.89,.89,.86,.9],u$:!1},Or=(Ir=jt,Y.Ei(Er,Ir),Er.prototype.setStyle=function(t){this.fL=t,this.uL()},Er.prototype.getState=function(){return{zooms:this.xt,heightFactor:this.Q_,visible:this.il,zIndex:this.Qh,opacity:this.tl,wallColor:this.sz,roofColor:this.rz,vS:this.fL,layer:this,u$:this.cL,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},Er.prototype.uL=function(){this.map&&(this.getSource().reload(),this.map.setNeedUpdate(!0))},Er);function Er(t){void 0===t&&(t=Dr);var i=Ir.call(this)||this;return i.cL=!1,i.xt=(void 0===t.zooms?Dr:t).zooms,i.xt[0]=Math.max(i.xt[0],14.8),i.tl=(void 0===t.opacity?Dr:t).opacity,i.Q_=(void 0===t.heightFactor?Dr:t).heightFactor,i.il=(void 0===t.visible?Dr:t).visible,i.Qh=(void 0===t.zIndex?Dr:t).zIndex,i.sz=void 0!==t.wallColor&&Y.Util.color2RgbaArray(t.wallColor),i.rz=void 0!==t.roofColor&&Y.Util.color2RgbaArray(t.roofColor),i.AF=void 0===t.depthTest||Boolean(t.depthTest),i.cL=t.u$,i.cL&&(i._id="nebula"),i.onCreated(),i}var Rr=(Pr.add=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i]},Pr);function Pr(){}function jr(t){return Y.Support.isWebGL?new Ai(t):new Xi(Y.Ln({id:"_defaultLayer_"+Y.Util.uuid(),tileUrl:AMap.getConfig().y_},t))}var Br,Fr="gl_custom",Jt=(Br=Mt,Y.Ei(Wr,Br),Wr.prototype.getState=function(){return{visible:this.il,opacity:this.tl,zIndex:this.Qh,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},Wr.prototype.getSourceConfig=function(){return{id:Fr,type:Fr,zooms:this.xt}},Wr.prototype.co=function(){return Fr},Wr.prototype.setMap=function(t){Br.prototype.setMap.call(this,t)},Wr.prototype.setzIndex=function(t){this.Qh=t},Wr);function Wr(t){var i=Br.call(this,t)||this;return i.CLASS_NAME="AMap.GLCustomLayer",i.init=t.init||function(t){},i.render=t.render||function(t,i,n){},i.Qh=t.zIndex||120,i.tl=void 0===t.opacity?1:t.opacity,i.il=void 0===t.visible||t.visible,i.xt=t.zooms||Y.zoomRange,i}var Gr,Nr=(Gr=Jt,Y.Ei(_r,Gr),_r);function _r(t){return(t=Gr.call(this,t)||this).onCreated(),t}var Ur,Yr=(Ur=Y.Event,Y.Ei(Zr,Ur),Zr.prototype.setMap=function(t){var i=this;return t&&t!==this._map&&(this._map=t,Y.forEach(this.zv,function(t){i._map&&!i._map.hasLayer(t)&&t.setMap(i._map)})),this},Zr.prototype.hasLayer=function(i){return!!Y.find(this.zv,function(t){return t===i})},Zr.prototype.setOptions=function(e){var r=this.zv;return Y.vx(e,function(t,i){for(var n=0;n<r.length;n++){var s=r[n];if("AMap.Layer"===s.el)switch(i){case"visible":t?s.show():s.hide();break;case"opacity":s.setOpacity&&s.setOpacity(t);break;case"zIndex":s.setzIndex&&s.setzIndex(t);break;case"zooms":s.setZooms&&s.setZooms(t)}else s.setOptions&&s.setOptions(e)}}),this},Zr.prototype.eachLayer=function(t){if(Y.isFunction(t))for(var i=0;i<this.zv.length;i++)t(this.zv[i],i,this.zv)},Zr.prototype.addLayer=function(t){this.hasLayer(t)||(this.zv.push(t),t.setMap(this._map))},Zr.prototype.addLayers=function(t){if(0<t.length)for(var i=0;i<t.length;i++){var n=t[i];this.addLayer(n)}},Zr.prototype.removeLayer=function(t){for(var i=0;i<this.zv.length;i++)t===this.zv[i]&&this.zv.splice(i,1);return t.setMap(null),t},Zr.prototype.removeLayers=function(t){if(t&&0<t.length)for(var i=0;i<t.length;i++){var n=t[i];this.removeLayer(n)}},Zr.prototype.getLayers=function(){return this.zv},Zr.prototype.clearLayers=function(){for(var t=0;t<this.zv.length;t++){var i=this.zv[t];this.removeLayer(i)}},Zr.prototype.hide=function(){for(var t=0;t<this.zv.length;t++)this.zv[t].hide();return this},Zr.prototype.show=function(){for(var t=0;t<this.zv.length;t++)this.zv[t].show();return this},Zr.prototype.on=function(t,i){for(var n=0;n<this.zv.length;n++){var s=this.zv[n];s.on instanceof Function&&i instanceof Function&&s.on(t,i)}return this},Zr.prototype.reload=function(){for(var t=0;t<this.zv.length;t++){var i=this.zv[t];i.reload&&i.reload()}return this},Zr);function Zr(t){var i=Ur.call(this)||this;if(i.zv=[],i._map=null,t&&0<t.length)for(var n=0;n<t.length;n++){var s=t[n];i.addLayer(s)}return i}function Xr(){console.log("jsapi2.0 AMap.Heatmap is renamed, please use AMap.HeatMap"),console.log("jsapi2.0  AMap.Heatmap 已重命名, 请使用 AMap.HeatMap")}var Hr,ni=(Hr=Mt,Y.Ei(Jr,Hr),Jr.prototype.getState=function(){return{zooms:[17,23],visible:this.il,zIndex:2,opacity:this.tl,layer:this,depthTest:this.AF,ce:this.IF,tileUrl:this.Be}},Jr.prototype.getSourceConfig=function(){return{id:this._id,tileUrl:this.Be||"",type:"mapbox",tileSize:this.Xa||256,zooms:this.xt,dataZooms:this.Qs,projection:"EPS3857"}},Jr.prototype.co=function(){return this._id},Jr);function Jr(t){var i=Hr.call(this)||this;return i.CLASS_NAME="AMap.MapboxLayer",i._id="mapbox",i.Be=AMap.getConfig().protocol+"://fmap0{1234}.amap.com/v3/vectormap?version=v8&key="+AMap.getConfig().key+"&s=rsv3&x=[x]&y=[y]&zoom=[z]",AMap.getConfig().jscode?i.Be+="&jscode="+AMap.getConfig().jscode:AMap.getConfig().gaodeserver&&(i.Be=AMap.getConfig().gaodeserver+"/v3/vectormap?version=v8&key="+AMap.getConfig().key+"&s=rsv3&x=[x]&y=[y]&zoom=[z]"),i.Xa=t.tileSize||256,i.Qs=[2,22],i.Qh=2,i.xt=[9.8,Y.zoomRange[1]],i}var Vr,qr=(Vr=ni,Y.Ei(Qr,Vr),Qr);function Qr(t){return Vr.call(this,t)||this}var Kr=(Object.defineProperty($r.prototype,"CLASS_NAME",{get:function(){return this.className},eb:!1,nb:!0}),$r.prototype.addOverlay=function(t){this._overlays.indexOf(t)<0&&(this._overlays.push(t),this._map&&this._map.add(t))},$r.prototype.addOverlays=function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];this.addOverlay(s)}},$r.prototype.getOverlays=function(){return this._overlays},$r.prototype.hasOverlay=function(t){return-1<this._overlays.indexOf(t)},$r.prototype.removeOverlay=function(t){this.hasOverlay(t)&&(Y.Util.deleteItemFromArray(this._overlays,t),this._map&&this._map.remove(t))},$r.prototype.removeOverlays=function(t){for(var i=0,n=t;i<n.length;i++){var s=n[i];this.removeOverlay(s)}},$r.prototype.clearOverlays=function(){this._map&&this._map.remove(this._overlays),this._overlays=[]},$r.prototype.eachOverlay=function(t){Y.forEach(this._overlays,t)},$r.prototype.setMap=function(t){this._map=t},$r.prototype.show=function(){for(var t=0,i=this._overlays;t<i.length;t++)i[t].show()},$r.prototype.hide=function(){for(var t=0,i=this._overlays;t<i.length;t++)i[t].hide()},$r.prototype.setOptions=function(t){for(var i=0,n=this._overlays;i<n.length;i++)n[i].setOptions(t)},$r.prototype.on=function(i,n,s,e){this.eachOverlay(function(t){t.on(i,n,s,e)})},$r.prototype.off=function(i,n,s,t){this.eachOverlay(function(t){t.off(i,n,s)})},$r);function $r(t){void 0===t&&(t=[]),this.className="Overlay.OverlayGroup",this._overlays=[],this.addOverlays(t)}var th,St=(th=bt,Y.Ei(ih,th),ih.prototype.Cy=function(t){this.P$=!0,Y.Support.$e||t.originEvent.preventDefault(),this.Ay(t)},ih.prototype.Ly=function(t){this.P$=!1,Y.Support.$e||t.originEvent.preventDefault()},ih.prototype.Ay=function(t){this._dragObjects={sy:t.pixel,hy:t.pos,ly:t.lnglat}},ih.prototype.Mx=function(){this.on("dragstart",this.Cy.bind(this)),this.on("dragging",this._dragging.bind(this)),this.on("dragend",this.Ly.bind(this))},ih.prototype.Rx=function(){this.off("dragstart",this.Cy.bind(this)),this.off("dragging",this._dragging.bind(this)),this.off("dragend",this.Ly.bind(this))},ih);function ih(){var t=null!==th&&th.apply(this,arguments)||this;return t.P$=!1,t._dragObjects={sy:{x:0,y:0},hy:[0,0],ly:{lng:0,lat:0}},t}var nh,It=(nh=St,Y.Ei(sh,nh),Object.defineProperty(sh.prototype,"CLASS_NAME",{get:function(){return this.className},eb:!1,nb:!0}),sh.prototype.Zx=function(t){this._map=t,this._opts&&(this._opts.map=t)},sh.prototype.setMap=function(t){this._map!==t&&(this._map&&this._map.remove(this),t&&t.add(this))},sh.prototype.getMap=function(){return this._map||null},sh.prototype.destroy=function(){this.Rx(),this._beforeRemoveMap&&this._beforeRemoveMap(),this._map=null,this.F$&&delete this.F$,this._bindEvents&&delete this._bindEvents,this._afterSetMap&&delete this._afterSetMap},sh.prototype.remove=function(){this.setMap(null)},sh.prototype.hide=function(){this.visible&&(this.visible=!1,this._map&&this._map.setNeedUpdate(!0),this.emit("hide",{target:this}))},sh.prototype.show=function(){this.visible||(this.visible=!0,this._map&&this._map.setNeedUpdate(!0),this.emit("show",{target:this}))},sh.prototype.setDraggable=function(t){return this._opts.draggable=t},sh.prototype.getOptions=function(){return Y.extend({},this._opts)},sh.prototype.to=function(){this._map&&this._map.setNeedUpdate(!0)},sh.prototype.getExtData=function(){var t=this._opts;if(t&&t.extData)return t.extData},sh.prototype.setExtData=function(t){this.setOptions({extData:t})},sh.prototype.getCursor=function(){var t=this._opts.cursor;return!t&&this._map?this._map.getDefaultCursor():t},sh.prototype.emit=function(t,i){var n=this.getCursor();return this._map&&("mouseout"===t?this._map.setCursor():this._map.setCursor(n)),("dragstart"!==t&&"dragging"!==t&&"dragend"!==t||this.getDraggable())&&nh.prototype.emit.call(this,t,i),this},sh.prototype.getDraggable=function(){var t=this._opts.draggable;return void 0!==t&&t},sh.prototype.BB=function(){this.b_([0,0])},sh.prototype.getDeltaCoord=function(){return this.zx},sh.prototype.b_=function(t){this.zx=t},sh.prototype.rY=function(t){var i=this.Sx;return Y.Util.hp(i,t)},sh.prototype._beforeRemoveMap=function(){var t;this.F$&&(null!==(t=this.F$.parentNode)&&void 0!==t&&t.removeChild(this.F$),delete this.F$)},sh.prototype.nY=function(t){var i,n=this._opts;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},sh.prototype._dragging=function(t){var i,n,s,e,r;this.getDraggable()&&(s=this._dragObjects.hy,i=t.pos[0]-s[0],n=t.pos[1]-s[1],e=this._dragObjects.sy,this.F$&&"d"===this._map.baseRender?(s=t.pixel.x-e.x,e=t.pixel.y-e.y,r=this.B$,this.B$=[s+r[0],e+r[1]],r=" translate("+this.B$[0]+"px, "+this.B$[1]+"px)",this.F$.style.transform=r,this.F$.style.webkitTransform=r,this.F$.style.MozTransform=r,this.F$.style.msTransform=r):this.to(),r=this.getDeltaCoord(),this.b_([i+r[0],n+r[1]]),this.Ay(t))},sh.prototype.Ly=function(t){nh.prototype.Ly.call(this,t),this.Ay(t),this.F$&&"d"===this._map.baseRender?this.moveWithPixel(this.B$[0],-1*this.B$[1]):this.moveWithPos(this.zx[0],this.zx[1]),this.BB(),this.B$=[0,0],this.F$&&(this.F$.style.transform="",this.F$.style.webkitTransform="",this.F$.style.MozTransform="",this.F$.style.msTransform=""),this.to()},sh.prototype.moveWithPixel=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];console.log("please implement movePixel")},sh.prototype.moveWithPos=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];console.log("please implement moveWithPos")},sh.prototype._checkMap=function(){this._opts&&this._opts.map!==this._map&&this.setMap(this._opts.map)},sh.prototype.cE=function(){this._needUpdate=!0,this._map&&(this._map.fE&&!this._map.isDOMMode()||this.ZB())},sh);function sh(){var t=nh.call(this)||this;return t._needUpdate=!1,t.className="Overlay",t.gdt=!1,t.visible=!0,t.P$=!1,t.zx=[0,0],t.B$=[0,0],t.Ax=[0,0],t.hS=Y.Util.stamp(t),t.Mx(),t}function eh(t){if(t=Y.jsonLngLatData(t),Y.ys(t))t=[[t]];else if(Y.Ox(t))t=[t];else if(!Y.tL(t))return;return t}function rh(t,i,n){return Y.hL.ss(t,i,n)}function hh(t,i){if(!rh(t,i[0]))return!1;for(var n=1,s=i.length;n<s;n++)if(rh(t,i[n],!0))return!1;return!0}function oh(t,i){for(var n=0,s=i.length;n<s;n++)if(hh(t,i[n]))return!0;return!1}function ah(t,i,n){for(var s=[],e=0,r=t;e<r.length;e++){var h=r[e];s.push(n.moveWithPos(h,i))}return s}function uh(t,i,n){for(var s=[],e=0,r=t;e<r.length;e++){var h=ah(r[e],i,n);s.push(h)}return s}function fh(t,i,n,s){for(var e=[],r=0,h=t;r<h.length;r++){var o=h[r];e.push(s.moveWithPixel(o,i,n))}return e}function ch(t,i,n,s){for(var e=[],r=0,h=t;r<h.length;r++){var o=fh(h[r],i,n,s);e.push(o)}return e}function lh(t){return Y.GeometryUtil.ringArea(t)}function dh(t){for(var i=lh(t[0]),n=1;n<t.length;n++)i-=lh(t[n]);return i}function vh(t){for(var i=0,n=0,s=t;n<s.length;n++)i+=dh(s[n]);return i}function ph(t){return t=Y.jsonLngLatData(t),Y.ys(t)?[t]:t}function mh(t){return Y.GeometryUtil.distanceOfLine(t)}function yh(t){if(t.length<2)return t;var i=[];i.push(t[0]);for(var n=1,s=t.length;n<s;n++){var e=t[n-1],r=t[n];Array.prototype.push.apply(i,function(t,i){var n=Math.round(Math.abs(t.KL-i.KL));if(!n||Math.abs(t.KL-i.KL)<.001)return[];for(var e,r,h,o,a=[],u=Math.PI,f=Math.asin,c=Math.sqrt,l=Math.sin,d=Math.pow,v=Math.cos,p=Math.atan2,m=t.kT*bh,y=t.KL*bh,b=i.kT*bh,g=i.KL*bh,k=2*f(c(d(l((m-b)/2),2)+v(m)*v(b)*d(l((y-g)/2),2))),s=1;s<n;s+=1)e=l((1-(r=1/n*s))*k)/l(k),h=l(r*k)/l(k),o=e*v(m)*v(y)+h*v(b)*v(g),r=e*v(m)*l(y)+h*v(b)*l(g),h=p(e*l(m)+h*l(b),c(d(o,2)+d(r,2))),o=p(r,o),y<g?(o<y&&(o+=2*u),g<o&&(o-=2*u)):(y<o&&(o-=2*u),o<g&&(o+=2*u)),a.push([o*gh,h*gh]);return a}(Y.LngLat.from(e),Y.LngLat.from(r))),i.push(r)}return i}var bh=Math.PI/180,gh=180/Math.PI,kh=(Mh.prototype.init=function(t,i){var n,s,e=t.length;this.tdt=new Array(e);for(var r=0;r<e;r+=1)if(n=t[r],s=new Sh(n),this.tdt[r]=s,!i)if(0===r){if(0===n.length)return;s.isClockwise(n)||n.reverse()}else 0!==n.length&&s.isClockwise(n)&&n.reverse()},Mh.prototype.getBounds=function(){if(0===this.tdt.length)return ct.createEmpty();if(!this.ndt){for(var t=this.tdt[0].getBounds(),i=1;i<this.tdt.length;i+=1){var n=this.tdt[i].getBounds();ct.rs(t,n)||ct.extend(t,n)}this.ndt=t}return this.ndt},Mh.prototype.sdt=function(){return this.tdt},Mh.prototype.edt=function(){for(var t=[],i=0;i<this.tdt.length;i+=1)t[i]=this.tdt[i].xh},Mh.prototype.getType=function(){return wh.rdt.POLYGON},Mh.prototype.ss=function(t){for(var i,n=this.tdt,s=0,e=n.length;s<e&&(i=n[s].ss(t),i=0<s?!i:i);s+=1);return i},Mh.prototype.odt=function(t){for(var i=this.tdt,n=[],s=0,e=i.length;s<e;s+=1)Y.hL.isClockwise(i[s].xh)?n.length&&n[n.length-1].push(s):n.push([s]);for(s=0,e=n.length;s<e;s+=1){for(var a=!1,r=0,h=n[s].length;r<h;r+=1){var o=n[s][r],a=Sh.prototype.ss.call(i[o],t);if(!(a=0<r?!a:a))break}if(a)return!0}},Mh);function Mh(){}(Ve=Ro=Ro||{}).POINT="point",Ve.LINESTRING="linestring",Ve.LINEARRING="linearring",Ve.POLYGON="polygon",Ve.MULTIPOINT="multipoint",Ve.MULTILINESTRING="multilinestring",Ve.MULTIPOLYGON="multipolygon",Ve.GEOMETRYCOLLECTION="geometrycollection";var wh=(xh.prototype.hdt=function(){var t=this.getBounds();return t.center||(t.center=ct.getCenter(t)),t.center},xh.prototype.clone=function(){var t=new this.constructor;return t.init(this.XK()),t},xh.prototype.XK=function(){return this.xh},xh.prototype.got=function(t){if(this.adt=this.getBounds(),this.ndt=null,this instanceof kh){var i=t.length;this.tdt=new Array(i);for(var n=void 0,s=void 0,e=0;e<i;e+=1)if(n=t[e],s=new Sh(n),this.tdt[e]=s,0===e){if(0===n.length)return;s.isClockwise(n)||n.reverse()}else 0!==n.length&&s.isClockwise(n)&&n.reverse()}else this.xh=t},xh.rdt=Ro,xh);function xh(t){var i=this;this.setCoords=function(t){i.got(t)},this.init(t)}var Ah,F=(Ah=wh,Y.Ei(zh,Ah),zh.prototype.init=function(t){this.xh=t},zh.prototype.getBounds=function(){if(!this.ndt){for(var t=ct.createEmpty(),i=0,n=this.xh.length;i<n;i+=1)ct.extendCoordinate(t,this.xh[i]);this.ndt=t}return this.ndt},zh.prototype.XK=function(){return this.xh},zh.prototype.getType=function(){return wh.rdt.LINESTRING},zh.prototype.getCount=function(){return this.XK().length},zh.prototype.udt=function(t){return Y.hL.lr(t,this.XK())},zh);function zh(){return null!==Ah&&Ah.apply(this,arguments)||this}var Ch,Sh=(Ch=F,Y.Ei(Lh,Ch),Lh.prototype.getType=function(){return wh.rdt.LINEARRING},Lh.prototype.ss=function(t){return Y.hL.ss(t,this.xh)},Lh);function Lh(){var t=null!==Ch&&Ch.apply(this,arguments)||this;return t.isClockwise=Y.hL.isClockwise,t}var Th,Et=(Th=It,Y.Ei(Ih,Th),Ih.prototype.Tx=function(t){t&&(t=Y.Bs(t)?Y.ProjectionManager.getProjection("EPSG:3857").project(t.KL,t.kT):Y.ProjectionManager.getProjection("EPSG:3857").project(t[0],t[1]),this.Sx=Y.lcs.getLocalByCoord(t))},Ih.prototype.toGeometry=function(){if(this._opts.path){var t=this._opts.path.slice(0);return Y.ys(t)?{type:"Polygon",coordinates:[t]}:Y.Ox(t)?{type:"Polygon",coordinates:t}:{type:"MultiPolygon",coordinates:t}}},Ih.prototype.toString=function(){var t=this._opts.path;return Y.ys(t)?""+t.join(";"):Y.Ox(t)?""+Y.map(t,function(t){return""+t.join(";")}).join("|"):Y.tL(t)?Y.map(t,function(t){return Y.map(t,function(t){return""+t.join(";")}).join("|")}).join("^"):""},Ih.prototype.reset=function(){this.Dx&&this.Dx.reset(),this.Px&&this.Px.reset(),this.XB&&this.XB.reset(),this.qB&&this.qB.reset(),this.p0&&this.p0.reset(),this.m0&&this.m0.reset()},Ih.prototype.destroy=function(){this.Dx&&(this.Dx.destroy(),delete this.Dx),this.Px&&(this.Px.destroy(),delete this.Px),this.XB&&this.XB.destroy&&(this.XB.destroy(),delete this.XB),this.qB&&this.qB.destroy&&(this.qB.destroy(),delete this.qB),this.p0&&(this.p0.destroy(),delete this.p0),this.p0&&this.Px.destroy&&(this.p0.destroy(),delete this.p0),this.q$&&delete this.X$,this.$x&&(this.$x=[]),Th.prototype.destroy.call(this)},Ih.prototype.pdt=function(t,i,n){var s=0;if(i&&this._opts.extrusionHeight){for(var e=[],r=0;r<i.length;r++)e.push(i[r][0],i[r][1]);s=this.p0.tz(e,this._opts.extrusionHeight,n)}return n={bz:"",length:1,mainkey:this.hS,maxzoom:26,minzoom:2,offset:0,subkey:1},s&&0<s&&this.m0.add(n.mainkey,n.subkey,s,n.minzoom,n.maxzoom,n.bz),this.p0.upload(t),s},Ih.prototype.X$=function(t){for(var i=[],n=0,s=t;n<s.length;n++){for(var e=s[n],r=[],h=[],o=0,a=e[0];o<a.length;o++){var u=a[o],f=Y.ProjectionManager.getProjection("EPSG:3857").project(u[0],u[1]);h.push([f[0],f[1]])}h.length&&(h.push(h[0].slice()),r.push(h));for(var c=1,l=e.length;c<l;c++){var d=e[c],v=[];if(d&&d.length){for(var p=0,m=d;p<m.length;p++)u=m[p],f=Y.ProjectionManager.getProjection("EPSG:3857").project(u[0],u[1]),v.push([f[0],f[1]]);v.push(v[0].slice()),r.push(v)}}i.push(r)}this.q$=i},Ih.prototype.Q$=function(t,i){this.BB(),this.JL(),this.reset();var n=this.Dx,s=this.Px,e=this.XB,r=this.qB;this.Tx(t[0][0][0]);for(var h=0,o=t;h<o.length;h++){for(var a=o[h],u=this.Sx.center,f=[],c=[],l=[],d=[],v=[],p=0,m=a[0];p<m.length;p++){var y=m[p],b=Y.ProjectionManager.getProjection("EPSG:3857").project(y[0],y[1]);f.push(b[0]-u[0],b[1]-u[1]),c.push(y)}for(var g=1,k=a.length;g<k;g++){for(var M=[],w=[],x=0,A=a[g];x<A.length;x++)y=A[x],Y.Bs(y)?(M.push(y.pos[0]-u[0],y.pos[1]-u[1]),w.push(y.toJSON())):(b=Y.ProjectionManager.getProjection("EPSG:3857").project(y[0],y[1]),M.push(b[0]-u[0],b[1]-u[1]),w.push(y));l.push(M),d.push(w)}for(var z=[],g=0,k=f.length;g<k;g+=2)z.push(Y.xd(f[g],f[g+1]));Y.equals(z[0],z[z.length-1])||z.push(Y.Ex(z[0]));for(var C=f.length,g=0;g<l.length;g++)v.push(C/2),C+=l[g].length,Y.Util.Ig(f,l[g]);var S=n.Nx(f,v);if(i&&f&&0<this._opts.extrusionHeight){for(var L=z,T=[],g=0;g<l.length;g++)for(var I=l[g],D=0;D<I.length;D+=2)T.push([I[D],I[D+1]]);T&&0<T.length&&(new Sh(T).isClockwise(T)||T.reverse()),new Sh(z).isClockwise(z)&&z.reverse(),Y.Util.Ig(L,T),this.pdt(i,L,v)}e.add(S);var O=s.Nx(z,{lineJoin:"miter"}).Iw;for(r.add(O),g=0;g<l.length;g++){for(var E=[],R=0,k=(M=l[g]).length;R<k;R+=2)E.push(Y.xd(M[R],M[R+1]));E.push(Y.xd(M[0],M[1])),O=s.Nx(E,{lineJoin:"miter"}).Iw,r.add(O)}}i&&(this.Dx.upload(i),this.Px.upload(i))},Ih.prototype.JL=function(){this.Dx||(this.Dx=new Y.K_),this.Px||(this.Px=new Y.J_),this.XB||(this.XB=new Y.oE),this.qB||(this.qB=new Y.oE),this.p0||(this.p0=new Y.iz),this.m0||(this.m0=new Y._w)},Ih);function Ih(){return null!==Th&&Th.apply(this,arguments)||this}var Dh,Oh={map:void 0,fillColor:"#00D3FC",fillOpacity:.5,strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.9,strokeStyle:"solid",draggable:!1,extrusionHeight:0,bubble:!1,strokeDasharray:[10,5],zIndex:50,extData:{},noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange,async:!1},Eh=(Dh=Et,Y.Ei(Rh,Dh),Rh.prototype.getOptions=function(){return Y.extend({},this._opts)},Rh.prototype.setOptions=function(t){var i=this.nY(t),t=!Y.isEqual(this._opts.path,i.path);this._opts=i,this._checkMap(),t&&this.setPath(this._opts.path),this.to()},Rh.prototype.init=function(t){this.reset(),t=t||this._opts,this._opts=this.nY(t),this.setPath(this._opts.path),this._map&&(0<this._opts.extrusionHeight&&(this.zdt=this.Cdt.bind(this),this.Sdt=this.Ldt.bind(this),this.tv()),this._map.setNeedUpdate(!0))},Rh.prototype.destroy=function(){0<this._opts.extrusionHeight&&(this.Tdt(),this.zdt=null,this.Sdt=null),this.gdt&&delete this.gdt,this._opts,Dh.prototype.destroy.call(this)},Rh.prototype.getPath=function(){if(this._opts&&this._opts.path)return Y.parseLngLatData(Y.yn(this._opts.path))},Rh.prototype.setExtrusionHeight=function(t){this._opts&&(this._opts.extrusionHeight=t,this.reset(),this.Ix(this._opts.path)),this.to()},Rh.prototype.getExtrusionHeight=function(){return this._opts&&this._opts.extrusionHeight?this._opts.extrusionHeight:0},Rh.prototype.getBounds=function(){if(this.ir)i=this.ir;else{if(!(t=this._opts.path))return;if(!(t=eh(t)))return;(t=lt.ms(t))&&(i=this.ir=t)}if(i){if(!this._map||!this.zx||0===this.zx[0]&&0===this.zx[1])return this.ir;var t=i.getSouthWest(),i=i.getNorthEast(),t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx),i=this._map.getView().ru().moveWithPos([i.KL,i.kT],this.zx);return new lt(t,i)}},Rh.prototype.getArea=function(){if(this._opts&&this._opts.path){var t=Y.jsonLngLatData(this._opts.path);return Y.ys(t)?+Y.GeometryUtil.ringArea(t).toFixed(2):Y.Ox(t)?+dh(t).toFixed(2):+vh(t).toFixed(2)}return 0},Rh.prototype.contains=function(t,i){if(!this.jx())return!1;var n=this._opts.path,s=Y.parseLngLatData(t),e=null===(e=this._map)||void 0===e?void 0:e.lngLatToContainer(s);return!!e&&(0<this._opts.extrusionHeight&&(this._opts.bubble&&i&&i.Adt&&"click"===i.Adt&&(this.gdt=!1),!this.gdt)&&0<(e=this.queryPolyhedronFeature([e.x,e.y]))&&e===this.hS||!(this.ir&&!this.ir.contains(t))&&(Y.ys(n)?rh:Y.Ox(n)?hh:oh)([s.lng,s.lat],n))},Rh.prototype.setPath=function(t){t&&(this.reset(),this.Ix(t),this.to())},Rh.prototype.iE=function(t){if(!this.jx())return-1;if(this.ir&&!this.ir.contains(t))return-1;var i=this._opts.path,t=Y.parseLngLatData(t);return Y.ys(i)||Y.Ox(i)?0:function(t,i){for(var n=0,s=i.length;n<s;n++)if(hh(t,i[n]))return n;return-1}([t.lng,t.lat],i)},Rh.prototype.ZB=function(t){var i,n=this;this._map&&(this._needUpdate=!1,!this._opts.path||(i=eh(this._opts.path))&&(this._opts.async?this._map.gn.QB({data:i,type:"polygon"},function(t,i){t?console.log(t):(n.Dx=i.Dc,n.Px=i.$c,n.Sx=i.Sx,n.XB=i.Oc,n.qB=i.Uc)}):this.Q$(i,t)))},Rh.prototype.queryPolyhedronFeature=function(t){if(this._map&&this.bdt()){for(var i,s=(n=this._map).getView().getStatus(),e={layers:n.getLayers(),uo:n.Mv,size:s.size,do:n.do,viewState:s,map:n},r=0,h=n.getLayers();r<h.length;r++){var o=h[r];"AMap.VectorLayer"===o.CLASS_NAME&&(i=o)}var a=i.getRender();if(a){var u=a.pu||0,s=n.getGL(),n=t[0]*u,t=s.drawingBufferHeight-t[1]*u,u=new Uint8Array(4);if(a.vdt&&(e=a.pickRender(e,this),s.bindFramebuffer(s.FRAMEBUFFER,e),s.readPixels(n,t,1,1,s.RGBA,s.UNSIGNED_BYTE,u),s.bindFramebuffer(s.FRAMEBUFFER,null)),u=(a=a.ydt)&&a.GV([u[0],u[1],u[2]]))return u}}},Rh.prototype.Cdt=function(){this.gdt=!0},Rh.prototype.Ldt=function(){this.gdt=!1},Rh.prototype.tv=function(){this._map&&(this._map.on("mousedown",this.zdt),this._map.on("mouseup",this.Sdt))},Rh.prototype.Tdt=function(){this._map&&(this._map.off("mousedown",this.zdt),this._map.off("mouseup",this.Sdt))},Rh.prototype._dragging=function(t){var i,n,s;this.getDraggable()&&(s=this._dragObjects.hy,i=t.pos[0]-s[0],n=t.pos[1]-s[1],this._dragObjects.sy,s=this.getDeltaCoord(),this.b_([i+s[0],n+s[1]]),this.Ay(t),this.F$&&"d"===this._map.baseRender?this.moveWithPixel(this.B$[0],-1*this.B$[1]):this.moveWithPos(this.zx[0],this.zx[1]),this.BB(),this.B$=[0,0],this.F$&&(this.F$.style.transform="",this.F$.style.webkitTransform=""),this.to())},Rh.prototype.jx=function(){return Boolean(this._opts&&this._opts.path&&0<this._opts.path.length)},Rh.prototype.moveWithPixel=function(t,i){var n,s,e,r;this._map&&(n=this._map,r=Y.ProjectionManager.getProjection(n.getView().au()),s=this._opts.path,Y.ys(s)?(e=fh(s,[t,i],n.getZoom(),r),this.setPath(e)):(r=(Y.Ox(s)?ch:function(t,i,n,s){for(var e=[],r=0,h=t;r<h.length;r++){var o=ch(h[r],i,n,s);e.push(o)}return e})(s,[t,i],n.getZoom(),r),this.setPath(r)))},Rh.prototype.moveWithPos=function(t,i){var n,s,e;this._map&&(s=this._map,e=Y.ProjectionManager.getProjection(s.getView().au()),n=this._opts.path.slice(0),Y.ys(n)?(s=ah(n,[t,i],e),this.setPath(s)):(e=(Y.Ox(n)?uh:function(t,i,n){for(var s=[],e=0,r=t;e<r.length;e++){var h=uh(r[e],i,n);s.push(h)}return s})(n,[t,i],e),this.setPath(e)))},Rh.prototype.bdt=function(){if(this._opts.fillOpacity<=0)return!1;if(null!==(t=this._map)&&void 0!==t&&t.TL())return!1;var t=this._map.getZoom();return!(t<this._opts.zooms[0]||t>this._opts.zooms[1])},Rh);function Rh(t){void 0===t&&(t={});var n=Dh.call(this)||this;n.Ix=function(t){n._opts.path=Y.jsonLngLatData(t);var i=eh(t);i&&(n.ir=lt.ms(i),(t=n._map)&&("d"===t.baseRender?n.X$(i):n.cE()))};var i,s=t.path;return Y.iL(s)?(i=s[0],n.Tx(i)):Y.eL(s)?(i=s[0][0],n.Tx(i)):Y.yL(s)&&(i=s[0][0][0],n.Tx(i)),n.className="Overlay.Polygon",n._opts={fillColor:"#00D3FC",fillOpacity:.5,strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.9,strokeStyle:"solid",draggable:!1,extrusionHeight:0,wallColor:"#00D3FC",roofColor:"#00B2D5",bubble:!1,strokeDasharray:[10,5],zIndex:50,extData:{},noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange,async:!1},n._opts=n.nY(t),n._checkMap(),n}var Ph,jt=(Ph=Et,Y.Ei(jh,Ph),jh.prototype.getOptions=function(){return Y.extend({},this._opts)},jh.prototype.getArea=function(){var t=this.aE;return t?+vh(t).toFixed(2):0},jh);function jh(){var n=null!==Ph&&Ph.apply(this,arguments)||this;return n.contains=function(t){if(!n.aE)return!1;if(n.ir&&!n.ir.contains(t))return!1;var i=n.aE,t=Y.parseLngLatData(t);return(Y.ys(i)?rh:Y.Ox(i)?hh:oh)([t.lng,t.lat],i)},n}var Bh,Fh=(Bh=jt,Y.Ei(Wh,Bh),Wh.prototype.init=function(t){t=t||this._opts,this._opts=this.nY(t),this.setBounds(t.bounds)},Wh.prototype.setBounds=function(t){t&&(Y.xs(t)||(t=new lt(t)),this._opts.bounds=t,this.ir=t.clone(),this.cE(),this.to())},Wh.prototype.ZB=function(t){var i,n,s,e;this._map&&(this._needUpdate=!1,(i=this._opts.bounds)&&(n=this._map,(e=eh((s=(e=i).getSouthWest(),e=e.getNorthEast(),[new Y.LngLat(s.KL,s.kT,!0),new Y.LngLat(e.KL,s.kT,!0),new Y.LngLat(e.KL,e.kT,!0),new Y.LngLat(s.KL,e.kT,!0)])))&&(this.ir=i.clone(),this.aE=e,"d"===n.baseRender?this.X$(e):this.Q$(e,t)),this.to()))},Wh.prototype.moveWithPixel=function(t,i){var n,s,e;this._map&&(e=this._map,s=(n=this._opts.bounds).southWest.toJSON(),n=n.northEast.toJSON(),s=this._map.getView().ru().moveWithPixel(s,[t,i],e.getZoom()),e=this._map.getView().ru().moveWithPixel(n,[t,i],e.getZoom()),e=new lt(s,e),this.setBounds(e))},Wh.prototype.moveWithPos=function(t,i){var n,s;this._map&&(s=(n=this._opts.bounds).southWest.toJSON(),n=n.northEast.toJSON(),s=this._map.getView().ru().moveWithPos(s,[t,i]),i=this._map.getView().ru().moveWithPos(n,[t,i]),i=new lt(s,i),this.setBounds(i))},Wh.prototype.setOptions=function(t){var i=this.nY(t),t=!Y.isEqual(this._opts.bounds,i.bounds);this._opts=i,this._checkMap(),t&&this.setBounds(i.bounds),this.to()},Wh.prototype.getBounds=function(){if(this.ir)i=this.ir;else{if(!(t=this._opts.bounds))return;this.ir=t.clone(),i=this.ir}if(i){if(this.P$){var t=i.getSouthWest(),i=i.getNorthEast(),t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx),i=this._map.getView().ru().moveWithPos([i.KL,i.kT],this.zx);return new lt(t,i)}return this.ir}},Wh.prototype.getCenter=function(){if(this._opts.bounds)return this._opts.bounds.getCenter()},Wh);function Wh(t){void 0===t&&(t={});var n=Bh.call(this)||this;return n.className="Overlay.Rectangle",n.contains=function(t){var i=n.getBounds();return!!i&&i.contains(t)},n._opts={fillColor:"#00D3FC",fillOpacity:.5,strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.9,strokeStyle:"solid",draggable:!1,bubble:!1,strokeDasharray:[10,5],zIndex:50,extData:{},noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange,async:!1},n._opts=n.nY(t),n._checkMap(),n}var Gh,Nh=(Gh=jt,Y.Ei(_h,Gh),_h.prototype.init=function(t){t=t||this._opts,this._opts=this.nY(t),this.setCenterAndRadius(this._opts.center,this._opts.radius)},_h.prototype.setCenter=function(t){this.setCenterAndRadius(t,this._opts.radius)},_h.prototype.setRadius=function(t){this.setCenterAndRadius(this._opts.center,t)},_h.prototype.getCenter=function(){var t=Y.parseLngLatData(this._opts.center),t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx);return new Y.LngLat(t[0],t[1])},_h.prototype.getRadius=function(){return this._opts.radius},_h.prototype.setCenterAndRadius=function(t,i){this._opts.center=t,this._opts.radius=i,this.cE(),this.to()},_h.prototype.ZB=function(t){var i,n,s;this._map&&(this._needUpdate=!1,i=this._opts.center,s=this._opts.radius,i&&s&&(i=Y.jsonLngLatData(i),n=this._map,(s=eh(function(t,i,n){var s=[],e=Y.parseLngLatData(t),r=Y.ProjectionManager.getProjection("EPSG:3857");if(e)for(var h=(t=r.project(e.KL,e.kT))[0],o=t[1],t=n?89:359,a=(n?4:1)*Math.PI/180,u=i[0],f=i[1],c=Math.cos(e.kT*Math.PI/180),l=0,d=t;l<=d;l++){var v=l*a,p=u*Math.cos(v)/c,v=f*Math.sin(v)/c,v=r.unproject(h+p,o+v);s.push(v)}return s}(i,s,Y.Support.$e)))&&(this.ir=lt.ms(s),this.aE=s,"d"===n.baseRender?this.X$(s):this.Q$(s,t)),this.BB(),this._map.setNeedUpdate(!0)))},_h.prototype.moveWithPixel=function(t,i){var n,s;this._map&&(s=this._map,n=Y.parseLngLatData(this._opts.center),s=this._map.getView().ru().moveWithPixel([n.KL,n.kT],[t,i],s.getZoom()),this.setCenter(s))},_h.prototype.moveWithPos=function(t,i){var n;this._map&&(n=Y.parseLngLatData(this._opts.center),i=this._map.getView().ru().moveWithPos([n.KL,n.kT],[t,i]),this.setCenter(i))},_h.prototype.getBounds=function(){if(this.ir)s=this.ir;else{var t=this._opts.center,i=this._opts.radius;if(!t||!i)return;var n=Math.max(i[0],i[1]),i=(t=Y.parseLngLatData(t)).offset(-n,-n),n=t.offset(n,n);this.ir=new lt(i,n),s=this.ir}if(this.ir){if(this.P$){var n=s.getSouthWest(),s=s.getNorthEast(),n=this._map.getView().ru().moveWithPos([n.KL,n.kT],this.zx),s=this._map.getView().ru().moveWithPos([s.KL,s.kT],this.zx);return new lt(n,s)}return this.ir}},_h.prototype.setOptions=function(t){var i=this.nY(t),t=!Y.isEqual(this._opts.center,i.center)||!Y.isEqual(this._opts.radius,i.radius);this._opts=i,this._checkMap(),t&&this.setCenterAndRadius(this._opts.center,this._opts.radius),this.to()},_h);function _h(t){void 0===t&&(t={});var i=Gh.call(this)||this;return i.className="Overlay.Ellipse",i.Cx=Y.assign({center:void 0,radius:void 0},Oh),i._opts={fillColor:"#00D3FC",fillOpacity:.5,strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.9,strokeStyle:"solid",draggable:!1,bubble:!1,strokeDasharray:[10,5],zIndex:50,extData:{},noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange,async:!1},i._opts=i.nY(t),i._checkMap(),i}var Uh,Yh=(Uh=jt,Y.Ei(Zh,Uh),Zh.prototype.init=function(t){t=t||this._opts,this._opts=this.nY(t),this.setCenterAndRadius(this._opts.center,this._opts.radius)},Zh.prototype.setCenter=function(t){this.setCenterAndRadius(t,this._opts.radius)},Zh.prototype.setRadius=function(t){this.setCenterAndRadius(this._opts.center,t)},Zh.prototype.getCenter=function(){var t=Y.parseLngLatData(this._opts.center);if(this.P$){var i=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx);return new Y.LngLat(i[0],i[1])}return t},Zh.prototype.getRadius=function(){return parseFloat(this._opts.radius)},Zh.prototype.setCenterAndRadius=function(t,i){this._opts.center=t,Y.vB(i)&&0<=i&&(this._opts.radius=i),this.cE(),this.to()},Zh.prototype.ZB=function(t){var i,n,s;this._map&&(this._needUpdate=!1,i=this._opts.center,s=this._opts.radius,i&&Y.vB(s)&&(n=this._map,(s=eh(function(t,i){var n=[],s=Y.parseLngLatData(t),e=Y.ProjectionManager.getProjection("EPSG:3857");if(s)for(var r=(t=e.project(s.KL,s.kT))[0],h=t[1],o=6*Math.PI/180,a=Math.cos(s.kT*Math.PI/180),u=0;u<=60;u++){var f=u*o,c=i*Math.cos(f)/a,f=i*Math.sin(f)/a,f=e.unproject(r+c,h+f);n.push(f)}return n}(i,s)))&&(this.ir=lt.ms(s),this.aE=s,"d"===n.baseRender?this.X$(s):this.Q$(s,t)),this.BB(),this._map.setNeedUpdate(!0)))},Zh.prototype.moveWithPixel=function(t,i){var n,s;this._map&&(s=this._map,n=Y.parseLngLatData(this._opts.center),s=this._map.getView().ru().moveWithPixel([n.KL,n.kT],[t,i],s.getZoom()),this.setCenter(s))},Zh.prototype.moveWithPos=function(t,i){var n;this._map&&(n=Y.parseLngLatData(this._opts.center),i=this._map.getView().ru().moveWithPos([n.KL,n.kT],[t,i]),this.setCenter(i))},Zh.prototype.setOptions=function(t){var i=this.nY(t),t=!Y.isEqual(this._opts.center,i.center)||!Y.isEqual(this._opts.radius,i.radius);this._opts=i,this._checkMap(),t&&this.setCenterAndRadius(this._opts.center,this._opts.radius),this.to()},Zh.prototype.O$=function(t,i,n){},Zh.prototype.getBounds=function(){if(this.ir)s=this.ir;else{var t=this._opts.center,i=this._opts.radius;if(!t)return;if(!Y.vB(i))return;var n=(t=Y.parseLngLatData(t)).offset(-i,-i),i=t.offset(i,i);this.ir=new lt(n,i),s=this.ir}if(this.ir){if(this.P$){var i=s.getSouthWest(),s=s.getNorthEast(),i=this._map.getView().ru().moveWithPos([i.KL,i.kT],this.zx),s=this._map.getView().ru().moveWithPos([s.KL,s.kT],this.zx);return new lt(i,s)}return this.ir}},Zh.prototype.ab=function(t){return delete(t=Y.extend({},t)).center,delete t.radius,delete t.map,delete t.path,t},Zh);function Zh(t){void 0===t&&(t={});var i=Uh.call(this)||this;return i.className="Overlay.Circle",i._opts={fillColor:"#00D3FC",fillOpacity:.5,strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.9,strokeStyle:"solid",draggable:!1,bubble:!1,strokeDasharray:[10,5],zIndex:50,extData:{},noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange,async:!1},i._opts=i.nY(t),i}var Xh,Jt=(Xh=It,Y.Ei(Hh,Xh),Hh.prototype.Tx=function(t){t&&(t=Y.Bs(t)?Y.ProjectionManager.getProjection("EPSG:3857").project(t.KL,t.kT):Y.ProjectionManager.getProjection("EPSG:3857").project(t[0],t[1]),this.Sx=Y.lcs.getLocalByCoord(t))},Hh.prototype.setCenter=function(t){t&&(this._opts.center=Y.parseLngLatData(t),this.ir=new lt(this._opts.center,this._opts.center),this.cE(),this.to())},Hh.prototype.destroy=function(){this.KB&&delete this.KB,this.Sb&&(this.Sb.destroy(),delete this.Sb),Xh.prototype.destroy.call(this)},Hh.prototype.reset=function(){this.KB&&delete this.KB,this.Sb&&this.Sb.reset()},Hh.prototype.toGeometry=function(){if(this._opts.center){var t=Y.parseLngLatData(this._opts.center);return{type:"Point",coordinates:t&&t.toJSON()}}},Hh.prototype.XL=function(t){var i=Y.parseLngLatData(t);this.reset(),this.Tx(t),t=this.Sx.center,i=this._map.getView().ru().project(i.KL,i.kT),this.KB=[i[0]-t[0],i[1]-t[1]],Y.Support.safari&&(this.Sb||(this.Sb=new Y.e0),this.Sb.wb([i[0]-t[0],i[1]-t[1]]))},Hh);function Hh(t){var i=Xh.call(this)||this;return i.className="Overlay.Circle",i.Tx(t),i}var Jh,Vh=(Jh=Jt,Y.Ei(qh,Jh),qh.prototype.init=function(t){t=t||this._opts,this._opts=this.nY(t),this.setCenter(this._opts.center)},qh.prototype.setRadius=function(t){this._opts.radius=t,this.to()},qh.prototype.ZB=function(){var t;this._map&&(this._needUpdate=!1,(t=this._opts.center)&&this._map&&"d"!==this._map.baseRender&&(this.XL(t),this.BB()))},qh.prototype.getCenter=function(){var t=Y.parseLngLatData(this._opts.center);return this._map?(t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx),new Y.LngLat(t[0],t[1])):t},qh.prototype.getRadius=function(){return this._opts.radius},qh.prototype.moveWithPixel=function(t,i){var n,s;this._map&&(s=this._map,n=Y.parseLngLatData(this._opts.center),s=this._map.getView().ru().moveWithPixel([n.KL,n.kT],[t,i],s.getZoom()),this.setCenter(s))},qh.prototype.moveWithPos=function(t,i){var n;this._map&&(n=Y.parseLngLatData(this._opts.center),i=this._map.getView().ru().moveWithPos([n.KL,n.kT],[t,i]),this.setCenter(i))},qh.prototype.setOptions=function(t){var i=this.nY(t),t=!Y.isEqual(this._opts.center,i.center);this._opts=i,this._checkMap(),t&&this.setCenter(i.center),this.to()},qh.prototype.getOptions=function(){return Y.extend({},this._opts)},qh.prototype.getBounds=function(){if(this.ir)i=this.ir;else{if(!(t=this._opts.center))return;this.ir=new lt(t,t),i=this.ir}if(i){if(this.P$){var t=i.getSouthWest(),i=i.getNorthEast(),t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx),i=this._map.getView().ru().moveWithPos([i.KL,i.kT],this.zx);return new lt(t,i)}return this.ir}},qh.prototype.Ib=function(){var t=(t=this._opts).radius+(t.strokeWeight||0);return Math.min(t,64)},qh);function qh(t){var e=Jh.call(this,(t=void 0===t?{}:t).center||void 0)||this;return e.contains=function(t){return!!e._map&&(t=e._map.lngLatToContainer(t),e.containsWithPixel(t))},e.containsWithPixel=function(t){if(!e._map)return!1;if(!e._opts.center)return!1;var i=e.Ib(),n=Y.parseLngLatData(e._opts.center),s=e._map.getView().ru().moveWithPos([n.KL,n.kT],e.zx),n=e._map.lngLatToContainer(s);return!(Math.abs(n.x-t.x)>i||Math.abs(n.y-t.y)>i)&&(s=t.toJSON(),t=n.toJSON(),n=Math.abs(s[0]-t[0]),t=Math.abs(s[1]-t[1]),n=Math.sqrt(n*n+t*t),t=e._map.getView().Pu||0,n/Math.cos(t)<i)},e.className="Overlay.CircleMarker",e._opts={radius:20,fillColor:"#00D3FC",fillOpacity:.5,strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.9,strokeStyle:"solid",draggable:!1,bubble:!1,strokeDasharray:[10,5],zIndex:50,extData:{},noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange,async:!1},e._opts=e.nY(t),e._checkMap(),e}var Qh={rainbow:{HY:["#96005A","#0000C8","#0019FF","#0098FF","#2CFF96","#97FF00","#FFEA00","#FF6F00","#FF0000"],JY:[0,.125,.25,.375,.5,.625,.75,.875,1]},jet:{HY:["#000083","#003CAA","#05FFFF","#FFFF00","#FA0000","#800000"],JY:[0,.125,.375,.625,.875,1]},hsv:{HY:["#ff0000","#fdff02","#f7ff02","#00fc04","#00fc0a","#01f9ff","#0200fd","#0800fd","#ff00fb","#ff00f5","#ff0006"],JY:[0,.169,.173,.337,.341,.506,.671,.675,.839,.843,1]},hot:{HY:["#000000","#e60000","#ffd200","#ffffff"],JY:[0,.3,.6,1]},greys:{HY:["#000000","#ffffff"],JY:[0,1]},greens:{HY:["#00441b","#006d2c","#238b45","#41ab5d","#74c476","#a1d99b","#c7e9c0","#e5f5e0","#f7fcf5"],JY:[0,.125,.25,.375,.5,.625,.75,.875,1]},ylgnbu:{HY:["#081d58","#253494","#225ea8","#1d91c0","#41b6c4","#7fcdbb","#c7e9b4","#edf8d9","#ffffd9"],JY:[1,.875,.75,.625,.5,.375,.25,.125,0]},ylorrd:{HY:["#800026","#bd0026","#e31a1c","#fc4e2a","#fd8d3c","#feb24c","#fed976","#ffeda0","#ffffcc"],JY:[1,.875,.75,.625,.5,.375,.25,.125,0]}};function Kh(){}Kh.getTexture=function(t,i){return this.cache[i]||(Qh[i]&&(n=function(t){t.JY,t.HY;var i=document.createElement("canvas");i.height=1,i.width=256;for(var n=i.getContext("2d"),s=n.createLinearGradient(0,0,256,1),e=0;e<t.JY.length;e++){var r=t.JY[e],h=t.HY[e];s.addColorStop(r,h)}return n.fillStyle=s,n.fillRect(0,0,256,1),i}(Qh[i]),n=t.createTexture(n,{Zi:!0}),t=t.gl,n.bind(t.CLAMP_TO_EDGE,t.NEAREST,t.NEAREST_MIPMAP_NEAREST),this.cache[i]=n),null);var n},Kh.cache={},Y.dZ([Y.pZ("ColorScale")],Kh);var $h,ni=($h=It,Y.Ei(to,$h),to.prototype.Tx=function(t){t&&(t=Y.Bs(t)?Y.ProjectionManager.getProjection("EPSG:3857").project(t.KL,t.kT):Y.ProjectionManager.getProjection("EPSG:3857").project(t[0],t[1]),this.Sx=Y.lcs.getLocalByCoord(t))},to.prototype.destroy=function(){this.Px&&(this.Px.destroy(),delete this.Px),$h.prototype.destroy.call(this)},to.prototype.toGeometry=function(){var t=this._opts.path;if(t)return Y.ys(t)?{type:"LineString",coordinates:t}:Y.Ox(t)?{type:"MultiLineString",coordinates:t}:void 0},to.prototype.U_=function(t){this.F_&&(this.E_||(this.E_=t.createTexture(this.F_,{Zi:!0}),this.E_.bind(t.gl.CLAMP_TO_EDGE,t.gl.LINEAR,t.gl.LINEAR)))},to.prototype.aC=function(t,i){this.rC||(i=function(t){var i=document.createElement("canvas");i.height=1,i.width=4096;for(var n=i.getContext("2d"),s=n.createImageData(4096,1),e=0,r=0;r<4096;r++){for(var h=void 0;e<t.length;e++){if(e===t.length-1){h=t[e][1];break}if(!(4096*t[e+1][0]<r)){h=t[e][1];break}}var h=t[e][1],o=Y.Util.color2RgbaArray(h);s.data[4*r]=255*o[0],s.data[4*r+1]=255*o[1],s.data[4*r+2]=255*o[2],s.data[4*r+3]=255*o[3]}return n.putImageData(s,0,0),i}(i.values),this.rC=t.createTexture(i,{Zi:!0}),t=t.gl,this.rC.bind(t.CLAMP_TO_EDGE,t.NEAREST,t.NEAREST_MIPMAP_NEAREST))},to.prototype.X$=function(t){for(var i=[],n=[],s=0,e=t;s<e.length;s++){for(var r=[],h=[],o=0,a=e[s];o<a.length;o++){var u=a[o],f=Y.ProjectionManager.getProjection("EPSG:3857").project(u[0],u[1]);r.push([f[0],f[1]]),h.push(u)}i.push(r),n.push(h)}this.$x=n,this.q$=i},to.prototype.Q$=function(t){for(var i=[],n=[],s=0,e=t;s<e.length;s++){for(var r=[],h=[],o=0,a=e[s];o<a.length;o++){var u=a[o],f=Y.ProjectionManager.getProjection("EPSG:3857").project(u[0],u[1]);r.push([f[0],f[1],0]),h.push(u)}this.P_(r),i.push(r),n.push(h)}this.$x=n,this.q$=i,this.cE()},to.prototype.D_=function(t,i){if(0!==t.length){this.Px?this.Px.reset():this.Px=new Y.J_;for(var n=this.Sx.center,s=0,e=Y.ProjectionManager.getProjection("EPSG:3857"),r=this.EI,h=e.getResolution(r),o=0,a=t;o<a.length;o++){for(var u=a[o],f=[],c=0,l=u.length;c<l;c+=1)f.push(u[c][0]-n[0],u[c][1]-n[1]);var d=this._opts;10<=this.EI&&(this._opts.showDir||"dashed"===this._opts.strokeStyle)?s+=this.Px.eD(f,{X_:1,lineJoin:d.lineJoin,lineCap:d.lineCap},Math.floor(2048*h)).distance:s+=this.Px.hb(f,{X_:1,lineJoin:d.lineJoin,lineCap:d.lineCap}).distance}this.sC=s,i&&this.Px.upload(i)}},to.prototype.P_=function(t){t[0][2]=1/0,t[t.length-1][2]=1/0;var i=Y.ProjectionManager.getProjection("EPSG:3857").getResolution(16);!function t(i,n,s,e){for(var r=e,h=s-n>>1,o=s-n,a=s,u=i[n][0],f=i[n][1],c=i[s][0],l=i[s][1],d=n+1;d<s;d+=1){var v=function(t,i,n,s,e,r){var h,o=e-n,a=r-s;return 0===o&&0===a||(1<(h=((t-n)*o+(i-s)*a)/(o*o+a*a))?(n=e,s=r):0<h&&(n+=o*h,s+=a*h)),(o=t-n)*o+(a=i-s)*a}(i[d][0],i[d][1],u,f,c,l);r<v?(a=d,r=v):v!==r||(v=Math.abs(d-h))<o&&(a=d,o=v)}e<r&&(1<a-n&&t(i,n,a,e),i[a][2]=r,1<s-a&&t(i,a,s,e))}(t,0,t.length-1,i*i)},to);function to(){var u=null!==$h&&$h.apply(this,arguments)||this;return u.sC=0,u.W_=function(){if(Lr.isWebGL&&u._map&&u.q$&&!u._opts.geodesic&&!u._needUpdate){var t=u._map,i=Math.min(Y.Util.getOptimalZoom(t.getZoom()),20);if(u.EI!==i)if(i<18){u.EI=i;for(var n=Y.ProjectionManager.getProjection("EPSG:3857").getResolution(Math.min(Y.Util.getOptimalZoom(t.getZoom()),18)),s=[],e=0,r=u.q$;e<r.length;e++){for(var h=r[e],o=[],a=0;a<h.length;a+=1)h[a][2]>n*n*1&&o.push([h[a][0],h[a][1]]);s.push(o)}u.D_(s)}else u.EI=i,u.D_(u.q$)}},u}var io,no=(io=ni,Y.Ei(so,io),so.prototype.getOptions=function(){return Y.extend({},this._opts)},so.prototype.getPath=function(){if(this._opts&&this._opts.path)return Y.parseLngLatData(Y.yn(this._opts.path))},so.prototype.destroy=function(){this.E_&&(this.E_.destroy(),delete this.E_),io.prototype.destroy.call(this)},so.prototype.getBounds=function(){if(this.ir)i=this.ir;else{if(!(t=this._opts.path))return;if(!(t=ph(t)))return;(t=lt.bS(t))&&(i=this.ir=t)}if(i){if(!this._map||!this.zx||0===this.zx[0]&&0===this.zx[1])return this.ir;var t=i.getSouthWest(),i=i.getNorthEast(),t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx),i=this._map.getView().ru().moveWithPos([i.KL,i.kT],this.zx);return new lt(t,i)}},so.prototype.setPath=function(t){t&&(this.Ix(t),this.to())},so.prototype.moveWithPixel=function(t,i){if(this._map){for(var n=this._map,s=Y.ProjectionManager.getProjection(n.getView().au()),e=[],r=0,h=this.$x;r<h.length;r++){for(var o=[],a=0,u=h[r];a<u.length;a++){var f=u[a];o.push(s.moveWithPixel(f,[t,i],n.getZoom()))}e.push(o)}this.setPath(e)}},so.prototype.moveWithPos=function(t,i){if(this._map){for(var n=this._map,s=Y.ProjectionManager.getProjection(n.getView().au()),e=[],r=0,h=this.$x;r<h.length;r++){for(var o=[],a=0,u=h[r];a<u.length;a++){var f=u[a];o.push(s.moveWithPos(f,[t,i]))}e.push(o)}this.setPath(Y.parseLngLatData(e))}},so.prototype.getLength=function(){var t=this._opts&&this._opts.path;return Y.ys(t)?+mh(t).toFixed(2):Y.Ox(t)?+function(t){for(var i=0,n=0,s=t;n<s.length;n++)i+=mh(s[n]);return i}(t).toFixed(2):0},so.prototype.rL=function(){return this.sC},so.prototype.ZB=function(t){this._map&&(this._needUpdate=!1,this.D_(this.q$,t))},so.prototype.setOptions=function(t){var i=this.nY(t),t=function(t,i,n){for(var s=0,e=n.length;s<e;s+=1){var r=n[s];if(t[r]!==i[r])return!0}return!1}(this._opts,i,["path","lineCap","lineJoin","geodesic"]);i.lineGradient!==this._opts.lineGradient&&this.rC&&(this.rC.destroy(),delete this.rC),this._opts=i,this._checkMap(),t&&this.setPath(this._opts.path),this.to()},so.prototype.init=function(t){var i,n=this,t=t||this._opts,t=this.nY(t);this._opts=t,this._opts.dirImg&&(this._opts.dirImg instanceof HTMLCanvasElement?this.F_=this._opts.dirImg:(i=this._opts.dirImg,this._map.z_.loadImage(this._opts.dirImg,{type:"dirImg",cb:function(t){t?n.F_=t.img:console.error("load dirImg error",i)}}))),this.setPath(this._opts.path),this._map&&(this.W_(),this._map.setNeedUpdate(!0))},so.prototype.contains=function(t){if(!this.jx())return!1;if(this.ir&&this.ir.southWest.lat!==this.ir.northEast.lat&&this.ir.southWest.lng!==this.ir.northEast.lng&&!this.ir.contains(t))return!1;for(var i=this._map.getView(),n=i.getStatus().pitch*Math.PI/180,t=Y.parseLngLatData(t),s=i.ru().project(t.lng,t.lat),e=i.ru().getResolution(this._map.getZoom()),r=0,h=this.q$;r<h.length;r++){var o=h[r];if(Y.hL.lr(s,o)*Math.cos(n)<this._opts.strokeWeight*e)return!0}return!1},so.prototype.jx=function(){return Boolean(this._opts&&this._opts.path&&0<this._opts.path.length)},so.prototype.Ix=function(t){var i=Y.jsonLngLatData(t);this._opts.path=i,i=ph(t),Y.Ox(i)?(this._opts.geodesic&&(i=Y.map(i,yh)),this.Tx(i[0][0]),this.ir=lt.bS(i),this._map&&("d"===this._map.baseRender?this.X$(i):(this.Q$(i),this.BB()))):console.error("error Polyline path")},so.prototype.rD=function(t){var i=Y.jsonLngLatData(t);this._opts.path=i,i=ph(t),Y.Ox(i)?(this._opts.geodesic&&(i=Y.map(i,yh)),this.Tx(i[0][0]),this.ir=lt.bS(i)):console.error("error Polyline path")},so);function so(t){void 0===t&&(t={});var i=io.call(this)||this;return i.className="Overlay.Polyline",i._opts={cursor:"",strokeColor:"#00B2D5",strokeWeight:2,strokeOpacity:.5,strokeStyle:"solid",draggable:!1,bubble:!1,strokeDasharray:[10,5],isOutline:!1,geodesic:!1,showDir:!1,outlineColor:"#00B2D5",borderWeight:1,lineJoin:"miter",lineCap:"butt",extData:{},zIndex:50,dirColor:"white",dirImg:"",lineGradient:void 0,noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange},i.EI=-1,i._opts=i.nY(t),i._opts.path&&i.rD(i._opts.path),i._checkMap(),i}var eo,bt=(eo=ni,Y.Ei(ro,eo),ro.prototype.getOptions=function(){return Y.extend({},this._opts)},ro);function ro(){return null!==eo&&eo.apply(this,arguments)||this}var oo,ao=(oo=Y.LngLat,Y.Ei(uo,oo),uo.prototype.lL=function(){for(var t=[],i=0,n=this.controlPoints;i<n.length;i++){var s=n[i];t.push(s.toJSON())}return t.push(this.toJSON()),t},uo.prototype.moveWithPos=function(t,i,n){for(var s=t.moveWithPos(this.toJSON(),[i,n]),e=[],r=0,h=this.controlPoints.length;r<h;r++){var o=this.controlPoints[r];e.push(t.moveWithPos(o.toJSON(),[i,n]))}return e.push(s),new uo(e)},uo.prototype.moveWithPixel=function(t,i,n,s){for(var e=t.moveWithPixel(this.toJSON(),[i,n],s),r=[],h=0,o=this.controlPoints.length;h<o;h++){var a=this.controlPoints[h];r.push(t.moveWithPixel(a.toJSON(),[i,n],s))}return r.push(e),new uo(r)},uo);function uo(t){var i=this;if(Y.ys(t)){for(var n=t.length,i=oo.call(this,t[n-1][0],t[n-1][1])||this,s=[],e=0,r=n-1;e<r;e+=1){var h=t[e][0],o=t[e][1];s.push(new Y.LngLat(h,o))}i.controlPoints=s}else{for(n=t.length,i=oo.call(this,t[n-2],t[n-1])||this,s=[],e=0,r=n-2;e<r;e+=2)h=t[e],o=t[e+1],s.push(new Y.LngLat(h,o));i.controlPoints=s}return i}var fo,co=(fo=bt,Y.Ei(lo,fo),lo.prototype.init=function(t){var i,n=this,t=t||this._opts;this._opts=this.nY(t),this._opts.dirImg&&(this._opts.dirImg instanceof HTMLCanvasElement?this.F_=this._opts.dirImg:(i=this._opts.dirImg,this._map.z_.loadImage(this._opts.dirImg,{type:"dirImg",cb:function(t){t?n.F_=t.img:console.error("load dirImg error",i)}}))),this.setPath(this._opts.path),this._map&&(this.W_(),this._map.setNeedUpdate(!0))},lo.prototype.setOptions=function(t){var i=this.nY(t),t=!Y.isEqual(this._opts.path,i.path);this._opts=i,this._checkMap(),t&&this.Ix(this._opts.path),this.BB(),this.to()},lo.prototype.ZB=function(t){this._map&&(this._needUpdate=!1,this.D_(this.q$,t))},lo.prototype.getPath=function(){if(this._opts)return this._opts.path},lo.prototype.setPath=function(t){t&&(this._opts.path=t,this.Ix(t))},lo.prototype.getBounds=function(){if(this.ir)i=this.ir;else{if(!(t=this.$x))return;if(!(t=ph(t)))return;(t=lt.bS(t))&&(i=this.ir=t)}if(i){if(!this._map||!this.zx||0===this.zx[0]&&0===this.zx[1])return this.ir;var t=i.getSouthWest(),i=i.getNorthEast(),t=this._map.getView().ru().moveWithPos([t.KL,t.kT],this.zx),i=this._map.getView().ru().moveWithPos([i.KL,i.kT],this.zx);return new lt(t,i)}},lo.prototype.moveWithPos=function(t,i){if(this._map){var n=this._map,s=Y.ProjectionManager.getProjection(n.getView().au());if(n=this.getPath()){for(var e=[],r=0,h=n;r<h.length;r++){var o=h[r],o=(o=new ao(o)).moveWithPos(s,t,i);e.push(o.lL())}this.setPath(e)}}},lo.prototype.moveWithPixel=function(t,i){if(this._map){var n=this._map,s=Y.ProjectionManager.getProjection(n.getView().au()),e=this.getPath();if(e){for(var r=[],h=n.getZoom(),o=0,a=e;o<a.length;o++){var u=a[o],u=(u=new ao(u)).moveWithPixel(s,t,i,h);r.push(u.lL())}this.setPath(r)}}},lo.prototype.contains=function(t){if(!this.jx())return!1;if(this.ir&&!this.ir.contains(t))return!1;for(var i=this._map.getView(),n=i.getStatus().pitch*Math.PI/180,t=Y.parseLngLatData(t),s=i.ru().project(t.lng,t.lat),e=i.ru().getResolution(this._map.getZoom()),r=0,h=this.q$;r<h.length;r++){var o=h[r];if(Y.hL.lr(s,o)*Math.cos(n)<this._opts.strokeWeight*e)return!0}return!1},lo.prototype.Ix=function(t){var i=[];if(t)for(var n=0,s=t;n<s.length;n++){var e=s[n];i.push(new ao(e))}t=ph(this.yb(i)),this.Tx(t[0][0]),this.ir=lt.bS(t),this._map&&("d"===this._map.baseRender?this.X$(t):(this.Q$(t),this.BB()))},lo.prototype.jx=function(){return Boolean(this._opts&&this._opts.path&&0<this._opts.path.length)},lo.prototype.yb=function(t){if(!this._map)return[];var i=Y.ProjectionManager.getProjection("EPSG:3857").getResolution(this._map.getZoom());return Y.bb.xb(t,i)},lo);function lo(t){void 0===t&&(t={});var i=fo.call(this)||this;return i.className="Overlay.BezierCurve",i.bo=3,i.W_=function(){},i._opts={cursor:"",strokeColor:"#00D3FC",strokeWeight:2,strokeOpacity:.5,strokeStyle:"solid",draggable:!1,bubble:!1,strokeDasharray:[10,5],isOutline:!1,geodesic:!1,showDir:!1,outlineColor:"#00B2D5",borderWeight:1,lineJoin:"miter",lineCap:"butt",extData:{},zIndex:50,dirColor:"white",dirImg:"",lineGradient:void 0,noSelect:!1,innerOverlay:!1,zooms:Y.zoomRange},i.EI=-1,i._opts=i.nY(t),i._checkMap(),i}var vo,go={high:{fillColor:"rgb(252, 249, 242)",strokeColor:"rgb(230,142,0)"},unHigh:{fillColor:"rgb(252, 249, 242)",strokeColor:"rgb(171,171,171)"}},ko=(vo=Mt,Y.Ei(Mo,vo),Mo.prototype.Do=function(t){return t&&(this.Jh=t).HF(this),t},Mo.prototype.onAdd=function(){var t;this.$F=new Rn({zIndex:this.Qh,visible:this.il,TF:!0}),null!==(t=this.map)&&void 0!==t&&t.addLayer(this.$F)},Mo.prototype.v$=function(){var t;null!==(t=this.map)&&void 0!==t&&t.removeLayer(this.$F)},Mo.prototype.destroy=function(){vo.prototype.destroy.call(this),this.$F.destroy(),this.$F&&this.$F.destroy&&(this.$F.destroy(),delete this.$F)},Mo.prototype.yD=function(){return{show:this.xD}},Mo.prototype.mD=function(t){this.xD=t},Mo.prototype.cD=function(){var n=this;if(this.dD)return!1;this.dD=!0,this._map.on("moveend",function(){var t=n._map.getZoom(),i=n.VR;n.VR.showId,i&&i.centerId&&i.indoor&&(!n.ZT(i.indoor)||t<n.xt[0]?(n.e$&&(n.e$.hide(),n.xD=!1),n.nD()):n.e$&&n.VR.visible&&(n.mL||n.e$.show(),n.xD=!0))})},Mo.prototype.uD=function(){for(var t=this.VR,i=t.indoor,n=t.centerId,s=Object.keys(i),e=go,r=0;r<s.length;r++){var h=s[r];if(i[h]&&i[h].outline)for(var o=i[h].outline,a=0;a<o.length;a++){var u=o[a],f=u.getOptions();f.strokeColor=(h===n?e.high:e.unHigh).strokeColor,u.setOptions(f)}}},Mo.prototype.oZ=function(){for(var t=this.VR,i=t.indoor,n=(t.centerId,Object.keys(i)),s=go,e=0;e<n.length;e++){var r=n[e];if(i[r]&&i[r].outline)for(var h=i[r].outline,o=0;o<h.length;o++){var a=h[o],u=a.getOptions();u.strokeColor=s.unHigh.strokeColor,a.setOptions(u)}}},Mo.prototype.BT=function(){var t=this;setTimeout(function(){t._map&&t._map.emit("indoor_create")},500)},Mo.prototype.bL=function(t){this.VR.opacity=t,this.gL()},Mo.prototype.wL=function(t){this.VR.zIndex=t,this.gL()},Mo.prototype.ZI=function(){return this.VR},Mo.prototype.KI=function(t){this.VR=t},Mo.prototype.getState=function(){return{zooms:[17,Y.zoomRange[1]],visible:this.il,opacity:this.tl,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF,ce:this.IF}},Mo.prototype.getSourceConfig=function(){return{id:this._id,type:"indoor",zooms:[17,Y.zoomRange[1]],url:""}},Mo.prototype.co=function(){return this._id},Mo.prototype.getMap=function(){return this._map},Mo.prototype.n$=function(t,i){this.VR.floorInfo||(this.VR.floorInfo={}),this.VR.floorInfo[t]=i},Mo.prototype.emit=function(t,i){return vo.prototype.emit.call(this,t,i),this},Mo.prototype.showId=function(t){this.VR.showId=t},Mo.prototype.setBar=function(t){this.e$=t},Mo.prototype.setBarOpt=function(t){this.VR.defaultBarFloor=t},Mo.prototype._hideLayer=function(t){this.VR.visible=t,this.DT(t),this._hideBar(!t),t?this.$F.show():this.$F.hide(),this.gL()},Mo.prototype._hideBar=function(t){this.mL=t,this.VR.hideFloorBar=t,this.e$&&t?this.e$.hide():this.e$&&this.e$.show()},Mo.prototype._showLabels=function(t){this.VR.showLabels=t;var i=this._map&&this._map.showLabel;this.VR.labelsLayer&&t&&i?this.VR.labelsLayer.show():this.VR.labelsLayer&&this.VR.labelsLayer.hide()},Mo.prototype.setShowId=function(t){this.VR.hasId=t},Mo.prototype.update=function(){this.gL()},Mo.prototype._getSelectedBuildingId=function(){return this.VR.centerId},Mo.prototype._getSelectedBuilding=function(){return this.VR.building},Mo.prototype.setRenderData=function(t){this.VR=Y.assign(this.VR,t)},Mo.prototype.getIntersectPoly=function(t){var i=!1,n=t.getBounds(),t=this._map&&this._map.getBounds();return n&&t?t.intersects(n):i},Mo.prototype.getIntersect=function(t){if(!t)return!1;for(var i=!1,n=this._map&&this._map.getBounds(),s=0;s<t.length;s++){var e=t[s],e=new AMap.LngLat(e[0],e[1]);if(i=n.contains(e))return!0}return i},Mo.prototype.YR=function(t,s){var e=this;try{if(!this._map||!this._map.gn)return;var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&e._map.gn.JB(i.response,function(t,i){var n;t?console.log(t):(t=(n=Object.keys(i))[0]?i[n[0]].building:void 0)&&t.properties&&t.properties.outside_outline&&(n=i[n[0]].building.properties.outside_outline,(n=AMap.Bounds.xS(n))&&e._map.setBounds(n)),s&&s()})},i.open("GET",t,!0),i.responseType="arraybuffer",i.send()}catch(t){}},Mo.prototype.DT=function(t){for(var i=this.VR.indoor,n=Object.keys(i),s=0;s<n.length;s++){var e=i[n[s]];if(e.polygons)for(var r=0;r<e.polygons.length;r++){var h=e.polygons[r];t?h.show():h.hide()}if(e.markers)for(var o=0;o<e.markers.length;o++){var a=e.markers[o];t?a.show():a.hide()}}},Mo.prototype.ZT=function(t){for(var i=Object.keys(t),n=0;n<i.length;n++){var s=i[n];if(this._map&&t[s].outline&&(s=t[s].outline,s=this.getIntersectPoly(s[0])))return s}return!1},Mo.prototype.gL=function(){},Mo.prototype.nD=function(){for(var t=this.VR.indoor,i=Object.keys(t),n=0;n<i.length;n++){var s=i[n],e=t[s];e.polygons&&this.$F.remove(e.polygons),e&&e.markers&&0<e.markers.length&&this.VR.labelsLayer&&this.VR.labelsLayer.remove(e.markers),delete t[s]}},Mo);function Mo(t){var i=vo.call(this)||this;return i.CLASS_NAME="AMap.IndoorLayer",t=t||{},i._id="indoor",i.il=!0,i.Qh=t.zIndex||5,i.tl=t.opacity||1,i.mL=t.hideFloorBar||!1,i.xL=t.cursor||"auto",i.xt=[17,Y.zoomRange[1]],i.xD=!1,i.dD=!1,0===t.opacity&&(i.tl=0),i.VR={opacity:i.tl,zIndex:i.Qh,visible:i.il,cursor:i.xL,centerId:null,centerFloor:null,indoor:{},hideFloorBar:i.mL,showLabels:!0,reRender:!1,floorInfo:{},indoorState:{},centerBuilding:{}},t&&t.map&&(i._map=t.map,i.cD()),i._config=AMap.getConfig(),i.BT(),i}var wo,xo=(wo=ko,Y.Ei(Ao,wo),Ao.prototype.showIndoorMap=function(t,i,n){var s,e=i||1;t&&(this.pL=t,wo.prototype.showId.call(this,t),wo.prototype.n$.call(this,t,e),this.pL=t,s=this._config.server+"/v3/indoor/indoormaps?",(i=[]).push("poiid="+t),i.push("floor="+e),i.push("version=0"),i.push("s=rsv3"),i.push("from=indoorH5Map"),i.push("servicetype=unify"),i.push("key="+this._config.key),this._config.jscode?i.push("jscode="+this._config.jscode):this._config.gaodeserver&&(s=this._config.gaodeserver+"/v3/indoor/indoormaps?"),i=s+i.join("&"),wo.prototype.YR.call(this,i))},Ao.prototype.showFloor=function(t,i){this.pL&&this.showIndoorMap(this.pL,t)},Ao.prototype.show=function(){this._hideLayer(!0)},Ao.prototype.hide=function(){this._hideLayer(!1)},Ao.prototype.getMap=function(){return this._map},Ao.prototype.setMap=function(t){var i=(this._map=t).getStatus().animateEnable;wo.prototype.setRenderData.call(this,{animateState:i}),t.setStatus({animateEnable:!1}),wo.prototype.setMap.call(this,t),wo.prototype.cD.call(this)},Ao.prototype.setzIndex=function(t){wo.prototype.wL.call(this,t)},Ao.prototype.showFloorBar=function(){this._hideBar(!1)},Ao.prototype.hideFloorBar=function(){this._hideBar(!0)},Ao.prototype.setOpacity=function(t){wo.prototype.bL.call(this,t)},Ao.prototype.getOpacity=function(){return wo.prototype.getOpacity.call(this)},Ao.prototype.showLabels=function(){this._showLabels(!0)},Ao.prototype.hideLabels=function(){this._showLabels(!1)},Ao.prototype.getSelectedBuildingId=function(){return wo.prototype._getSelectedBuildingId.call(this)},Ao.prototype.getSelectedBuilding=function(){return wo.prototype._getSelectedBuilding.call(this)},Ao);function Ao(t){var i=wo.call(this,t)||this;return i.CLASS_NAME="AMap.IndoorMap",i._config=AMap.getConfig(),i.pL="",t&&t.map&&(i._map=t.map,t=t.map.getStatus().animateEnable,wo.prototype.setRenderData.call(i,{animateState:t})),i}function Co(t,i,n){this.x=i,this.y=n,this.z=t,this.key=t+","+i+","+n}var zo,St=(zo=Xi,Y.Ei(So,zo),So.prototype.getLayerConfig=function(){var t=zo.prototype.getLayerConfig.call(this);return t.mapNumber="GS(2019)756",t},So.prototype.getSourceConfig=function(){return{id:this._id,tileUrl:this.Be||"",type:"districtVectorTile",tileSize:this.Xa||256,zooms:this.xt,dataZooms:this.Qs||[3,16],projection:this.hl||"EPS3857",SOC:this.SOC}},So.prototype.getLayerOptions=function(){return{zIndex:this.Qh,visible:this.il,zooms:this.xt,opacity:this.tl,adcode:this._adcode,styles:this.Ze,layer:this,rejectMapMask:this._rejectMapMask,depthTest:this.AF}},So.prototype.getState=function(){return Y.Ln({},this.getLayerOptions())},So.prototype.getDistrictByContainerPos=function(t){if(i=this.map){var i,n=i.containerToLngLat(t),s=i.getProjection().project(n.lng,n.lat),e=i.getView().getStatus().optimalZoom,t=i.getTileCoordByLngLat(n,this.Xa||256,e-1);if(!(n=(i=this.getSource().getTileCache()).getTile(t))&&t.z<12&&(e=Math.pow(2,t.z)/((this.Xa||256)/256),n=i.getTile(new Co(t.z,t.x+e,t.y))||i.getTile(new Co(t.z,t.x-e,t.y))),n&&n.localCoord&&n.data){var r=[s[0]-n.localCoord.center[0],s[1]-n.localCoord.center[1]],h=n.data;if(h.polygons)for(var o=0,a=h.polygons.length;o<a;o+=1){var u=h.polygons[o];if(3<u.path.length&&3===u.properties.feature_type_){for(var f=[],c=0,l=u.path.length;c<l;c+=2)f.push([u.path[c],u.path[c+1]]);if(AMap.GeometryUtil.pointInRing(r,[[f]]))return u.properties}}}}},So.prototype.co=function(){return this._id},So.prototype.destroy=function(){this.Jh&&this.Jh.destroy&&(this.Jh.destroy(),delete this.Jh)},So.prototype.reload=function(){var t;this.map&&((t=this.getSource()).setTileUrl(this.Be),t.reload(),this.map.setNeedUpdate(!0))},So.prototype.yE=function(){var n=this;AMap.xE||AMap.bE||(AMap.bE="loading",AMap.Http.Ajax(this._E,{},function(t,i){i&&i.data&&(i=JSON.parse(i.data),AMap.xE||(AMap.xE=i,n.wE&&(i=n.wE,n.setFitViewByAdcode(i.CE,i.zE,i.avoid))))}))},So);function So(){var t=null!==zo&&zo.apply(this,arguments)||this;return t.CLASS_NAME="AMap.DistrictLayer",t._E=AMap.getConfig().protocol+"://mvt.amap.com/getDistrictInfo",t}var Lo,To=(Lo=St,Y.Ei(Io,Lo),Io.prototype.setSOC=function(t){this.SOC=t,this.Be=this.Ml.replace("[SOC]",this.SOC),this.reload()},Io.prototype.setDistricts=function(t){this.setAdcode(t)},Io.prototype.getDistricts=function(){return this._adcode},Io.prototype.setStyles=function(t){this.Ze=Y.Util.baseAssign(Y.Util.baseAssign({},this.tP.styles),t),this.map&&((t=this.getRender())&&t.clearStyleCache(),this.map.setNeedUpdate(!0))},Io.prototype.getStyle=function(){return this.Ze},Io.prototype.setAdcode=function(t){var i;t instanceof Array||(t=[t]);for(var n={},s=0;s<t.length;s+=1)n[t[s]]=1;this._adcode=t=n,null!==(i=this.map)&&void 0!==i&&i.setNeedUpdate(!0)},Io.prototype.setFitViewByAdcode=function(t,i,n){var s,e;if(void 0===i&&(i=!1),t instanceof Array||(t=[t]),this.RE||(this.RE=window.AE),AMap.xE){this.RE=AMap.xE;for(var r=0;r<t.length;r+=1){var h=this.RE[t[r]],h=new lt(Y.Pt(h[0],h[1]));e?e.union(h):e=h}this.map&&null!==(s=this.map)&&void 0!==s&&s.setBounds(e,i,n)}else this.wE={CE:t,zE:i,avoid:n}},Io.prototype.on=function(s,t,i,n){var e,r=this;void 0===n&&(n=!1);var h=this.getEvents(),o=!!h[s];return Lo.prototype.on.call(this,s,t,i,n),this.map?o||("click"!==s&&"mousemove"!==s||null!==(e=this.map)&&void 0!==e&&e.on(s,function(t){if(!h[s])return r;t.type=s,t.target=r;var i=t.pixel,i=r.getDistrictByContainerPos(i),t={preProps:r.IE,props:i,origin:t};r.emit(s,t)}),/(mouseenter|mouseleave|mouseover|mouseout)/.test(s)&&(null!==(e=this.map)&&void 0!==e&&e.on("mouseleave",function(t){if("mouseleave"===s||"mouseout"===s){if(!h[s])return r;t.type=s,t={preProps:(t.target=r).IE,props:void 0,origin:t},r.emit(s,t),r.IE=void 0}}),null!==(e=this.map)&&void 0!==e&&e.on("mousemove",function(t){if(!h[s])return r;var i,n=t.pixel;(n=r.getDistrictByContainerPos(n))?r.IE&&r.IE.adcode===n.adcode&&r.IE.SOC===n.SOC||(t.type=s,i={preProps:(t.target=r).IE,props:n,origin:t},r.emit("mouseleave",i),r.emit("mouseout",i),r.emit("mouseenter",i),r.emit("mouseover",i),r.IE=n):r.IE&&("mouseout"!==s&&"mouseleave"!==s||(t.type=s,i={preProps:(t.target=r).IE,props:n,origin:t},r.emit("mouseleave",i),r.emit("mouseout",i),r.IE=n))}))):(n={fn:t,context:i,once:n},this.LE[s]?this.LE[s].push(n):this.LE[s]=[n]),this},Io.prototype.onAdd=function(){if(Lo.prototype.onAdd.call(this),this.LE)for(var t in this.LE)if(this.LE.hasOwnProperty(t))for(var i=this.LE[t],n=0;n<i.length;n++)this.on(t,i[n].fn,i[n].context)},Io);function Io(t){var i=Lo.call(this,t)||this;return i.LE={},i.CX="2"===t.dataVersion?"2":"",i.tP={id:"DistrictLayer_"+Y.Util.uuid(),tileUrl:AMap.getConfig().protocol+"://mvt.amap.com/district/[SOC]/[z]/[x]/[y]/4096?\nkey="+AMap.getConfig().key+"&version="+i.CX,zooms:Y.zoomRange,dataZooms:[1,18],opacity:1,visible:!0,depth:0,zIndex:80,styles:{"stroke-width":.5,"nation-stroke":[.35,.35,.35,1],"coastline-stroke":[.18,.63,.94,1],"province-stroke":[.5,.5,.5,1],"city-stroke":[.7,.7,.7,1],"county-stroke":[.85,.85,.85,1],fill:[1,1,1,1],dash:void 0,zIndex:0},SOC:"CHN"},i.SOC=t.SOC||i.tP.SOC,i._id=i.tP.id,t.adcode&&i.setAdcode(t.adcode),i._depth=t.depth||i.tP.depth,i.Ze=Y.Util.baseAssign(Y.Util.baseAssign({},i.tP.styles),t.styles||{}),i.Ml=i.tP.tileUrl,i.Be=i.tP.tileUrl.replace("[SOC]",i.SOC),i.xt=t.zooms||i.tP.zooms,i.tl=(void 0===t.opacity?i.tP:t).opacity,i.il=(void 0===t.visible?i.tP:t).visible,i.Qh=(void 0===t.zIndex?i.tP:t).zIndex,i.Qs=i.tP.dataZooms,i.CLASS_NAME="AMap.DistrictLayer",i}var Do,Ve=(Do=To,Y.Ei(Oo,Do),Oo);function Oo(t){var i=this,n={id:"WorldLayer_"+Y.Util.uuid(),zIndex:81,SOC:"WLD"};return(i=Do.call(this,t)||this)._id=n.id,i.SOC=t.SOC||n.SOC,i.Qh=(void 0===t.zIndex?n:t).zIndex,i.Be=i.Ml.replace("[SOC]",i.SOC),i.CLASS_NAME="AMap.DistrictLayer.World",i}var Eo,Ro=(Eo=To,Y.Ei(Po,Eo),Po);function Po(t){var i=this,n={id:"CountryLayer_"+Y.Util.uuid(),depth:1,zIndex:82,SOC:"CHN"};return 0===(t=t||n).depth&&(t.styles||(t.styles={}),t.styles["stroke-width"]=0),(i=Eo.call(this,t)||this)._id=n.id,i._depth=void 0===t.depth?n.depth:+t.depth,i.SOC=t.SOC||n.SOC,i.Qh=(void 0===t.zIndex?n:t).zIndex,"CHN"===i.SOC&&1<i._depth&&(i.SOC="CHN2"),i.Be=i.Ml.replace("[SOC]",i.SOC),i.CLASS_NAME="AMap.DistrictLayer.Country",i}var jo,F=(jo=To,Y.Ei(Bo,jo),Bo);function Bo(t){var i=this,n={id:"ProvinceLayer_"+Y.Util.uuid(),depth:1,zIndex:83,SOC:"CHN5"};return(i=jo.call(this,t)||this)._id=n.id,i._depth=void 0===t.depth?n.depth:+t.depth,i.SOC=t.SOC||n.SOC,i.Qh=(void 0===t.zIndex?n:t).zIndex,0===i._depth&&(i.SOC="CHN4"),1===i._depth&&(i.SOC="CHN5"),2===i._depth&&(i.SOC="CHN3"),i.Be=i.Ml.replace("[SOC]",i.SOC),i.CLASS_NAME="AMap.DistrictLayer.Province",i.onCreated(),i}To.World=Ve,To.Country=Ro,To.Province=F;var Wo,Go,No,_o=(Fo=config,Wo=(Fo=void 0===Fo?[]:Fo)[16]+"://"+Fo[17]||"",Go=Fo[4],No=Fo[0],Y.Module.module=function(t,i){var s=n(t=Array.isArray(t)?t:[t]);0===s.length?i&&i():(f.add(s,i),e(Wo+"/mapsplugin?v="+Go+"&cls="+s.join()+"&key="+No,function(){for(var t=0,i=s;t<i.length;t++){var n=i[t];f.finish(n)}}))},function(t,i){var s=n(t=Array.isArray(t)?t:[t]);0===s.length?i():(f.add(s,i),e(Wo+"/mapsplugin?v="+Go+"&cls="+s.join()+"&key="+No,function(){for(var t=0,i=s;t<i.length;t++){var n=i[t];f.finish(n)}}))});function Uo(){return Yo}s('.amap-custom{top:0;left:0;position:absolute}.amap-container img{max-width:none!important;max-height:none!important}.amap-container{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACC2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjE8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KD0UqkwAAAf1JREFUeAHtmtGpAkEQBE9TMAi/zMb8MzCGU/97Ye8QunDrfQ7qNFUMS8Pbtom/fd8fEx/b/FymdIDL85p/wmmLgEJa5Ad7FTIA0xorpEV+sFchAzCtsUJa5Ad7FTIA0xorpEV+sPcyW1oG33f8WwL3qZ+blebnMs4DXGzqGWFv6hvSYx83KyRi6Q0V0mMfNyskYukNFdJjHzcrJGLpDRXSYx8329QjltrQpp7QH2jWv/5fA5t6EtKc+YY06YfdCglQmiOFNOmH3QoJUJojhTTph90KCVCaI4U06YfdNvUApTiyqSf4NvVEZdGZbwhMvEIUAiMAi+OFKARGABbHC1EIjAAsjk2dJcSmnnzY1BOVRWc+6jDxClEIjAAsjheiEBgBWBwvRCEwArA4/9LUbx+uLxjbM3Fs6omaTT1RWXTmow4TrxCFwAjA4nghCoERgMXxQhQCIwCL8y9NHYb1dBybekJnU09UFp35qMPEK0QhMAKwOF6IQmAEYHG8EIXACMDi2NRZQmzqyYdNPVFZdOajDhOvEIXACMDieCEKgRGAxfFCFAIjAItjU2cJsaknHzb1RGXRmY86TLxCFAIjAIvjhSgERgAWxwtRCIwALI5NnSXEpp582NQTlUVnPuow8QpRCIwALI4XohAYAVgcL0QhMAKwON+m/oRlWjrOG2SeYNIaKe7fAAAAAElFTkSuQmCC);background-color:#f1f1f1;touch-action:none;position:relative;overflow:hidden;-ms-touch-action:none}.amap-drags,.amap-layers{width:100%;height:100%;position:absolute;overflow:hidden;transform:translateZ(0)}.amap-layers canvas{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.amap-layers .amap-layer-tile{transform:translateZ(0)}.amap-layers .amap-layer-tile,.amap-layers .amap-layer-tile img{position:absolute;top:0;left:0;user-select:none;-webkit-user-select:none}.amap-layers .amap-layer-image{position:absolute;top:0;left:0;transform:translateZ(0)}.amap-layers .amap-layer-image img{position:absolute;top:0;left:0}.amap-layer img{pointer-events:none;display:block}.amap-layers .amap-layer-overlay{position:absolute;top:0;left:0;transform:translateZ(0)}.amap-e,.amap-maps{width:100%;height:100%;outline:none}.amap-maps{z-index:0}.amap-e,.amap-layers,.amap-maps,.amap-tile-container{position:absolute;left:0;top:0;overflow:hidden}.amap-context,.amap-marker,.amap-markers,.amap-overlays{position:absolute;left:0;top:0}.amap-layers{z-index:0}.amap-overlays{z-index:110;cursor:default}.amap-markers{z-index:120}.amap-controls{z-index:150}.amap-copyright{display:block!important;left:77px;height:16px;bottom:0;padding-bottom:2px;font-size:11px;font-family:Arial,sans-serif}.amap-copyright,.amap-logo{position:absolute;z-index:160;user-select:none;-webkit-user-select:none}.amap-logo{bottom:1px;left:1px;height:20px}.amap-logo img{width:73px!important;height:20px!important;border:none;vertical-align:baseline!important;user-select:none;-webkit-user-select:none}.amap-icon{position:relative;z-index:1}.amap-icon img{position:absolute;z-index:-1}.amap-marker-label{position:absolute;z-index:2;border:1px solid #00f;background-color:#fff;white-space:nowrap;cursor:default;padding:3px;font-size:12px;line-height:14px}.amap-info{left:0;width:fit-content;width:-webkit-fit-content;width:-moz-max-content}.amap-info,.amap-menu{position:absolute;z-index:140}.amap-info-close{position:absolute;right:5px;top:5px;color:#c3c3c3;text-decoration:none;font:700 16px/14px Tahoma,Verdana,sans-serif;width:14px;height:14px;cursor:pointer}.amap-info-outer,.amap-menu-outer{box-shadow:0 1px 2px rgba(0,0,0,.1);background:none repeat scroll 0 0 #fff;border-radius:2px;padding:1px;text-align:left}.amap-info-contentContainer:hover .amap-info-outer,.amap-menu-outer:hover{box-shadow:0 1px 2px rgba(0,0,0,.3)}.amap-info-content{position:relative;background:#fff;padding:10px 18px 10px 10px;line-height:1.4;overflow:auto}.amap-marker-content{position:relative}.amap-info-sharp-old{overflow:hidden;position:absolute;background-image:url(https://webapi.amap.com/images/arrows.png)}.bottom-center .amap-info-sharp-old{height:12px;width:20px;background-position:center 12px;top:100%;left:50%;margin:-9px auto 0 -10px}.bottom-left .amap-info-sharp-old{height:12px;width:13px;background-position:-16px -46px;top:100%;margin-top:-9px}.bottom-right .amap-info-sharp-old{height:12px;width:13px;top:-1px;background-position:-56px -46px;left:100%;margin-left:-13px;top:100%;margin-top:-9px}.middle-left .amap-info-sharp-old{height:20px;width:12px;background-position:0;top:50%;margin-top:-10px;margin-left:-11px}.center .amap-info-sharp-old{display:none}.middle-right .amap-info-sharp-old{height:20px;margin-right:0;width:12px;background-position:100%;left:100%;margin-left:-9px;top:50%;margin-top:-10px}.top-center .amap-info-sharp-old{height:12px;width:20px;background-position:top;top:0;left:50%;margin:-3px auto 0 -10px}.top-left .amap-info-sharp-old{height:12px;width:13px;background-position:-16px -3px;top:0;margin-top:-3px}.top-right .amap-info-sharp-old{height:12px;width:13px;background-position:-56px -3px;left:100%;margin-left:-13px;top:0;margin-top:-3px}.amap-info-sharp{position:absolute}.bottom-center .amap-info-sharp{bottom:0;left:50%;border-top:8px solid #fff}.bottom-center .amap-info-sharp,.bottom-center .amap-info-sharp:after{margin-left:-8px;border-left:8px solid transparent;border-right:8px solid transparent}.bottom-center .amap-info-sharp:after{position:absolute;content:"";margin-top:-7px;border-top:8px solid rgba(0,0,0,.3);filter:blur(2px);z-index:-1}.amap-info-contentContainer:hover.bottom-center .amap-info-sharp:after{border-top:8px solid rgba(0,0,0,.5)}.bottom-left .amap-info-sharp{border-color:transparent #fff;border-style:solid;border-width:0 0 10px 10px}.bottom-left .amap-info-sharp:after{position:absolute;content:"";margin-left:-10px;border-color:transparent rgba(0,0,0,.3);border-style:solid;border-width:0 0 10px 10px;filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.bottom-left .amap-info-sharp:after{border-color:transparent rgba(0,0,0,.5)}.bottom-left .amap-info-content{border-radius:2px 2px 2px 0}.bottom-right .amap-info-sharp{right:0;border-top:10px solid #fff;border-left:10px solid transparent}.bottom-right .amap-info-sharp:after{position:absolute;margin-top:-9px;margin-left:-10px;content:"";border-top:10px solid rgba(0,0,0,.3);border-left:10px solid transparent;filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.bottom-right .amap-info-sharp:after{border-top:10px solid rgba(0,0,0,.5)}.bottom-right .amap-info-content{border-radius:2px 2px 0 2px}.top-center .amap-info-sharp{top:0;left:50%;border-bottom:8px solid #fff}.top-center .amap-info-sharp,.top-center .amap-info-sharp:after{margin-left:-8px;border-left:8px solid transparent;border-right:8px solid transparent}.top-center .amap-info-sharp:after{position:absolute;content:"";margin-top:0;border-bottom:8px solid rgba(0,0,0,.3);filter:blur(1px);z-index:-1}.top-left .amap-info-sharp{left:0;top:0;border-bottom:10px solid #fff;border-right:10px solid transparent}.top-left .amap-info-sharp:after{position:absolute;content:"";margin-top:0;margin-left:0;border-bottom:10px solid rgba(0,0,0,.3);border-right:10px solid transparent;filter:blur(1px);z-index:-1}.top-right .amap-info-sharp{right:0;top:0;border-bottom:10px solid #fff;border-left:10px solid transparent}.top-right .amap-info-sharp:after{position:absolute;content:"";margin-top:0;margin-left:-10px;border-bottom:10px solid rgba(0,0,0,.3);border-left:10px solid transparent;filter:blur(1px);z-index:-1}.middle-right .amap-info-sharp{right:0;top:50%;border-left:8px solid #fff}.middle-right .amap-info-sharp,.middle-right .amap-info-sharp:after{margin-top:-8px;border-top:8px solid transparent;border-bottom:8px solid transparent}.middle-right .amap-info-sharp:after{position:absolute;content:"";margin-left:-8px;border-left:8px solid rgba(0,0,0,.3);filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.middle-right .amap-info-sharp:after{border-left:8px solid rgba(0,0,0,.5)}.middle-left .amap-info-sharp{left:0;top:50%;border-right:8px solid #fff}.middle-left .amap-info-sharp,.middle-left .amap-info-sharp:after{margin-top:-8px;border-top:8px solid transparent;border-bottom:8px solid transparent}.middle-left .amap-info-sharp:after{position:absolute;content:"";margin-left:0;border-right:8px solid rgba(0,0,0,.3);filter:blur(1px);z-index:-1}.amap-info-contentContainer:hover.middle-left .amap-info-sharp:after{border-right:8px solid rgba(0,0,0,.5)}.amap-info-contentContainer.top-center,.amap-info-contentContainer.top-left,.amap-info-contentContainer.top-right{padding-top:8px}.amap-info-contentContainer.bottom-center,.amap-info-contentContainer.bottom-left,.amap-info-contentContainer.bottom-right{padding-bottom:8px}.amap-info-contentContainer.middle-right{padding-right:8px}.amap-info-contentContainer.middle-left{padding-left:8px}.amap-menu-outer{margin:0;padding:0;list-style-type:none}ul.amap-menu-outer li{height:35px;line-height:35px;word-break:break-all;padding:0 10px;font-size:12px;white-space:nowrap}ul.amap-menu-outer li a{text-decoration:none;font-size:13px;margin:0 5px;color:#000;padding:5px}ul.amap-menu-outer li:hover{background-color:#f3f3ee}.amap-overlay-text-container{display:block;width:auto;word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;background:#fff;padding:2px 3px;border:1px solid #ccc;border-radius:3px}.amap-overlay-text-container.amap-overlay-text-empty{display:none}.amap-info-content-ie8{border:1px solid #9c9c9c}.amap-control{position:absolute;-webkit-tap-highlight-color:transparent}.amap-toolbar{background-color:#fff;border-radius:4px;box-shadow:0 0 3px rgba(0,0,0,.5)}.amap-toolbar span{display:block;width:30px;height:30px;line-height:30px;text-align:center;border-radius:0 0 4px 4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:20px}.amap-toolbar span:first-child{border-bottom:1px solid #eee;border-radius:4px 4px 0 0}.amap-toolbar span:hover{font-weight:bolder;background-color:#f0f0f0}.amap-scalecontrol{pointer-events:none;background-color:hsla(0,0%,100%,.5);border-radius:2px;user-select:none}.amap-scalecontrol .amap-scale-text{font-size:10px;text-align:center;transition:width .3s;user-select:none}.amap-scalecontrol .amap-scale-line{position:relative;height:8px;left:2px;user-select:none}.amap-scalecontrol .amap-scale-edgeleft,.amap-scalecontrol .amap-scale-edgeright,.amap-scalecontrol .amap-scale-middle{position:absolute;background-color:#333;overflow:hidden;box-sizing:content-box!important}.amap-scalecontrol .amap-scale-edgeright{width:1px;height:6px;border:1px solid #fff;transition:left .3s}.amap-scalecontrol .amap-scale-middle{height:2px;left:2px;top:2px;border-top:1px solid #fff;border-bottom:1px solid #fff;transition:width .3s}.amap-scalecontrol .amap-scale-edgeleft{width:1px;height:6px;border:1px solid #fff}.amap-controlbar,.amap-controlbar *{user-select:none}.amap-controlbar .amap-luopan{width:92px;height:92px;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -22px -30px no-repeat;background-size:348px 270px;user-select:none}.amap-luopan .amap-compass{top:46px;left:50%;position:absolute;margin:-24px;width:48px;height:48px;z-index:10;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -231px -26px no-repeat;background-size:348px 270px}.amap-luopan .amap-compass.amap-compass-black{background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) no-repeat -231px -79px;background-size:348px 270px}.amap-luopan .amap-compass .amap-pointers{position:absolute;width:30px;height:48px;top:0;left:9px;border:none;z-index:2;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -281px -26px no-repeat;background-size:348px 270px}.amap-pitchDown,.amap-pitchUp{width:30px;height:25.5px;position:absolute;top:3.5px;margin-left:-15px;left:50%;z-index:1;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -302.5px -49px no-repeat;background-size:348px 270px}.amap-pitchDown:hover,.amap-pitchUp:hover{background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) no-repeat -302.5px -23.5px;background-size:348px 270px}.amap-pitchDown{top:66px;transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);-o-transform:rotate(180deg);-moz-transform:rotate(180deg)}.amap-rotateLeft,.amap-rotateRight{width:21px;height:52px;top:19px;position:absolute;z-index:2;background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) -301.5px -77px no-repeat;background-size:348px 270px}.amap-rotateLeft:hover,.amap-rotateRight:hover{background:url(https://webapi.amap.com/theme/v1.3/controlbar/ctb.png) no-repeat -278.5px -76.5px;background-size:348px 270px}.amap-rotateLeft{left:5px}.amap-rotateRight{right:5px;transform:rotateY(180deg);-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-o-transform:rotateY(180deg);-moz-transform:rotateY(180deg)}.amap-ctrl-icon-layer{width:30px;height:30px}.amap-ctrl-icon-layer,.amap-ctrl-list-layer{background-color:#fff;border-radius:3px;box-shadow:0 0 4px 1px rgba(0,0,0,.2)}.amap-ctrl-list-layer{position:absolute;top:0;right:0;overflow:hidden;z-index:1}.amap-ctrl-list-layer ul{overflow:hidden;list-style:none;margin:0;padding:5px 8px}.amap-ctrl-list-layer ul li{float:left;width:100%}.amap-ctrl-list-layer ul p{white-space:nowrap;font-size:12px;height:20px;line-height:20px;padding-left:5px;margin:0 10px}.amap-ctrl-list-layer input{float:left;height:20px;width:12px;margin:0 5px}.amap-ctrl-base-layer{border-bottom:1px solid #eee}.amap-ranging-label{_width:10px;font-size:12px;line-height:14px;background:#fff;border:1px solid #ccc;padding:3px 7px 3px 2px;white-space:nowrap}.amap-ranging-label span{height:12px;vertical-align:center;display:inline-block;white-space:nowrap;margin-left:5px}.amap-popup{text-align:center;position:fixed;top:50%;left:50%;margin-left:-165px;margin-top:-170px}.amap-popup-content{vertical-align:middle;line-height:200px;overflow:hidden;background-color:#fff;border:solid;border-width:3px 1px;border-radius:5px;border-color:#ddf;margin:0 auto;text-align:center;height:340px}.amap-labellayers{position:absolute;top:0;left:0;transform-origin:0 0}.amap-indoormap-floorbar-control{position:absolute;width:40px;text-align:center;line-height:1.3em;border-radius:20px;box-shadow:0 0 3px 3px rgba(0,0,0,.1);background-color:#fff;margin-top:-100px}.amap-indoormap-floorbar-control .floor-list-box{max-height:160px;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;-webkit-user-select:none;-moz-user-select:none}.floor-list-box::-webkit-scrollbar{width:0!important;height:0!important}.amap-indoormap-floorbar-control ul{list-style:none;margin:0;padding:0 4px;width:40px;box-sizing:border-box}.amap-indoormap-floorbar-control ul li{height:32px;width:32px;border-radius:16px}.amap-indoormap-floorbar-control ul li:hover{background-color:#efefef}.amap-indoormap-floorbar-control ul li div{height:32px;text-align:center;line-height:32px;font-size:12px}.amap-indoormap-floorbar-control ul li.selected{color:#fff;background-color:#4196ff}.amap-indoormap-floorbar-control .floor-minus,.amap-indoormap-floorbar-control .floor-plus{height:32px;width:32px;margin:0 auto;border-radius:16px;position:relative}.amap-indoormap-floorbar-control .floor-minus:after,.amap-indoormap-floorbar-control .floor-plus:after{content:"";position:absolute;margin:auto;bottom:4px;left:0;right:0;width:0;height:0;border:7px solid transparent;border-top-color:#777}.amap-indoormap-floorbar-control .floor-plus:after{border-bottom-color:#777;border-top-color:transparent;bottom:11px}.amap-indoormap-floorbar-control .floor-plus:hover:after{border-bottom-color:#222}.amap-indoormap-floorbar-control .floor-minus:hover:after{border-top-color:#222}.amap-indoormap-floorbar-control .floor-plus.disabled:after{border-bottom-color:#ddd}.amap-indoormap-floorbar-control .floor-minus.disabled:after{border-top-color:#ddd}.amap-indoormap-floorbar-control .floor-list-item.selected:after{right:0;left:auto;border-left-color:transparent;border-right-color:#4196ff}.amap-indoormap-floorbar-control .floor-btn.disabled,.amap-indoormap-floorbar-control .floor-btn.disabled *,.amap-indoormap-floorbar-control.with-indrm-loader *{-webkit-pointer-events:none!important;pointer-events:none!important}.amap-indoormap-floorbar-control .with-indrm-loader .floor-nonas{opacity:.5}'),-1!==(Et=0!==(Et=window.location.href).indexOf("http")&&window.parent&&window.parent!==window?window.parent.location.href:Et).indexOf("?")&&(Et=Et.substr(0,Et.indexOf("?"))),Et=encodeURIComponent(Et),Jt=(jt=config[16]||config[2].split(":")[0])+"://restapi.amap.com",ni=(It=jt+"://"+config[2].split("://")[1])+"/theme/v1.3/markers/"+(Y.Support.Ue?"b":"n"),bt=jt+"://webrd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x=[x]&y=[y]&z=[z]",Mt=jt+"://wprd0{1,2,3,4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&style=7&x=[x]&y=[y]&z=[z]",Ve=St="",window._AMapSecurityConfig&&(window._AMapSecurityConfig.securityJsCode?St=window._AMapSecurityConfig.securityJsCode||"":window._AMapSecurityConfig.serviceHost&&(Ro="",F=(Ro="https"===(Ve=window._AMapSecurityConfig.serviceHost||"").split(":")[0]?Ve.replace(/https:\/\/\S+?\//g,""):Ve.replace(/http:\/\/\S+?\//g,""))&&Ro.split("/")[0],Ro=window.location.hostname,"_AMapService"!==F&&("127.0.0.1"===Ro||"localhost"===Ro?window.alert("使用 JSAPI 安全模式，代理服务请以_AMapService 作为一级路由"):"undefined"!=typeof console&&console.log("<AMap JSAPI> 使用 JSAPI 安全模式，代理服务请以_AMapService 作为一级路由"))));var Yo={key:config[0],host:config[2],domain:config[17],server:Jt,protocol:jt,version:config[4],adcode:config[6],callback:config[5],appname:Et,client:It,markers:ni,pc:"http://gaode.com",mo:"http://m.amap.com",workerUrl:"",YT:bt,qT:Mt,y_:Y.Support.$e?Mt:bt,v_:"\x3c!--v2.0--\x3e &copy "+(new Date).getFullYear()+" AutoNavi ",db:config[14]||"",JH:config[15]||"",jscode:St,gaodeserver:Ve,vdataProxy:""};return St=(new Date).getTime(),Ve=["platform=JS&s=rsv3&logversion=2.0&product=JsInit&key="+Yo.key,"t="+St],St=Yo.server+"/v3/log/init?",Ve.push("sdkversion=2.0"),Ve.push("appname="+Et),Ve.push("csid="+Y.Util.uuid()),Ve.push("resolution="+window.screen.width+"*"+window.screen.height),Ve.push("mob="+(Y.Support.$e?1:0)),Ve.push("vt="+(Y.Support.isWebGL?1:0)),Ve.push("dpr="+window.devicePixelRatio),Ve.push("scale="+(Y.Support.Ue?2:1)),Ve.push("detect="+Y.Support.Ue),Yo.jscode?Ve.push("jscode="+Yo.jscode):Yo.gaodeserver&&(St=Yo.gaodeserver+"/v3/log/init?"),St+=Ve.join("&"),qt.JSONP(St),function(t){return t[1]&&(Ye=t[1].slice(-2),Ne=t[1].slice(0,4)),{Map:Xe,ImageLayer:$e,createDefaultLayer:jr,TileLayer:Xi,NebulaLayer:Ai,Buildings:Or,Indoor:ko,SkyLayer:is,DistrictLayer:To,CanvasLayer:sr,CustomLayer:ar,GLCustomLayer:Nr,LabelsLayer:qn,MassMarks:lr,Event:Y.Event,version:"2.0",plugin:_o,LngLat:Y.LngLat,Pixel:Y.Pixel,Size:Y.Size,Icon:Ws,Bounds:lt,extent:ct,Marker:ce,Text:yr,InfoWindow:we,ContextMenu:Ee,LabelMarker:wr,Polygon:Eh,Rectangle:Fh,Ellipse:Nh,Circle:Yh,CircleMarker:Vh,Polyline:no,BezierCurve:co,OverlayGroup:Kr,VectorLayer:Rn,LayerGroup:Yr,Control:zr,DomUtil:w,Util:Y.Util,GeometryUtil:Y.GeometryUtil,Browser:Lr,UA:{ie:Lr.ie,ie9:Lr.ie9,ie11:Lr.ie11,mobile:Lr.mobile,android:Lr.android,ios:Lr.ios},PlaneGeometryUtil:Y.PlaneGeometryUtil,getConfig:Uo,WebService:Fe,extend:Y.extend,Http:qt,addCss:s,BuryPoint:Rr,lcs:Y.lcs,convertFrom:Ge,Heatmap:Xr,IndoorMap:xo,Mapbox:qr,BuildingLayer:Or,_YUN:Y}}});var __AMap_callback=AMap.getConfig().callback,tryGetCallback,tryCallback;return __AMap_callback&&(tryGetCallback=function(){var c=__AMap_callback.split("."),context=window;do{if(!(context=context[c.shift()]))return null}while(c.length);return context||null},tryCallback=function(isFinalTry){var func=tryGetCallback();if(func){if("function"!=typeof func)throw new Error(__AMap_callback+" is not a function!");setTimeout(func.bind(null, null, AMap),1)}else if(isFinalTry)throw new Error("Can not find callback: "+__AMap_callback+", try define it before load JsApi!")},document.body&&tryGetCallback()?tryCallback():setTimeout(function(){tryCallback(!0)},1)),AMap});
(typeof _cssload_=="function")&&_cssload_("logo",".amap-logo{display:block!important;pointer-events:none;}",true)})([globalThis.AMapKey,[0,0,0,0],"https://webapi.amap.com",1,"2.0.5.10","___onAPILoaded","0","",true,false,false,true,"20220726011500-20201123-1",false,"D","3_22_11_10_00","https","webapi.amap.com",1])